{"version":3,"file":"index-bc1c0f4e.js","sources":["../../vite/modulepreload-polyfill","../../src/environment.ts","../../src/universal/context.ts","../../src/app/environment.ts","../../src/config/api.config.ts","../../src/config/app.config.ts","../../src/language/key.ts","../../src/language/lang-zh.ts","../../src/language/lang-en.ts","../../src/language/index.ts","../../src/universal/ref.ts","../../src/constants/error.ts","../../src/transforms/ua.ts","../../src/app/state.ts","../../src/universal/prefetch.ts","../../src/universal/index.ts","../../src/services/nodepress.ts","../../src/stores/announcement.ts","../../src/transforms/moment.ts","../../src/stores/archive.ts","../../src/constants/anchor.ts","../../src/effects/highlight/index.ts","../../src/effects/lozad.ts","../../src/transforms/text.ts","../../src/transforms/validate.ts","../../src/utils/scroller.ts","../../src/composables/i18n.ts","../../src/composables/meta.ts","../../src/transforms/gtag.ts","../../src/utils/scripter.ts","../../src/composables/gtag.ts","../../src/utils/storage.ts","../../src/composables/theme.ts","../../src/composables/defer.ts","../../plugin-vue:export-helper","../../src/composables/loading/progress.vue","../../src/composables/loading/index.ts","../../src/composables/popup/constant.ts","../../src/composables/popup/hook.ts","../../src/stores/universal.ts","../../src/stores/meta.ts","../../src/constants/value.ts","../../src/app/enhancer.ts","../../src/constants/proxy.ts","../../src/transforms/url.ts","../../src/transforms/thumbnail.ts","../../src/constants/state.ts","../../src/transforms/state.ts","../../src/components/flow/mobile/item.vue","../../src/components/flow/mobile/mammon.vue","../../src/components/flow/mobile/index.vue","../../src/constants/tunnel.ts","../../src/config/bff.config.ts","../../src/services/tunnel.ts","../../src/stores/twitter.ts","../../src/components/flow/desktop/item.vue","../../src/components/flow/desktop/list.vue","../../src/effects/swiper/index.ts","../../src/pages/index/carrousel.vue","../../src/constants/gtag.ts","../../src/transforms/media.ts","../../src/pages/index/twitter.vue","../../src/pages/index/index.vue","../../src/stores/category.ts","../../src/components/flow/desktop/header.vue","../../src/pages/category.vue","../../src/stores/tag.ts","../../src/pages/tag.vue","../../src/pages/date.vue","../../src/pages/search.vue","../../src/utils/delayer.ts","../../src/stores/comment.ts","../../src/transforms/qrcode.ts","../../src/utils/opener.ts","../../src/effects/copyright.ts","../../src/utils/clipboard.ts","../../src/components/widget/share.vue","../../src/components/comment/helper.ts","../../src/components/comment/topbar.vue","../../src/components/comment/list/main.vue","../../src/transforms/avatar.ts","../../src/components/common/markdown.vue","../../src/components/comment/list/link.vue","../../src/transforms/emoji.ts","../../src/components/comment/list/location.vue","../../src/components/comment/list/user-agent.vue","../../src/components/comment/list/item.vue","../../src/components/comment/list/list.vue","../../src/components/comment/loadmore.vue","../../src/components/comment/publisher/main.vue","../../src/components/comment/publisher/publisher.vue","../../src/utils/editable.ts","../../src/components/comment/publisher/pen.vue","../../src/components/comment/index.vue","../../src/pages/article/skeleton.vue","../../src/pages/article/content.vue","../../src/pages/article/share.vue","../../src/pages/article/meta.vue","../../src/pages/article/upvote.vue","../../src/pages/article/related.vue","../../src/pages/article/neighbour.vue","../../src/pages/article/index.vue","../../src/components/common/fullpage/banner.vue","../../src/components/common/fullpage/title.vue","../../src/pages/archive.vue","../../src/pages/about/helper.ts","../../src/stores/aggregate.ts","../../src/pages/about/calendar/day.vue","../../src/pages/about/calendar/index.vue","../../src/pages/about/desktop.vue","../../src/pages/about/mobile.vue","../../src/pages/guestbook.vue","../../src/pages/app.vue","../../src/stores/lens.ts","../../src/utils/random.ts","../../src/pages/lens/skeleton.vue","../../src/pages/lens/instagram/gallery.vue","../../src/pages/lens/instagram/grid.vue","../../src/pages/lens/swiper.vue","../../src/pages/lens/youtube/videos.vue","../../src/pages/lens/youtube/playlist.vue","../../src/pages/lens/index.vue","../../src/transforms/email.ts","../../src/pages/job.vue","../../src/pages/merch/product.vue","../../src/pages/merch/index.vue","../../src/pages/freelancer.vue","../../src/app/router.ts","../../src/transforms/route.ts","../../src/transforms/relink.ts","../../src/transforms/markdown.ts","../../src/stores/article.ts","../../src/stores/wallpaper.ts","../../src/stores/index.ts","../../src/components/common/spin.vue","../../src/components/common/empty.vue","../../src/components/common/divider.vue","../../src/components/common/udate.ts","../../src/components/common/ulink.ts","../../src/components/common/uimage.ts","../../src/components/common/placeholder.ts","../../src/components/common/skeleton/base.vue","../../src/components/common/skeleton/line.vue","../../src/components/common/skeleton/paragraph.vue","../../src/components/common/responsive.ts","../../src/components/common/client-only.ts","../../src/app/component.ts","../../src/components/widget/emoji-rain.vue","../../src/transforms/layout.ts","../../src/components/root/error.vue","../../src/components/root/captured.vue","../../src/composables/music.ts","../../src/components/widget/music-player/player.vue","../../src/components/widget/music-player/handle.vue","../../src/components/widget/wallflower/flower.vue","../../src/components/widget/wallflower/garden.vue","../../src/components/widget/wallpaper/wall.vue","../../src/components/widget/wallpaper/switcher.vue","../../src/components/widget/background.vue","../../src/components/widget/toolbox.vue","../../src/components/widget/feedback.vue","../../src/components/widget/statement.vue","../../src/components/layout/desktop/menu.ts","../../src/components/layout/desktop/nav.vue","../../src/components/layout/desktop/aside/search.vue","../../src/components/layout/desktop/aside/article.vue","../../src/components/layout/desktop/aside/mammon.vue","../../src/components/layout/desktop/aside/tag.vue","../../src/components/layout/desktop/aside/anchor.vue","../../src/components/widget/calendar.vue","../../src/components/layout/desktop/aside/calendar.vue","../../src/components/layout/desktop/aside/index.vue","../../src/components/layout/desktop/header.vue","../../src/components/layout/desktop/footer.vue","../../src/components/layout/desktop/main.vue","../../src/components/layout/mobile/header.vue","../../src/components/layout/mobile/footer.vue","../../src/components/layout/mobile/aside.vue","../../src/components/layout/mobile/main.vue","../../src/app/index.vue","../../src/app/main.ts","../../src/composables/adsense.ts","../../src/composables/popup/root.vue","../../src/composables/popup/popup.ts","../../src/composables/popup/image.ts","../../src/composables/popup/index.ts","../../src/effects/amplitude.ts","../../src/transforms/text-2-image.ts","../../src/effects/titler.ts","../../src/effects/slogan.ts","../../src/effects/exporter.ts","../../src/effects/sticky.ts","../../src/effects/emoji-23333.ts","../../src/csr.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","/**\n * @file Dev environment\n * @module environment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum NodeEnv {\n  Development = 'development',\n  Production = 'production',\n  Test = 'test'\n}\n\nexport const NODE_ENV = process.env.NODE_ENV as NodeEnv\nexport const isDev = process.env.NODE_ENV === NodeEnv.Development\nexport const isProd = process.env.NODE_ENV === NodeEnv.Production\nexport const isTest = process.env.NODE_ENV === NodeEnv.Test\n","/**\n * @file App universal context\n * @module universal.context\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://github.com/nuxt/framework/blob/main/packages/nitro/src/runtime/app/render.ts\nimport { watchEffect } from 'vue'\nimport { isClient, isServer } from '/@/app/environment'\n\n// Symble\nconst SSR_SYMBLE_KEY = '__SSR__'\nexport const renderSSRSymbleScript = () => {\n  return `<script>window.${SSR_SYMBLE_KEY} = true</script>`\n}\nexport const getSSRSymbleStatus = () => Boolean((window as any)[SSR_SYMBLE_KEY])\n\n// Context\nconst SSR_CONTEXT_KEY = '__INITIAL_SSR_CONTEXT__'\nexport const renderSSRContextScript = (data: string) => {\n  return `<script>window.${SSR_CONTEXT_KEY} = ${data}</script>`\n}\nexport const getSSRContextData = (): Partial<SSRContext> | null => {\n  return (window as any)[SSR_CONTEXT_KEY] || null\n}\n\nexport interface SSRContext {\n  store: any\n  refs: any\n  url: string\n  [key: string]: any\n}\n\n// ssr context\nlet ssrContext: Partial<SSRContext> = {}\nexport const setSSRContext = (key: keyof SSRContext, value: any) => {\n  ssrContext[key] = value ? JSON.parse(JSON.stringify(value)) : value\n}\nexport const getSSRContext = (key: keyof SSRContext) => {\n  return isClient ? getSSRContextData()?.[key] : ssrContext[key]\n}\n\n// for app\nexport function rebirthSSRContext(app: any) {\n  ssrContext = Object.assign({}, {})\n  app.config.globalProperties.$ssrContext = ssrContext\n  return ssrContext\n}\nexport function getSSRContextByApp(app: any) {\n  return app.config.globalProperties.$ssrContext || ssrContext\n}\n\n/**\n * Allows full control of the hydration cycle to set and receive data from the server.\n *\n * @param key a unique key to identify the data in the Nuxt payload\n * @param get a function that returns the value to set the initial data\n * @param set a function that will receive the data on the client-side\n * @link https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/composables/hydrate.ts\n * @example\n    useHydration(\n      'store',\n      () => pinia.state.value,\n      (storeState) => (pinia.state.value = storeState)\n    )\n */\n// MARK: memory leak\nexport const useHydration = <T>(key: keyof SSRContext, get: () => T, set: (value: T) => void) => {\n  if (isServer) {\n    watchEffect(() => {\n      setSSRContext(key, get())\n    })\n  }\n  if (isClient) {\n    set(getSSRContext(key))\n  }\n}\n","/**\n * @file App environment\n * @module app.environment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { getSSRSymbleStatus } from '/@/universal/context'\n\n// app mode\nexport const isSSR = typeof window === 'undefined' || getSSRSymbleStatus()\nexport const isSPA = !isSSR\n\n// runtime env\nexport const isServer = import.meta.env.SSR\nexport const isClient = !isServer\n","/**\n * @file Api config\n * @module config.api\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isDev } from '/@/environment'\nimport { isSPA, isServer } from '/@/app/environment'\n\n// common\nconst API_PROXY_URL = import.meta.env.VITE_API_PROXY_URL as string\nconst API_LOCAL_URL = import.meta.env.VITE_API_LOCAL_URL as string\nconst API_ONLINE_URL = import.meta.env.VITE_API_ONLINE_URL as string\n\n// dev:\n//  SPA -> /api > dev server proxy > online API\n//  SSR -> server ? online api : /api\nconst DEV_API = isSPA ? API_PROXY_URL : isServer ? API_ONLINE_URL : API_PROXY_URL\n// const DEV_API = isSPA ? API_PROXY_URL : API_LOCAL_URL\n\n// prod:\n//  SPA -> online api\n//  SSR -> server ? localhost : online api\n// const PROD_API = API_ONLINE_URL\nconst PROD_API = isSPA ? API_ONLINE_URL : isServer ? API_LOCAL_URL : API_ONLINE_URL\n\nexport default {\n  FE: import.meta.env.VITE_FE_URL as string,\n  CDN: import.meta.env.VITE_CDN_URL as string,\n  PROXY: import.meta.env.VITE_PROXY_URL as string,\n  STATIC: import.meta.env.VITE_STATIC_URL as string,\n  NODEPRESS: isDev ? DEV_API : PROD_API\n}\n","/**\n * @file App config\n * @module config.app\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const DEFAULT_DELAY = 468\nexport const LONG_ARTICLE_THRESHOLD = 16688\nexport const PRIMARY_COLOR = '#0088f5'\nexport const GA_MEASUREMENT_ID = 'UA-84887611-3'\nexport const ADSENSE_CLIENT_ID = 'ca-pub-4710915636313788'\n\nexport const META = Object.freeze({\n  title: 'Surmon.me',\n  zh_sub_title: '来苏之望',\n  en_sub_title: 'Because the mountain is there',\n  url: 'https://surmon.me',\n  domain: 'surmon.me',\n  author: 'Surmon'\n})\n\nexport const SPECIAL_LINKS = Object.freeze([\n  {\n    name: 'iconfont',\n    url: 'https://www.iconfont.cn/'\n  },\n  {\n    name: `GitHub`,\n    url: 'https://github.com'\n  },\n  {\n    name: `PM2`,\n    url: 'https://pm2.keymetrics.io/'\n  },\n  {\n    name: `Vite`,\n    url: 'https://vitejs.dev/'\n  },\n  {\n    name: `Disqus`,\n    url: 'https://disqus.com/'\n  }\n])\n\nexport const THIRD_IDS = Object.freeze({\n  YOUTUBE_CHANNEL_ID: `UCoL-j6T28PLSJ2U6ZdONS0w`,\n  MUSIC_163_BGM_ALBUM_ID: '638949385',\n  GITHUB_USER_ID: 'surmon-china',\n  TWITTER_USER_ID: 'surmon7788',\n  INSTAGRAM_USERNAME: 'surmon666',\n  INSTAGRAM_FB_ID: '17841405600281893'\n})\n\nexport const VALUABLE_LINKS = Object.freeze({\n  RSS: '/rss.xml',\n  SITE_MAP: '/sitemap.xml',\n  SPONSOR: '/sponsor',\n\n  GITHUB_SURMON_ME: 'https://github.com/surmon-china/surmon.me',\n  GITHUB_NODEPRESS: 'https://github.com/surmon-china/nodepress',\n  GITHUB_SURMON_ME_NATIVE: 'https://github.com/surmon-china/surmon.me.native',\n  GITHUB_BLOG_STAR_LIST: 'https://github.com/stars/surmon-china/lists/surmon-me',\n  APP_APK_FILE:\n    'https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/dist/android/surmon.me.apk',\n\n  THROW_ERROR: 'https://throwerror.io',\n  FOX_FINDER: 'https://foxfinder.io',\n  GITHUB: 'https://github.com/surmon-china',\n  GITHUB_SPONSORS: 'https://github.com/sponsors/surmon-china',\n  PAYPAL: 'https://www.paypal.me/surmon',\n  UPWORK: 'https://www.upwork.com/freelancers/~0142e621258ac1770d',\n  MARKDOWN: 'https://daringfireball.net/projects/markdown/',\n  GOOGLE_LIVE_MAP: 'https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3',\n  DISCORD_GROUP: 'https://discord.gg/cXdGT7Gx86',\n  TELEGRAM: 'https://t.me/surmon',\n  TELEGRAM_GROUP: 'https://t.me/joinchat/F6wOlxYwSCUpZTYj3WTAWA',\n  SPOTIFY: 'https://open.spotify.com/user/v0kz9hpwpbqnmtnrfhbyl812o',\n  MUSIC_163: `https://music.163.com/#/playlist?id=${THIRD_IDS.MUSIC_163_BGM_ALBUM_ID}`,\n  YOUTUBE_CHANNEL: `https://www.youtube.com/channel/${THIRD_IDS.YOUTUBE_CHANNEL_ID}`,\n  DOUBAN: 'https://www.douban.com/people/nocower',\n  ZHIHU: 'https://www.zhihu.com/people/surmon',\n  QUORA: 'https://www.quora.com/profile/Surmon',\n  STACK_OVERFLOW: 'https://stackoverflow.com/users/6222535/surmon',\n  LEETCODE: 'https://leetcode.com/Surmon',\n  LINKEDIN: 'https://www.linkedin.com/in/surmon',\n  INSTAGRAM: `https://www.instagram.com/${THIRD_IDS.INSTAGRAM_USERNAME}`,\n  TWITTER: `https://twitter.com/${THIRD_IDS.TWITTER_USER_ID}`\n})\n","/**\n * @file Language keys\n * @module language.key\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum LanguageKey {\n  APP_SLOGAN = 'app-slogan',\n  CATEGORY_INSIGHT = 'insight',\n  CATEGORY_CODE = 'code',\n  PAGE_HOME = 'home',\n  PAGE_GITHUB = 'github',\n  PAGE_LENS = 'lens',\n  PAGE_JOB = 'job',\n  PAGE_MERCH = 'merch',\n  PAGE_ABOUT = 'about',\n  PAGE_FREELANCER = 'freelancer',\n  PAGE_GUESTBOOK = 'guestbook',\n  PAGE_APP = 'app',\n  PAGE_ARCHIVE = 'archive',\n  EMPTY_PLACEHOLDER = 'common-empty-placeholder',\n  NOT_FOUND = 'not-found',\n  BACK_TO_HOME_PAGE = 'back-to-home-page',\n  GUESTBOOK_SLOGAN = 'guestbook-banner-slogan',\n  PAGE_FREELANCER_SLOGAN = 'freelancer-page-banner-slogan',\n  PAGE_FREELANCER_EMAIL_ME = 'freelancer-email-me',\n  AD = 'ad',\n  BARRAGE = 'barrage',\n  FEEDBACK = 'feedback',\n  TO_TOP = 'to-page-top',\n  TO_BOTTOM = 'to-page-bottom',\n  ORIGIN_ORIGINAL = 'original',\n  ORIGIN_REPRINT = 'reprint',\n  ORIGIN_HYBRID = 'hybrid',\n  ACTION_ON = 'on',\n  ACTION_OFF = 'off',\n  MUSIC_PLACEHOLDER = 'music-placeholder',\n  SEARCH_PLACEHOLDER = 'search-input-placeholder',\n  HOT_ARTICLE_LIST_TITLE = 'hot-article-list-title',\n  ANNOUNCEMENT_PLACEHOLDER = 'announcement-empty-placeholder',\n  CATEGORY_PLACEHOLDER = 'category-empty-placeholder',\n  TAG_PLACEHOLDER = 'tag-placeholder',\n  ARTICLE_TITLE = 'article-title',\n  ARTICLE_VIEWS = 'article-views',\n  ARTICLE_PLACEHOLDER = 'article-empty-placeholder',\n  ARTICLE_READ_ALL = 'read-all-article-content',\n  ARTICLE_RENDERING = 'rendering',\n  ARTICLE_LIST_LOADMORE = 'loadmore',\n  ARTICLE_LIST_LOADING = 'loading',\n  ARTICLE_LIST_NO_MORE = 'no-more',\n  COMMENT_LIST_EMPTY = 'comment-list-placeholder',\n  COMMENT_UPVOTE = 'comment-likes',\n  COMMENT_DOWNVOTE = 'comment-dislikes',\n  COMMENT_REPLY = 'reply-comment',\n  COMMENT_DELETE = 'delete-comment',\n  COMMENT_DELETE_CONFIRM = 'delete-comment-confirm',\n  COMMENT_REPLY_CANCEL = 'cancel-reply-comment',\n  COMMENT_MODERATOR = 'comment-moderator',\n  COMMENT_SORT_OLD = 'oldest-comments',\n  COMMENT_SORT_NEW = 'newest-comments',\n  COMMENT_SORT_HOT = 'hottest-comments',\n  COMMENT_POST_NAME = 'comment-author-name',\n  COMMENT_POST_EMAIL = 'comment-author-email',\n  COMMENT_POST_SITE = 'comment-author-site-url',\n  COMMENT_POST_CONTENT = 'comment-content',\n  COMMENT_POST_PLACEHOLDER = 'comment-box-placeholder',\n  COMMENT_POST_ERROR_CONTENT = 'comment-submit-failed-of-content-error',\n  QUERY_PARAMS_ERROR = 'query-params-error',\n  POST_ACTION_ERROR = 'post-requiest-failed-of-other-error',\n  SUBMIT = 'submit-data',\n  SUBMITTING = 'submitting',\n  MOMENT_AM = 'moment-am',\n  MOMENT_PM = 'moment-pm',\n  MOMENT_JUST_NOW = 'moment-just-now',\n  MOMENT_MINUTES = 'moment-minutes',\n  MOMENT_HOURS = 'moment-hours',\n  MOMENT_WEEKS = 'moment-weeks',\n  MOMENT_DAYS = 'moment-days',\n  MOMENT_MONTHS = 'moment-months',\n  MOMENT_YEAR = 'moment-year',\n  MOMENT_AGO = 'moment-ago'\n}\n","import type { LanguageMap } from '.'\nimport { LanguageKey } from './key'\nimport { META } from '/@/config/app.config'\n\nexport const zhLangMap: LanguageMap = {\n  [LanguageKey.APP_SLOGAN]: META.zh_sub_title,\n  [LanguageKey.CATEGORY_INSIGHT]: '无色庵',\n  [LanguageKey.CATEGORY_CODE]: '宁静寺',\n  [LanguageKey.PAGE_HOME]: '明殿',\n  [LanguageKey.PAGE_GITHUB]: '丹青阁',\n  [LanguageKey.PAGE_ARCHIVE]: '万象殿',\n  [LanguageKey.PAGE_ABOUT]: '狂浪生',\n  [LanguageKey.PAGE_GUESTBOOK]: '四方馆',\n  [LanguageKey.PAGE_APP]: '客户端',\n  [LanguageKey.PAGE_LENS]: '茫涯',\n  [LanguageKey.PAGE_JOB]: '伯乐',\n  [LanguageKey.PAGE_MERCH]: '周边',\n  [LanguageKey.PAGE_FREELANCER]: '善巧堂',\n  [LanguageKey.EMPTY_PLACEHOLDER]: '空空如也',\n  [LanguageKey.NOT_FOUND]: '众里寻他 我已不再',\n  [LanguageKey.BACK_TO_HOME_PAGE]: '山河万里 长歌归故',\n  [LanguageKey.GUESTBOOK_SLOGAN]: '此心光明 亦复何言',\n  [LanguageKey.PAGE_FREELANCER_SLOGAN]: '为我一挥手，如临万壑松',\n  [LanguageKey.PAGE_FREELANCER_EMAIL_ME]: '放码过来',\n  [LanguageKey.AD]: '广而告之',\n  [LanguageKey.BARRAGE]: '畅言',\n  [LanguageKey.FEEDBACK]: '反馈',\n  [LanguageKey.TO_TOP]: '从头开始',\n  [LanguageKey.TO_BOTTOM]: '再来一屏',\n  [LanguageKey.ORIGIN_ORIGINAL]: '原创',\n  [LanguageKey.ORIGIN_REPRINT]: '转载',\n  [LanguageKey.ORIGIN_HYBRID]: '衍生',\n  [LanguageKey.ACTION_ON]: '开',\n  [LanguageKey.ACTION_OFF]: '关',\n  [LanguageKey.MUSIC_PLACEHOLDER]: '五音六律，七弦八度',\n  [LanguageKey.SEARCH_PLACEHOLDER]: '探索与觉知',\n  [LanguageKey.ANNOUNCEMENT_PLACEHOLDER]: '空空如也',\n  [LanguageKey.CATEGORY_PLACEHOLDER]: '未分类',\n  [LanguageKey.TAG_PLACEHOLDER]: '无标签',\n  [LanguageKey.ARTICLE_TITLE]: '文不加点',\n  [LanguageKey.ARTICLE_VIEWS]: '次阅读',\n  [LanguageKey.ARTICLE_PLACEHOLDER]: '空空如也',\n  [LanguageKey.ARTICLE_READ_ALL]: '阅读余下全文',\n  [LanguageKey.ARTICLE_RENDERING]: '渲染中..',\n  [LanguageKey.HOT_ARTICLE_LIST_TITLE]: '群贤毕至',\n  [LanguageKey.ARTICLE_LIST_LOADMORE]: '山河入梦',\n  [LanguageKey.ARTICLE_LIST_LOADING]: '人面桃花',\n  [LanguageKey.ARTICLE_LIST_NO_MORE]: '春尽江南',\n  [LanguageKey.COMMENT_LIST_EMPTY]: '期待你的捷足先登',\n  [LanguageKey.COMMENT_UPVOTE]: '赞',\n  [LanguageKey.COMMENT_DOWNVOTE]: '踩',\n  [LanguageKey.COMMENT_DELETE]: '删除',\n  [LanguageKey.COMMENT_DELETE_CONFIRM]: '确定要删除此评论吗？此操作不可恢复',\n  [LanguageKey.COMMENT_REPLY]: '回复',\n  [LanguageKey.COMMENT_REPLY_CANCEL]: '取消回复',\n  [LanguageKey.COMMENT_MODERATOR]: '博主',\n  [LanguageKey.COMMENT_SORT_OLD]: '最早',\n  [LanguageKey.COMMENT_SORT_NEW]: '最新',\n  [LanguageKey.COMMENT_SORT_HOT]: '最热',\n  [LanguageKey.COMMENT_POST_NAME]: '名字',\n  [LanguageKey.COMMENT_POST_EMAIL]: '邮箱',\n  [LanguageKey.COMMENT_POST_SITE]: '网址',\n  [LanguageKey.COMMENT_POST_CONTENT]: '内容',\n  [LanguageKey.COMMENT_POST_PLACEHOLDER]: '愿你的见解一针见血',\n  [LanguageKey.COMMENT_POST_ERROR_CONTENT]: '内容需要在 3000 字以内',\n  [LanguageKey.QUERY_PARAMS_ERROR]: '请求参数错误：',\n  [LanguageKey.POST_ACTION_ERROR]: '操作失败，详细原因 > 控制台',\n  [LanguageKey.SUBMIT]: '提交',\n  [LanguageKey.SUBMITTING]: '提交中...',\n  [LanguageKey.MOMENT_AM]: '上午',\n  [LanguageKey.MOMENT_PM]: '下午',\n  [LanguageKey.MOMENT_JUST_NOW]: '刚刚',\n  [LanguageKey.MOMENT_MINUTES]: '分钟',\n  [LanguageKey.MOMENT_HOURS]: '小时',\n  [LanguageKey.MOMENT_WEEKS]: '周',\n  [LanguageKey.MOMENT_DAYS]: '天',\n  [LanguageKey.MOMENT_MONTHS]: '个月',\n  [LanguageKey.MOMENT_YEAR]: '年',\n  [LanguageKey.MOMENT_AGO]: (args: { date: string }) => `${args.date}前`\n}\n","import type { LanguageMap } from '.'\nimport { LanguageKey } from './key'\nimport { META } from '/@/config/app.config'\n\nexport const enLangMap: LanguageMap = {\n  [LanguageKey.APP_SLOGAN]: META.en_sub_title,\n  [LanguageKey.CATEGORY_INSIGHT]: 'Insight',\n  [LanguageKey.CATEGORY_CODE]: 'Code',\n  [LanguageKey.PAGE_HOME]: 'Home',\n  [LanguageKey.PAGE_GITHUB]: 'GitHub',\n  [LanguageKey.PAGE_ARCHIVE]: 'Archive',\n  [LanguageKey.PAGE_ABOUT]: 'About',\n  [LanguageKey.PAGE_GUESTBOOK]: 'Guestbook',\n  [LanguageKey.PAGE_APP]: 'APP',\n  [LanguageKey.PAGE_LENS]: 'Lens',\n  [LanguageKey.PAGE_JOB]: 'Job',\n  [LanguageKey.PAGE_MERCH]: 'Merch',\n  [LanguageKey.PAGE_FREELANCER]: 'Freelancer',\n  [LanguageKey.EMPTY_PLACEHOLDER]: 'No data',\n  [LanguageKey.NOT_FOUND]: 'Arrives here at last',\n  [LanguageKey.BACK_TO_HOME_PAGE]: 'Drive by',\n  [LanguageKey.GUESTBOOK_SLOGAN]: 'You have come a long way',\n  [LanguageKey.PAGE_FREELANCER_SLOGAN]: 'Talk is cheap. Show me the code',\n  [LanguageKey.PAGE_FREELANCER_EMAIL_ME]: 'Email me',\n  [LanguageKey.AD]: 'AD',\n  [LanguageKey.BARRAGE]: 'Barrage',\n  [LanguageKey.FEEDBACK]: 'Feedback',\n  [LanguageKey.TO_TOP]: 'To top',\n  [LanguageKey.TO_BOTTOM]: 'Next screen',\n  [LanguageKey.ORIGIN_ORIGINAL]: 'OG',\n  [LanguageKey.ORIGIN_REPRINT]: 'RPT',\n  [LanguageKey.ORIGIN_HYBRID]: 'HY',\n  [LanguageKey.ACTION_ON]: 'on',\n  [LanguageKey.ACTION_OFF]: 'off',\n  [LanguageKey.MUSIC_PLACEHOLDER]: 'The music, the soul of man',\n  [LanguageKey.SEARCH_PLACEHOLDER]: 'Search...',\n  [LanguageKey.ANNOUNCEMENT_PLACEHOLDER]: 'No announcements',\n  [LanguageKey.CATEGORY_PLACEHOLDER]: 'no cate',\n  [LanguageKey.TAG_PLACEHOLDER]: 'No tags',\n  [LanguageKey.ARTICLE_TITLE]: 'Articles',\n  [LanguageKey.ARTICLE_VIEWS]: 'views',\n  [LanguageKey.ARTICLE_PLACEHOLDER]: 'No articles',\n  [LanguageKey.ARTICLE_READ_ALL]: 'Render all',\n  [LanguageKey.ARTICLE_RENDERING]: 'Rendering...',\n  [LanguageKey.HOT_ARTICLE_LIST_TITLE]: 'Hottest',\n  [LanguageKey.ARTICLE_LIST_LOADMORE]: 'Loadmore',\n  [LanguageKey.ARTICLE_LIST_LOADING]: 'Loading',\n  [LanguageKey.ARTICLE_LIST_NO_MORE]: 'No more',\n  [LanguageKey.COMMENT_LIST_EMPTY]: 'Be the first to comment',\n  [LanguageKey.COMMENT_UPVOTE]: 'upvote',\n  [LanguageKey.COMMENT_DOWNVOTE]: 'downvote',\n  [LanguageKey.COMMENT_DELETE]: 'delete',\n  [LanguageKey.COMMENT_DELETE_CONFIRM]:\n    'Are you sure you want to delete this comment? You cannot undo this action.',\n  [LanguageKey.COMMENT_REPLY]: 'reply',\n  [LanguageKey.COMMENT_REPLY_CANCEL]: 'cancel reply',\n  [LanguageKey.COMMENT_MODERATOR]: 'Moderator',\n  [LanguageKey.COMMENT_SORT_OLD]: 'Oldest',\n  [LanguageKey.COMMENT_SORT_NEW]: 'Newest',\n  [LanguageKey.COMMENT_SORT_HOT]: 'Hottest',\n  [LanguageKey.COMMENT_POST_NAME]: 'name',\n  [LanguageKey.COMMENT_POST_EMAIL]: 'email',\n  [LanguageKey.COMMENT_POST_SITE]: 'site',\n  [LanguageKey.COMMENT_POST_CONTENT]: 'content',\n  [LanguageKey.COMMENT_POST_PLACEHOLDER]: 'Hit the nail on the head',\n  [LanguageKey.COMMENT_POST_ERROR_CONTENT]: 'Content requirements are within 3000 words!',\n  [LanguageKey.QUERY_PARAMS_ERROR]: 'Invalid query params: ',\n  [LanguageKey.POST_ACTION_ERROR]: 'Failed! Get error detail in console',\n  [LanguageKey.SUBMIT]: 'Submit',\n  [LanguageKey.SUBMITTING]: 'Submitting...',\n  [LanguageKey.MOMENT_AM]: 'AM',\n  [LanguageKey.MOMENT_PM]: 'PM',\n  [LanguageKey.MOMENT_JUST_NOW]: 'Just now',\n  [LanguageKey.MOMENT_MINUTES]: 'minutes',\n  [LanguageKey.MOMENT_HOURS]: 'hours',\n  [LanguageKey.MOMENT_WEEKS]: 'weeks',\n  [LanguageKey.MOMENT_DAYS]: 'days',\n  [LanguageKey.MOMENT_MONTHS]: 'months',\n  [LanguageKey.MOMENT_YEAR]: 'year',\n  [LanguageKey.MOMENT_AGO]: (args: { date: string }) => `${args.date} ago`\n}\n","/**\n * @file I18n language\n * @module language\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { I18nLanguage, I18nValueRender } from '/@/composables/i18n'\nexport { LanguageKey } from './key'\nimport { LanguageKey } from './key'\nimport { zhLangMap } from './lang-zh'\nimport { enLangMap } from './lang-en'\n\nexport type LanguageValue = string | I18nValueRender\nexport type LanguageMap = Record<LanguageKey, LanguageValue>\n\nexport enum Language {\n  English = 'en',\n  Chinese = 'zh'\n}\n\nexport const languages: I18nLanguage<LanguageKey>[] = [\n  {\n    code: Language.Chinese,\n    iso: 'zh-CN',\n    name: '简体中文',\n    data: zhLangMap\n  },\n  {\n    code: Language.English,\n    iso: 'en-US',\n    name: 'English',\n    data: enLangMap\n  }\n]\n","/**\n * @file App universal ref\n * @module universal.ref\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { Ref, ref, customRef } from 'vue'\nimport { isClient, isSPA } from '/@/app/environment'\nimport { setSSRContext, getSSRContext } from './context'\n\nconst getRefData = (key: string) => getSSRContext('refs')[key]\nconst setRefData = (key: string, value: any) => {\n  setSSRContext('refs', {\n    ...getSSRContext('refs'),\n    [key]: value\n  })\n}\n\nconst getValue = <T>(value: T | (() => T)): T => {\n  return value instanceof Function ? value() : value\n}\n\nconst isProxyable = (value: unknown): value is Record<string, unknown> => {\n  return Boolean(value) && typeof value === 'object'\n}\n\n// server write only | client read only\n// https://github.com/nuxt-community/composition-api/blob/main/src/runtime/composables/ssr-ref.ts\nexport const universalRef = <T>(key: string, sourceValue: T | (() => T)): Ref<T> => {\n  // SPA\n  if (isSPA) {\n    return ref(getValue(sourceValue)) as Ref<T>\n  }\n\n  // SSR\n  let value = isClient ? getRefData(key) ?? getValue(sourceValue) : getValue(sourceValue)\n\n  // Client > return ref value\n  if (isClient) {\n    return ref(value) as Ref<T>\n  }\n\n  // Server > return customRef (sync setRef)\n  if (sourceValue instanceof Function) {\n    setRefData(key, value)\n  }\n\n  const getProxy = <T extends Record<string | number, any>>(\n    track: () => void,\n    trigger: () => void,\n    observable: T\n  ): T => {\n    return new Proxy(observable, {\n      get(target, prop: string) {\n        track()\n        if (isProxyable(target[prop])) {\n          return getProxy(track, trigger, target[prop])\n        }\n\n        const value = Reflect.get(target, prop)\n        return typeof value === 'function' ? value.bind(target) : value\n      },\n      set(object, prop, newValue) {\n        const result = Reflect.set(object, prop, newValue)\n        setRefData(key, value)\n        trigger()\n        return result\n      }\n    })\n  }\n\n  return customRef((track, trigger) => ({\n    get: () => {\n      track()\n      return isProxyable(value) ? getProxy(track, trigger, value) : value\n    },\n    set: (v: T) => {\n      setRefData(key, v)\n      value = v\n      trigger()\n    }\n  }))\n}\n","/**\n * @file Error constant\n * @module constant.error\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const BAD_REQUEST = 400\nexport const FORBIDDEN = 403\nexport const NOT_FOUND = 404\nexport const INVALID_ERROR = 500\n","/**\n * @file UA parser\n * @module transform.ua\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport parser from 'ua-parser-js'\nimport { Language } from '/@/language'\n\nexport const uaParser = (userAgent: string) => {\n  const parseResult = parser(userAgent || '')\n  const browserName = String(parseResult.browser.name).toLowerCase()\n  const isTargetDevice = (browsers: string[]) => {\n    return browsers.some((browser) => browser.toLowerCase() === browserName)\n  }\n\n  return {\n    result: parseResult,\n    isIE: isTargetDevice(['compatible', 'MSIE', 'IE']),\n    isEdge: isTargetDevice(['Edge']),\n    isFirefox: isTargetDevice(['Firefox']),\n    isChrome: isTargetDevice(['Chrome', 'Chromium']),\n    isSafari: isTargetDevice(['Safari']),\n    isWechat: isTargetDevice(['Wechat']),\n    isIos: parseResult.os.name === 'iOS',\n    isAndroid: parseResult.os.name === 'Android',\n    isMobile: parseResult.device.type === 'mobile'\n  }\n}\n\nconst isTargetLanguageUser = (language: UaLanguage, targetLang: string) => {\n  if (typeof language === 'string') {\n    return language.includes(targetLang)\n  }\n  if (Array.isArray(language)) {\n    return language.some((lang) => lang.includes(targetLang))\n  }\n  return false\n}\nexport type UaLanguage = string | string[]\nexport const isEnUser = (language: UaLanguage) => isTargetLanguageUser(language, Language.English)\nexport const isZhUser = (language: UaLanguage) => {\n  return language ? isTargetLanguageUser(language, Language.Chinese) : true\n}\n","/**\n * @file App local global state\n * @module app.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, ref, computed, reactive, readonly } from 'vue'\nimport { INVALID_ERROR } from '/@/constants/error'\nimport { uaParser, isZhUser } from '/@/transforms/ua'\nimport { universalRef, onClient } from '/@/universal'\n\ntype RenderErrorValue = RenderError | null\nexport interface RenderError {\n  code: number\n  message: string\n}\n\nexport enum ImageExt {\n  WebP = 'webp',\n  Jpg = 'jpeg'\n}\n\nexport enum LayoutColumn {\n  Normal = 0,\n  Wide = 1, // 3 column\n  Full = 2 // full page\n}\n\nexport interface GlobalRawState {\n  renderError: RenderErrorValue\n  userAgent: string\n  language: string\n  layout: LayoutColumn\n}\n\nexport interface GlobalStateConfig {\n  userAgent: string\n  language: string\n  layout: LayoutColumn\n}\n\nconst GlobalStateSymbol = Symbol('globalState')\nexport type GlobalState = ReturnType<typeof createGlobalState>\nexport const createGlobalState = (config: GlobalStateConfig) => {\n  // Render error\n  const renderError = universalRef<RenderErrorValue>('error', () => null)\n  const defaultError = { code: INVALID_ERROR }\n  const setRenderError = (error: any) => {\n    onClient(() => {\n      console.warn('App error:', error)\n    })\n    if (!error) {\n      // clear error\n      renderError.value = null\n    } else if (error instanceof Error) {\n      // new Error\n      renderError.value = {\n        code: (error as any).code ?? defaultError.code,\n        message: error.message\n      }\n    } else if (typeof error === 'string') {\n      // error message\n      renderError.value = {\n        ...defaultError,\n        message: error\n      }\n    } else {\n      // error object -> axios | component\n      renderError.value = {\n        ...error,\n        code: error.status || error.status || defaultError.code\n      }\n    }\n  }\n\n  // Hydrated\n  const isHydrated = ref(false)\n  const setHydrate = () => {\n    isHydrated.value = true\n  }\n\n  // UserAgent & device info\n  const userAgent = reactive({\n    original: config.userAgent,\n    language: config.language,\n    isZhUser: isZhUser(config.language),\n    ...uaParser(config.userAgent)\n  })\n  const setUserAgent = (_userAgent: string) => {\n    userAgent.original = _userAgent\n    Object.assign(userAgent, uaParser(config.userAgent))\n  }\n  const setLanguage = (_language: string) => {\n    userAgent.language = _language\n    userAgent.isZhUser = isZhUser(_language)\n  }\n\n  // UI layout\n  const layoutValue = ref(config.layout)\n  const layoutColumn = computed(() => ({\n    layout: layoutValue.value,\n    isNormal: layoutValue.value === LayoutColumn.Normal,\n    isWide: layoutValue.value === LayoutColumn.Wide,\n    isFull: layoutValue.value === LayoutColumn.Full\n  }))\n  const setLayoutColumn = (layout: LayoutColumn) => {\n    if (layout !== layoutValue.value) {\n      layoutValue.value = layout\n    }\n  }\n\n  // Aliyun OSS: https://oss.console.aliyun.com/bucket/oss-cn-hangzhou/surmon-static/process/img\n  // MARK: 微信/Safari/移动端无法精确判断兼容性，使用 jpg 格式\n  const imageExt = computed(() => {\n    const imageExtValue =\n      userAgent.isMobile || userAgent.isWechat || userAgent.isSafari\n        ? (ImageExt.Jpg as ImageExt)\n        : (ImageExt.WebP as ImageExt)\n    return {\n      ext: imageExtValue,\n      isJpg: imageExtValue === ImageExt.Jpg,\n      isWebP: imageExtValue === ImageExt.WebP\n    }\n  })\n\n  // Global switchers\n  const switcher = reactive({\n    sponsor: false,\n    feedback: false,\n    statement: false\n  })\n  const toggleSwitcher = (key: keyof typeof switcher, value: boolean) => {\n    switcher[key] = value\n  }\n\n  // export state\n  const toRawState = (): GlobalRawState => ({\n    renderError: renderError.value,\n    userAgent: userAgent.original,\n    language: userAgent.language,\n    layout: layoutValue.value\n  })\n\n  const globalState = {\n    toRawState,\n    // Render error state\n    renderError: readonly(renderError),\n    setRenderError,\n    // Hydrate state\n    isHydrated: readonly(isHydrated),\n    setHydrate,\n    // Layout state\n    layoutColumn,\n    setLayoutColumn,\n    // Device state\n    userAgent: readonly(userAgent),\n    imageExt,\n    // Global switchers\n    switcher: readonly(switcher),\n    toggleSwitcher\n  }\n\n  return {\n    ...globalState,\n    install(app: App) {\n      app.provide(GlobalStateSymbol, globalState)\n    }\n  }\n}\n\nexport const useGlobalState = (): GlobalState => {\n  return inject(GlobalStateSymbol) as GlobalState\n}\n","/**\n * @file App universal prefetch\n * @module universal.prefetch\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { onBeforeMount, onServerPrefetch } from 'vue'\nimport { useGlobalState } from '/@/app/state'\nimport { isServer, isSPA } from '/@/app/environment'\n\n// onServerPrefetch === async setup\n// onServerPreFetch: https://github.com/vuejs/composition-api/pull/198/files\n// https://github.com/vuejs/vue-next/blob/master/packages/server-renderer/src/render.ts#L96\n// https://github.com/nuxt-community/composition-api/blob/main/src/fetch.ts#L226\n// https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/composables/asyncData.ts\n// https://github.com/nuxt-community/composition-api/blob/main/src/runtime/composables/async.ts\nexport const useUniversalFetch = (fetcher: () => Promise<any>) => {\n  const globalState = useGlobalState()\n  const doFetchOnBeforeMount = () => {\n    onBeforeMount(() => fetcher())\n  }\n\n  // Client side: SPA\n  if (isSPA) {\n    doFetchOnBeforeMount()\n    return\n  }\n\n  // Server side: SSR\n  if (isServer) {\n    onServerPrefetch(() =>\n      fetcher().catch((error) => {\n        // HACK: 因为 onServerPrefetch 或 async setup 都无法中断 renderToString，所以需要在状态被抛出之前就做一个标记\n        globalState.setRenderError(error)\n        return Promise.reject(error)\n      })\n    )\n    return\n  }\n\n  // Client side: SSR\n  // Navigation: fetch on before mount\n  if (globalState.isHydrated.value) {\n    doFetchOnBeforeMount()\n  } else {\n    // Hydration: no fetch\n    // onServerPreFetch: https://github.com/vuejs/composition-api/pull/198/files\n    // isHydrating: https://github.com/vuejs/vue-next/issues/1723\n    // isHydrating: https://github.com/vuejs/vue-next/pull/2016\n  }\n}\n","/**\n * @file App universal\n * @module universal\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isServer, isClient } from '/@/app/environment'\nexport * from './context'\nexport * from './ref'\nexport * from './prefetch'\n\n// env only\nexport const onClient = (callback: any) => {\n  isClient && callback()\n}\n\nexport const onServer = (callback: any) => {\n  isServer && callback()\n}\n","/**\n * @file NodePress API service\n * @module service.nodepress\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios, { AxiosInstance, Method as AxiosMethod } from 'axios'\nimport { BAD_REQUEST } from '/@/constants/error'\nimport API_CONFIG from '/@/config/api.config'\nimport { isClient } from '/@/app/environment'\n\nexport enum NodePressResponseStatus {\n  Error = 'error',\n  Success = 'success'\n}\n\nexport type NodePressResult<T = any> = {\n  status: NodePressResponseStatus.Success\n  message: string\n  result: T\n}\n\nconst nodepress = axios.create({\n  baseURL: API_CONFIG.NODEPRESS,\n  withCredentials: true\n})\n\nnodepress.interceptors.response.use(\n  (response) => {\n    if (response.headers['content-type'].includes('json')) {\n      if (response.data.status !== NodePressResponseStatus.Success) {\n        return Promise.reject(response.data)\n      }\n    }\n\n    return response.data\n  },\n  (error) => {\n    const errorJSON = error.toJSON()\n    const errorInfo = {\n      ...errorJSON,\n      config: error.config,\n      code: errorJSON.status || error.response?.status || BAD_REQUEST,\n      message: error.response?.data?.error || error.response?.statusText || errorJSON.message\n    }\n\n    const serverErrorInfo = {\n      axiosName: errorJSON.name,\n      axiosMessage: errorJSON.message,\n      npError: errorInfo.message,\n      npMessage: error.response?.data?.message || '',\n      status: errorInfo.code,\n      method: errorJSON.config.method,\n      baseURL: errorJSON.config.baseURL,\n      params: errorJSON.config.params,\n      url: errorJSON.config.url,\n      data: errorJSON.config.data,\n      headers: errorJSON.config.headers\n    }\n\n    console.debug('axios error:', isClient ? error : serverErrorInfo)\n\n    return Promise.reject(errorInfo)\n  }\n)\n\ntype Method = Exclude<Lowercase<AxiosMethod>, 'unlink' | 'purge' | 'link'> | 'request'\nconst overwrite = (method: Method) => {\n  return <T = any>(\n    ...args: Parameters<AxiosInstance[typeof method]>\n  ): Promise<NodePressResult<T>> => {\n    return (nodepress[method] as any)(...args)\n  }\n}\n\nexport default {\n  $: nodepress,\n  request: overwrite('request'),\n  head: overwrite('head'),\n  get: overwrite('get'),\n  post: overwrite('post'),\n  put: overwrite('put'),\n  patch: overwrite('patch'),\n  delete: overwrite('delete'),\n  options: overwrite('options')\n}\n","/**\n * @file Announcement state\n * @module store.announcement\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport nodepress from '/@/services/nodepress'\n\nexport const useAnnouncementStore = defineStore('announcement', {\n  state: () => ({\n    fetching: false,\n    announcements: [] as Array<$TODO>\n  }),\n  actions: {\n    fetchList(params?: any) {\n      this.announcements = []\n      this.fetching = true\n      return nodepress\n        .get('/announcement', { params })\n        .then((response) => {\n          this.announcements = response.result.data\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","/**\n * @file Date time transformer\n * @module transform.moment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const cloneDate = (date: Date) => {\n  return new Date(date.getTime())\n}\n\n/** deconstruction date */\nexport type HumanDate = ReturnType<typeof dateToHuman>\nexport const dateToHuman = (date: Date) => {\n  const week = date.getDay()\n  return {\n    day: date.getDate(),\n    week: week === 0 ? 7 : week,\n    month: date.getMonth() + 1,\n    year: date.getFullYear()\n  }\n}\n\nexport const isSameHumanDay = (target: HumanDate, target2: HumanDate) => {\n  const isSameDay = target.day === target2.day\n  const isSameMonth = target.month === target2.month\n  const isSameYear = target.year === target2.year\n  return isSameDay && isSameMonth && isSameYear\n}\n\n/** `HumanData` > `Date` */\nexport const humanToDate = (humanDate: Omit<HumanDate, 'week'>) => {\n  const date = new Date()\n  date.setDate(humanDate.day)\n  date.setFullYear(humanDate.year)\n  date.setMonth(humanDate.month - 1)\n  return date\n}\n\n/** `HumanData` > `YYYY-MM-DD` */\nexport const humanDateToYMD = (\n  { year, month, day }: Partial<Omit<HumanDate, 'week'>>,\n  separator = '-'\n) => {\n  const _month = month ? separator + String(month).padStart(2, '0') : ''\n  const _day = day ? separator + String(day).padStart(2, '0') : ''\n  return `${year}${_month}${_day}`\n}\n\n/** `Date` | `Date string` > `YYYY-MM-DD` */\nexport const dateToYMD = (date: Date | string, separator?: string) => {\n  const _date = typeof date === 'string' ? new Date(date) : date\n  return humanDateToYMD(dateToHuman(_date), separator)\n}\n\n/** `YYYY-MM-DD` > `Date` */\nexport const ymdToDate = (date: string) => {\n  const [year, month, day] = date.split('-').map(Number)\n  return humanToDate({ year, month, day })\n}\n\n/** `Date` | `Date string` > local date string */\nexport const toLocalString = (date: string) => {\n  return date ? new Date(date).toLocaleString() : date\n}\n","/**\n * @file Archive state\n * @module store.archive\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { Article } from './article'\nimport { Category } from './category'\nimport { Tag } from './tag'\nimport { dateToHuman, HumanDate } from '/@/transforms/moment'\nimport nodepress from '/@/services/nodepress'\n\nexport interface Statistic {\n  tags: number\n  articles: number\n  comments: number\n  todayViews: number\n  totalViews: number\n  totalLikes: number\n}\n\nexport interface Archive {\n  articles: Article[]\n  categories: Category[]\n  tags: Tag[]\n}\n\nexport const useArchiveStore = defineStore('archive', {\n  state: () => ({\n    fetching: false,\n    statistic: null as null | Statistic,\n    archive: null as null | Archive\n  }),\n  getters: {\n    hydrated: (state) => {\n      if (!state.archive) {\n        return null\n      }\n\n      const { articles, tags, categories } = state.archive\n      const tagMap = new Map<string, Tag>(\n        tags.map((tag) => [tag._id, { ...tag, articles_count: 0 }])\n      )\n      const categoryMap = new Map<string, Category>(\n        categories.map((category) => [category._id, { ...category, articles_count: 0 }])\n      )\n      articles.forEach((article) => {\n        ;(article.tag as any as string[]).forEach((t) => {\n          if (tagMap.has(t)) {\n            tagMap.get(t)!.articles_count++\n          }\n        })\n        ;(article.category as any as string[]).forEach((c) => {\n          if (categoryMap.has(c)) {\n            categoryMap.get(c)!.articles_count++\n          }\n        })\n      })\n\n      return {\n        tags: Array.from(tagMap.values()),\n        categories: Array.from(categoryMap.values())\n      }\n    },\n    tree: (state) => {\n      const rootTree = [] as Array<{\n        year: number\n        months: Array<{\n          month: number\n          articles: Array<Article & { createAt: HumanDate }>\n        }>\n      }>\n\n      state.archive?.articles\n        .map((article) => ({\n          ...article,\n          createAt: dateToHuman(new Date(article.create_at))\n        }))\n        .sort(({ create_at: a }, { create_at: b }) => {\n          return Date.parse(b) - Date.parse(a)\n        })\n        .forEach((article) => {\n          const { createAt } = article\n          // year\n          const yearTree = rootTree.find((ye) => ye.year === createAt.year)\n          let targetYear = yearTree\n          if (!targetYear) {\n            targetYear = { year: createAt.year, months: [] }\n            rootTree.push(targetYear)\n          }\n          // month\n          const monthTree = targetYear.months.find((mo) => mo.month === createAt.month)\n          let targetMonth = monthTree\n          if (!targetMonth) {\n            targetMonth = { month: createAt.month, articles: [] }\n            targetYear.months.push(targetMonth)\n          }\n          // article\n          targetMonth.articles.push(article)\n        })\n      return rootTree\n    }\n  },\n  actions: {\n    fetchArchive() {\n      if (this.archive) {\n        return Promise.resolve()\n      }\n      this.fetching = true\n      return nodepress\n        .get<Archive>('/archive')\n        .then((response) => {\n          this.archive = response.result\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    },\n\n    fetchStatistic() {\n      if (this.statistic) {\n        return Promise.resolve()\n      }\n      this.fetching = true\n      return nodepress\n        .get<Statistic>('/expansion/statistic')\n        .then((response) => {\n          this.statistic = response.result\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","/**\n * @file Anchor constant\n * @module constant.anchor\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const HEADER_ELEMENT_ID = 'A_header'\nexport const NAV_ELEMENT_ID = 'A_nav'\nexport const MAIN_ELEMENT_ID = 'A_main'\nexport const MAIN_CONTENT_ELEMENT_ID = 'A_main'\nexport const ASIDE_ELEMENT_ID = 'A_aside'\nexport const FOOTER_ELEMENT_ID = 'A_footer'\n\nexport const ARTICLE_CONTENT_ELEMENT_ID = 'A_article_content'\nexport const ARTICLE_READMORE_ELEMENT_ID = 'A_article_readmore'\nexport const ARTICLE_META_ELEMENT_ID = 'A_article_meta'\nexport const ARTICLE_SHARE_ELEMENT_ID = 'A_article_share'\nexport const ARTICLE_RELATED_ELEMENT_ID = 'A_article_related'\n\nexport const ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX = 'A_article_content_heading'\nexport const getArticleContentHeadingElementID = (level: number, heading: string) => {\n  return `${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${level}_${heading}`\n}\n\nexport const COMMENT_ELEMENT_ID = 'A_comment_warpper'\nexport const COMMENT_PUBLISHER_ELEMENT_ID = 'A_comment_publisher'\nexport const COMMENT_REPLY_PUBLISHER_ELEMENT_ID = 'A_comment_reply_publisher'\nexport const COMMENT_FOOTER_ELEMENT_ID = 'A_comment_footer'\nexport const COMMENT_ITEM_ELEMENT_ID_PREFIX = 'A_comment_content_item'\nexport const getCommentItemElementID = (commentID: string | number) => {\n  return `${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${commentID}`\n}\n","/**\n * @file highlight.js\n * @module effect.highlight\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// MARK: vite.config.js\nimport hljs from 'highlight.js/lib/core'\nimport go from 'highlight.js/lib/languages/go'\nimport css from 'highlight.js/lib/languages/css'\nimport sql from 'highlight.js/lib/languages/sql'\nimport php from 'highlight.js/lib/languages/php'\nimport xml from 'highlight.js/lib/languages/xml'\nimport yaml from 'highlight.js/lib/languages/yaml'\nimport json from 'highlight.js/lib/languages/json'\nimport bash from 'highlight.js/lib/languages/bash'\nimport less from 'highlight.js/lib/languages/less'\nimport scss from 'highlight.js/lib/languages/scss'\nimport rust from 'highlight.js/lib/languages/rust'\nimport java from 'highlight.js/lib/languages/java'\nimport shell from 'highlight.js/lib/languages/shell'\nimport nginx from 'highlight.js/lib/languages/nginx'\nimport stylus from 'highlight.js/lib/languages/stylus'\nimport python from 'highlight.js/lib/languages/python'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport typescript from 'highlight.js/lib/languages/typescript'\n\nconst languages = {\n  go,\n  css,\n  sql,\n  php,\n  xml,\n  yaml,\n  json,\n  bash,\n  less,\n  scss,\n  rust,\n  java,\n  shell,\n  nginx,\n  stylus,\n  python,\n  javascript,\n  typescript\n}\n\nObject.keys(languages).forEach((name) => hljs.registerLanguage(name, languages[name]))\n\nexport default hljs\n","/**\n * @file lazy load\n * @module effect.lozad\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport lozad from 'lozad'\n\nexport type LozadSelector = lozad.Selector\nexport type LozadObserver = lozad.Observer\n\ndeclare global {\n  interface Window {\n    $lozad: typeof lozad\n  }\n}\n\nexport const LOZAD_CLASS_NAME = 'lozad'\nexport const LOADED_CLASS_NAME = 'loaded'\n\nexport const exportLozadToGlobal = () => {\n  window.$lozad = lozad as any\n}\n","/**\n * @file Text transformer\n * @module transform.text\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _escape from 'lodash/escape'\nimport _unescape from 'lodash/unescape'\nimport _truncate from 'lodash/truncate'\nimport _capitalize from 'lodash/capitalize'\nimport _padStart from 'lodash/padStart'\n\nexport const escape = _escape\nexport const unescape = _unescape\nexport const padStart = _padStart\nexport const textOverflow = _truncate\nexport const firstUpperCase = _capitalize\n\nexport function numberToKilo(count: number): string {\n  return count > 1000 ? `${parseFloat((count / 1000).toFixed(2))}k` : String(count)\n}\n\nexport function numberSplit(number: number): string {\n  return String(number).replace(/.{1,3}(?=(.{3})+$)/g, '$&,')\n}\n\nconst CHINESE_NUMBER_TEXT = '〇一二三四五六七八九十'.split('')\nconst CHINESE_NUMBER_CAPITAL_TEXT = '零壹贰叁肆伍陆柒捌玖拾'.split('')\nexport const numberToChinese = (text: string | number, capital = false) => {\n  const targetText = capital ? CHINESE_NUMBER_CAPITAL_TEXT : CHINESE_NUMBER_TEXT\n  return String(text)\n    .split('')\n    .map((number) => targetText[Number(number)])\n    .join('')\n}\n","/**\n * @file Validater\n * @module transform.validate\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const isValidDateParam = (date: string) => {\n  const dates = date.split('-')\n  // x-x-x\n  if (dates.length !== 3) {\n    return false\n  }\n  // 0-0-0\n  if (!dates.every((d) => Number.isInteger(Number(d)))) {\n    return false\n  }\n  // 0000-00-00\n  const [year, month, day] = dates\n  if (year.length !== 4 || month.length !== 2 || day.length !== 2) {\n    return false\n  }\n  return true\n}\n","/**\n * @file Scroll to anywhere\n * @module util.scroller\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { nextTick } from 'vue'\nimport BezierEasing from 'bezier-easing'\n\nexport const Easing = {\n  ease: [0.25, 0.1, 0.25, 1.0],\n  linear: [0, 0.0, 1, 1.0],\n  easeIn: [0.42, 0.0, 1, 1.0],\n  easeOut: [0, 0.0, 0.58, 1.0],\n  easeInOut: [0.42, 0.0, 0.58, 1.0]\n}\n\nconst triggerEvents: string[] = [\n  'scroll',\n  'mousedown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'keyup',\n  'touchmove'\n]\n\nconst listener = {\n  on(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.addEventListener(event, handler, { passive: true })\n    })\n  },\n  off(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.removeEventListener(event, handler)\n    })\n  }\n}\n\nexport interface ScrollToElementOptions {\n  target: string | Element\n  offset?: number\n  duration?: number\n  easing?: number[]\n  onCancel?(): void\n  onDone?(): void\n}\n\nexport const scrollToElement = (options: ScrollToElementOptions) => {\n  const { target, onCancel, onDone } = options\n  const offset = options.offset ?? 0\n  const duration = options.duration ?? 500\n  const optionEasing = options.easing ?? Easing.ease\n  const targetElement = typeof target === 'string' ? document.querySelector(target)! : target\n  const bodyElement = document.body\n\n  let abort = false\n  const whenAbort = () => {\n    abort = true\n  }\n\n  listener.on(bodyElement, triggerEvents, whenAbort)\n\n  const whenDone = () => {\n    listener.off(bodyElement, triggerEvents, whenAbort)\n    abort ? onCancel?.() : onDone?.()\n  }\n\n  const initialY = window.pageYOffset\n  const elementY = initialY + targetElement.getBoundingClientRect().top\n  const targetY =\n    document.body.scrollHeight - elementY < window.innerHeight\n      ? document.body.scrollHeight - window.innerHeight\n      : elementY\n\n  const diff = targetY + offset - initialY\n  if (!diff) {\n    return\n  }\n\n  const easing = Reflect.apply(BezierEasing, BezierEasing, optionEasing)\n  let start: number\n\n  window.requestAnimationFrame(function step(timestamp) {\n    if (abort) {\n      return whenDone()\n    }\n    if (!start) {\n      start = timestamp\n    }\n\n    const time = timestamp - start\n    let progress = Math.min(time / duration, 1)\n    progress = easing(progress)\n\n    window.scrollTo(0, initialY + diff * progress)\n\n    if (time < duration) {\n      window.requestAnimationFrame(step)\n    } else {\n      whenDone()\n    }\n  })\n}\n\nexport const scrollToAnchor = (elementID: string, offset?: number) => {\n  const targetElement = document.getElementById(elementID)\n  if (targetElement) {\n    scrollToElement({\n      target: targetElement,\n      duration: 200,\n      // default offset: header height\n      offset: offset ?? -74\n    })\n  }\n}\n\nexport const scrollToPageTop = () => {\n  scrollToElement({\n    target: document.body,\n    duration: 280,\n    offset: 0,\n    // MARK: keep ease\n    easing: Easing.ease\n  })\n}\n\nexport const scrollToNextScreen = () => {\n  nextTick(() => {\n    scrollToElement({\n      target: document.body,\n      offset: window.scrollY + window.innerHeight * 0.68,\n      duration: 300,\n      easing: Easing.easeIn\n    })\n  })\n}\n","/**\n * @file i18n\n * @module composable.i18n\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, computed, ref, readonly, defineComponent } from 'vue'\n\nexport type I18nValueRender = (...args: any[]) => string\nexport type I18nLanguageMap<Lang extends string, V = string> = {\n  [code in Lang]: V\n}\n\nexport interface I18nLanguage<K extends string> {\n  code: string\n  iso: string\n  name: string\n  data: {\n    [key in K]: string | I18nValueRender\n  }\n}\n\ninterface I18nConfig<K extends string> {\n  default: string\n  keys: Array<K>\n  languages: I18nLanguage<K>[]\n}\n\nconst I18nSymbol = Symbol('i18n')\nconst createI18nStore = <K extends string>(config: I18nConfig<K>) => {\n  const language = ref(config.default)\n  const languageCodes = config.languages.map((lang) => lang.code)\n  const l = computed(() => config.languages.find((l) => l.code === language.value))\n  const languageMap = config.keys.reduce<{\n    [key in K]: I18nLanguageMap<string, string | I18nValueRender>\n  }>(\n    (map, key) => ({\n      ...map,\n      [key]: config.languages.reduce(\n        (result, language) => ({\n          ...result,\n          [language.code]: language.data[key]\n        }),\n        {}\n      )\n    }),\n    {} as any\n  )\n\n  const set = <L extends string = string>(lang: L) => {\n    if (languageCodes.includes(lang) && language.value !== lang) {\n      language.value = lang\n    }\n  }\n\n  const toggle = () => {\n    const currentIndex = languageCodes.findIndex((langCode) => langCode === language.value)\n    const nextIndex = currentIndex < languageCodes.length - 1 ? currentIndex + 1 : 0\n    if (currentIndex !== nextIndex) {\n      set(languageCodes[nextIndex])\n    }\n  }\n\n  const translate = <T extends K>(key: T, targetLanguage?: string | null, ...args) => {\n    const content = languageMap[key]?.[targetLanguage ?? language.value]\n    if (!content) {\n      return\n    }\n    return typeof content === 'string' ? content : content(...args)\n  }\n\n  return {\n    language: readonly(language),\n    l,\n    set,\n    toggle,\n    translate,\n    t: translate\n  }\n}\n\n/**\n * @example <span>{{ i18n.t(LanguageKey.SOME_KEY) }}</span>\n * @example <i18n :k=\"LanguageKey.SOME_KEY\" />\n * @example <i18n zh=\"你好，世界\" en=\"hello, world!\" />\n * @example (\n *  <i18n>\n *    <template #zh>你好，世界</template>\n *    <template #en>hello, world!</template>\n *  </i18n>\n * )\n */\nexport type I18n = ReturnType<typeof createI18nStore>\nexport const createI18n = <K extends string>(config: I18nConfig<K>) => {\n  const i18nStore = createI18nStore(config)\n  const i18nComponent = defineComponent({\n    name: 'I18n',\n    props: {\n      k: [String, Number, Symbol]\n    },\n    render() {\n      if (this.$props.k) {\n        return i18nStore.t(this.$props.k as K, null, this.$attrs)\n      } else {\n        const lang = i18nStore.language.value\n        return this.$attrs[lang] || this.$slots[lang]?.()\n      }\n    }\n  })\n\n  return {\n    ...i18nStore,\n    install(app: App) {\n      app.config.globalProperties.$i18n = i18nStore\n      app.provide(I18nSymbol, i18nStore)\n      app.component(i18nComponent.name, i18nComponent)\n    }\n  }\n}\n\nexport const useI18n = (): I18n => {\n  return inject(I18nSymbol) as I18n\n}\n","/**\n * @file meta\n * @module composable.meta\n * @author Surmon <https://github.com/surmon-china>\n * @link https://github.com/vueuse/head\n */\n\nimport { computed, inject } from 'vue'\nimport type { ComputedGetter } from '@vue/reactivity'\nimport { createHead, useHead, HeadObject, HeadAttrs, renderHeadToString } from '@vueuse/head'\nimport { useI18n } from '/@/composables/i18n'\n\nexport interface MetaResult {\n  readonly headTags: string\n  readonly htmlAttrs: string\n  readonly bodyAttrs: string\n}\n\nconst MetaTitlerSymbol = Symbol('meta-titler')\ntype MeatTitler = (title: string) => string\n\nexport interface MetaConfig {\n  titler?: MeatTitler\n}\nexport const createMeta = (metaConfig?: MetaConfig) => {\n  const head = createHead()\n  return {\n    ...head,\n    renderToString(): MetaResult {\n      return renderHeadToString(head)\n    },\n    install(app, ...rest: any[]) {\n      app.provide(MetaTitlerSymbol, metaConfig?.titler || ((title) => title))\n      app.use(head, ...rest)\n      return head\n    }\n  }\n}\n\nexport interface MetaObject extends HeadObject {\n  title?: string\n  pageTitle?: string\n  keywords?: string\n  description?: string\n}\n\nexport function useMeta(source: MetaObject | ComputedGetter<MetaObject>) {\n  const i18n = useI18n()\n  const titler = inject(MetaTitlerSymbol) as MeatTitler\n\n  const meta = computed<HeadObject>(() => {\n    const sourceObject = typeof source === 'function' ? source() : source\n    const { title, pageTitle, keywords, description, ...restSource } = sourceObject\n\n    // title | page title\n    const mTitle = title ? title : pageTitle ? titler(pageTitle) : ''\n\n    // metas\n    const mMeta = (restSource.meta as HeadAttrs[]) || []\n\n    // keywords\n    if (keywords) {\n      mMeta.push({\n        key: 'keywords',\n        name: 'keywords',\n        content: keywords\n      })\n    }\n\n    // description\n    if (description) {\n      mMeta.push({\n        key: 'description',\n        name: 'description',\n        content: description\n      })\n    }\n\n    // html i18n\n    const mHTMLAttrs = {\n      lang: i18n.l.value?.iso,\n      ...restSource.htmlAttrs\n    }\n\n    return {\n      ...restSource,\n      title: mTitle,\n      meta: mMeta,\n      htmlAttrs: mHTMLAttrs\n    }\n  })\n\n  return useHead(meta)\n}\n","/**\n * @file Outside\n * @module transform.outside\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const getGAScriptURL = (measurementID: string) => {\n  return `https://www.googletagmanager.com/gtag/js?id=${measurementID}`\n}\n","/**\n * @file Script loader\n * @module util.scripter\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport interface ScriptLoaderOption extends Partial<HTMLScriptElement> {\n  domain?: string\n}\n\nexport const loadScript = (\n  source: string,\n  options: ScriptLoaderOption = {} as ScriptLoaderOption\n) => {\n  return new Promise((resolve, reject) => {\n    const head = document.head || document.getElementsByTagName('head')[0]\n    const script = document.createElement('script')\n    const {\n      src,\n      domain,\n      type = 'text/javascript',\n      charset = 'utf-8',\n      defer = false,\n      async = false,\n      ...restAttrs\n    } = options\n    script.type = type\n    script.defer = defer\n    script.async = async\n    script.src = src || source\n\n    Object.keys(restAttrs).forEach((key) => {\n      script[key] = restAttrs[key]\n    })\n\n    if (domain) {\n      const link = document.createElement('link')\n      link.href = domain\n      link.rel = 'preconnect'\n      head.appendChild(link)\n    }\n\n    head.appendChild(script)\n    script.onload = resolve\n    script.onerror = reject\n  })\n}\n","/**\n * @file GA 统计服务\n * @module composable.gtag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, reactive, readonly, inject, Plugin, nextTick } from 'vue'\nimport { Router } from 'vue-router'\nimport { getGAScriptURL } from '/@/transforms/gtag'\nimport { loadScript } from '/@/utils/scripter'\n// MARK: https://zh.nuxtjs.org/faq/ga\n// MARK: https://github.com/nuxt-community/google-gtag/blob/master/lib/plugin.js\n// DOC: https://developers.google.com/analytics/devguides/collection/gtagjs/pages?hl=zh-cn\n\ndeclare global {\n  interface Window {\n    gtag(...args: any[]): any\n    dataLayer: any[]\n  }\n}\n\nexport interface GtagConfig {\n  [key: string]: any\n}\n\nexport interface GtagPluginConfig {\n  id: string\n  router?: Router\n  customResourceURL?: string\n  config?: GtagConfig\n}\n\nconst GtagSymbol = Symbol('gtag')\nexport type Gtag = ReturnType<typeof createGtag>\nexport const createGtag = (options: GtagPluginConfig) => {\n  if (!options.id) {\n    return\n  }\n\n  const resourceURL = options.customResourceURL || getGAScriptURL(options.id)\n  const state = reactive({\n    loaded: false,\n    disabled: false\n  })\n\n  loadScript(resourceURL, { async: true }).then(() => {\n    state.loaded = true\n  })\n\n  if (window.gtag == null) {\n    window.dataLayer = window.dataLayer || []\n    // MARK: important! only function\n    window.gtag = function () {\n      // eslint-disable-next-line prefer-rest-params\n      window.dataLayer.push(arguments)\n    }\n    window.gtag('js', new Date())\n    window.gtag('config', options.id, options.config)\n  }\n\n  const push = (...args) => {\n    if (!state.disabled) {\n      window.gtag?.(...args)\n    }\n  }\n\n  if (options.router) {\n    options.router.afterEach((to, from) => {\n      if (to.path !== from.path) {\n        nextTick().then(() => {\n          const location = window.location.origin + to.fullPath\n          push('event', 'page_view', {\n            page_title: document.title,\n            page_location: location,\n            page_path: to.fullPath,\n            send_to: options.id\n          })\n        })\n      }\n    })\n  }\n\n  const gtag = {\n    state: readonly(state),\n    enable: () => {\n      state.disabled = false\n    },\n    disable: () => {\n      state.disabled = true\n    },\n    set(config: GtagConfig) {\n      push('set', config)\n    },\n    config(config: GtagConfig) {\n      push('config', options.id, config)\n    },\n    // https://developers.google.com/analytics/devguides/collection/gtagjs/events?hl=zh-cn\n    event(\n      eventName: string,\n      config?: GtagConfig & {\n        event_category?: string\n        event_label?: string\n        value?: number\n      }\n    ) {\n      push('event', eventName, config)\n    }\n  }\n\n  return gtag\n}\n\nexport const useGtag = (): Gtag => {\n  return inject(GtagSymbol) as Gtag\n}\n\ntype PluginInstallFunction = Plugin & {\n  installed?: boolean\n}\n\nconst install: PluginInstallFunction = (app: App, config: GtagPluginConfig) => {\n  if (install.installed) {\n    return\n  }\n  const gtag = createGtag(config)\n  app.provide(GtagSymbol, gtag)\n  app.config.globalProperties.$gtag = gtag\n  install.installed = true\n}\nexport default { install }\n","/**\n * @file Local Storage\n * @module util.storage\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const get = (key: string) => localStorage.getItem(key)\nexport const set = (key: string, data: string) => localStorage.setItem(key, data)\nexport const remove = (key: string) => localStorage.removeItem(key)\n\nexport const setJSON = (key: string, data: any) => set(key, JSON.stringify(data))\nexport const getJSON = <T = any>(key: string): T | null => {\n  const data = get(key)\n  return typeof data === 'string' ? JSON.parse(data) : null\n}\n\nexport default {\n  get,\n  set,\n  remove,\n  setJSON,\n  getJSON\n}\n","/**\n * @file Theme\n * @module composable.theme\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, ref, readonly } from 'vue'\nimport cookies from 'js-cookie'\nimport storage from '/@/utils/storage'\n\nexport enum Theme {\n  Light = 'light',\n  Dark = 'dark'\n}\n\nconst DARK_THEME_QUERY = '(prefers-color-scheme: dark)'\nconst LIGHT_THEME_QUERY = '(prefers-color-scheme: light)'\nconst NO_PREFERENCE_QUERY = '(prefers-color-scheme: no-preference)'\n\nexport const THEME_STORAGE_KEY = 'theme'\nexport const getClientLocalTheme = () => {\n  // local theme\n  const historyTheme = storage.get(THEME_STORAGE_KEY)\n  if (historyTheme) {\n    return historyTheme === Theme.Dark ? Theme.Dark : Theme.Light\n  }\n  // system theme\n  if (window.matchMedia(DARK_THEME_QUERY).matches) {\n    return Theme.Dark\n  }\n  if (window.matchMedia(LIGHT_THEME_QUERY).matches) {\n    return Theme.Light\n  }\n  // not specified || not support\n  return Theme.Light\n}\n\nconst ThemeSymbol = Symbol('theme')\nexport const createTheme = (initTheme: Theme) => {\n  const theme = ref<Theme>(initTheme)\n  const set = (newTheme: Theme) => {\n    if ([Theme.Light, Theme.Dark].includes(newTheme) && newTheme !== theme.value) {\n      theme.value = newTheme\n      cookies.set(THEME_STORAGE_KEY, newTheme)\n      storage.set(THEME_STORAGE_KEY, newTheme)\n    }\n  }\n  const toggle = () => set(theme.value === Theme.Dark ? Theme.Light : Theme.Dark)\n  const bindClientSystem = () => {\n    window\n      .matchMedia(DARK_THEME_QUERY)\n      .addEventListener('change', ({ matches }) => matches && set(Theme.Dark))\n    window\n      .matchMedia(LIGHT_THEME_QUERY)\n      .addEventListener('change', ({ matches }) => matches && set(Theme.Light))\n  }\n\n  const themeState = {\n    theme: readonly(theme),\n    set,\n    toggle,\n    bindClientSystem\n  }\n\n  return {\n    ...themeState,\n    install(app: App) {\n      app.provide(ThemeSymbol, themeState)\n    }\n  }\n}\n\nexport const useTheme = () => {\n  return inject(ThemeSymbol) as Omit<ReturnType<typeof createTheme>, 'install'>\n}\n","/**\n * @file Client defer task manager\n * @module composable.defer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, reactive, Plugin } from 'vue'\n\ndeclare global {\n  interface Window {\n    // @ts-ignore\n    $defer: Defer\n  }\n}\n\n// @ts-ignore\nexport type Defer = ReturnType<typeof createDeferStore>\nexport type DeferTask = () => any\nconst createDeferStore = () => {\n  const state = reactive({\n    loaded: false,\n    tasks: [] as Array<DeferTask>\n  })\n\n  const doTask = (task: DeferTask) => {\n    window.setTimeout(task, 666)\n  }\n\n  const handleLoaded = () => {\n    state.loaded = true\n    state.tasks.forEach((task) => doTask(task))\n  }\n\n  const addTask = (task: DeferTask) => {\n    state.tasks.push(task)\n    if (state.loaded) {\n      doTask(task)\n    }\n  }\n\n  window.addEventListener('load', handleLoaded)\n  return { state, addTask }\n}\n\nconst DeferSymbol = Symbol('defer')\n\nexport interface DeferPluginConfig {\n  exportToGlobal?: boolean\n}\nexport const createDefer = (): Defer & Plugin => {\n  const defer = createDeferStore()\n  return {\n    ...defer,\n    install(app: App, config?: DeferPluginConfig) {\n      app.provide(DeferSymbol, defer)\n\n      if (config?.exportToGlobal) {\n        window.$defer = defer\n      }\n    }\n  }\n}\n\nexport const useDefer = (): Defer => {\n  return inject(DeferSymbol) as Defer\n}\n","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <div id=\"progress-bar\">\n    <div\n      class=\"progress\"\n      :class=\"{\n        show: loading.state.show,\n        notransition: loading.state.skipTimerCount > 0,\n        failed: !loading.state.canSucceed\n      }\"\n      :style=\"{ width: loading.state.percent + '%' }\"\n    />\n    <div\n      v-if=\"spin\"\n      class=\"spin\"\n      :class=\"{\n        show: loading.state.show,\n        failed: !loading.state.canSucceed\n      }\"\n    >\n      <div class=\"lds-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useLoading } from './'\n  export default defineComponent({\n    name: 'ProgressBar',\n    props: {\n      spin: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup() {\n      const loading = useLoading()\n      return { loading }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #progress-bar {\n    $size: 3px;\n    $failed: $red;\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: $size;\n    width: 100%;\n    z-index: $z-index-progress-bar;\n\n    .progress {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: $size;\n      width: 0%;\n      background-color: $primary;\n      @include hidden();\n      transition: width $transition-time-normal, opacity $transition-time-normal,\n        visibility $transition-time-normal;\n      &.show {\n        @include visible();\n        transition: width 0s, opacity $transition-time-fast, visibility $transition-time-fast;\n      }\n\n      &.notransition {\n        transition: none;\n      }\n      &.failed {\n        background-color: $failed;\n      }\n    }\n\n    .spin {\n      position: absolute;\n      top: $lg-gap;\n      right: $lg-gap;\n      @include hidden();\n      @include visibility-transition($transition-time-normal);\n      &.show {\n        @include visible();\n      }\n\n      &.failed {\n        .lds-ring {\n          div {\n            border-top-color: $failed;\n          }\n        }\n      }\n\n      .lds-ring {\n        $size: 3rem;\n        display: inline-block;\n        position: relative;\n        width: $size;\n        height: $size;\n\n        @keyframes lds-ring {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        div {\n          $size: 2rem;\n          $border: 3px;\n          box-sizing: border-box;\n          display: block;\n          position: absolute;\n          width: $size;\n          height: $size;\n          margin: $border;\n          border: $border solid transparent;\n          border-top-color: $primary;\n          border-radius: 50%;\n          animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          &:nth-child(1) {\n            animation-delay: -0.45s;\n          }\n          &:nth-child(2) {\n            animation-delay: -0.3s;\n          }\n          &:nth-child(3) {\n            animation-delay: -0.15s;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Global loading state\n * @module composable.loading\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, reactive, readonly, inject, nextTick, DeepReadonly } from 'vue'\nimport ProgressComponent from './progress.vue'\n\ndeclare global {\n  interface Window {\n    $loading: Loading\n  }\n}\n\nexport interface LoadingState {\n  percent: number\n  show: boolean\n  error: null\n  canSucceed: boolean\n  skipTimerCount: number\n  throttle: number\n  duration: number\n}\n\nexport interface Loading {\n  state: DeepReadonly<LoadingState>\n  start(): void\n  pause(): void\n  resume(): void\n  finish(): void\n  fail(error: any): void\n  increase(percent: number): void\n  decrease(percent: number): void\n  set(percent: number): void\n}\n\nexport interface LoadingOptions {\n  throttle?: number\n  duration?: number\n}\nconst LoadingSymbol = Symbol('loading')\nconst createLoadingStore = (options: LoadingOptions = {}) => {\n  let _cut: number\n  let _timer: number\n  let _throttle: number\n  const state = reactive({\n    percent: 0,\n    show: false,\n    error: null,\n    canSucceed: true,\n    skipTimerCount: 0,\n    throttle: options.throttle || 200,\n    duration: options.duration || 3000\n  })\n\n  const clear = () => {\n    window.clearInterval(_timer)\n    window.clearTimeout(_throttle)\n    _timer = 0\n  }\n\n  const increase = (percent: number) => {\n    state.percent = Math.min(100, Math.floor(state.percent + percent))\n  }\n\n  const decrease = (percent: number) => {\n    state.percent = Math.max(0, Math.floor(state.percent - percent))\n  }\n\n  const startTimer = () => {\n    if (!state.show) {\n      state.show = true\n    }\n    if (typeof _cut === 'undefined') {\n      _cut = 10000 / Math.floor(state.duration)\n    }\n\n    _timer = window.setInterval(() => {\n      /**\n       * When reversing direction skip one timers\n       * so 0, 100 are displayed for two iterations\n       * also disable css width transitioning\n       * which otherwise interferes and shows\n       * a jojo effect\n       */\n      if (state.skipTimerCount > 0) {\n        state.skipTimerCount--\n        return\n      }\n\n      decrease(_cut)\n    }, 100)\n  }\n\n  const start = () => {\n    clear()\n    state.percent = 0\n    state.skipTimerCount = 0\n    state.canSucceed = true\n    state.show = true\n\n    if (state.throttle) {\n      _throttle = window.setTimeout(() => startTimer(), state.throttle)\n    } else {\n      startTimer()\n    }\n  }\n\n  const hide = () => {\n    clear()\n    window.setTimeout(() => {\n      state.show = false\n      nextTick().then(() => {\n        setTimeout(() => {\n          state.percent = 0\n        }, 160)\n      })\n    }, 500)\n  }\n\n  const set = (percent: number) => {\n    state.show = true\n    state.canSucceed = true\n    state.percent = Math.min(100, Math.max(0, Math.floor(percent)))\n  }\n\n  const pause = () => {\n    window.clearInterval(_timer)\n  }\n\n  const resume = () => {\n    startTimer()\n  }\n\n  const finish = () => {\n    state.error = null\n    state.percent = 100\n    hide()\n  }\n\n  const fail = (error?: any) => {\n    state.error = error\n    state.canSucceed = false\n  }\n\n  return {\n    state: readonly(state),\n    start,\n    pause,\n    resume,\n    finish,\n    fail,\n    increase,\n    decrease,\n    set\n  }\n}\n\nexport const createLoading = (options?: LoadingOptions) => {\n  const loading = createLoadingStore(options)\n  return {\n    ...loading,\n    install(app: App, config?: { exportToGlobal?: boolean }) {\n      app.provide(LoadingSymbol, loading)\n      app.component(ProgressComponent.name as string, ProgressComponent)\n      app.config.globalProperties.$loading = loading\n      if (config?.exportToGlobal) {\n        window.$loading = loading\n      }\n    }\n  }\n}\n\nexport const useLoading = (): Loading => {\n  return inject(LoadingSymbol) as Loading\n}\n","export const PopupSymbol = Symbol('popup')\n","/**\n * @file popup hook\n * @module composable.popup.hook\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { inject, onMounted } from 'vue'\nimport { PopupSymbol } from './constant'\nimport type { Popup } from '.'\n\nexport const usePopup = (): Popup => {\n  return inject(PopupSymbol) as Popup\n}\n\nexport const usePopupWithRoot = (fn: () => HTMLElement): Popup => {\n  const popup = usePopup()\n  onMounted(() => popup.$setRoot(fn()))\n  return popup\n}\n","/**\n * @file Universal state\n * @module store.universal\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { getJSON, setJSON, remove } from '/@/utils/storage'\nimport nodepress from '/@/services/nodepress'\nimport { Author } from './comment'\n\nexport type UserLocalProfile = Author\nexport enum UserType {\n  Null = 0,\n  Local = 1,\n  Disqus = 2\n}\n\nconst UNIVERSAL_STORGAE_KEY = 'universal-state'\nexport const useUniversalStore = defineStore('universal', {\n  state: () => ({\n    // disqus config\n    disqusConfig: null as any,\n    // user\n    user: {\n      type: UserType.Null,\n      localProfile: null as UserLocalProfile | null,\n      disqusProfile: null as any | null\n    },\n    // vote history\n    vote: {\n      likedPages: [] as number[],\n      likedComments: [] as number[],\n      dislikedComments: [] as number[]\n    },\n    // feedback history\n    feedbacks: [] as any[]\n  }),\n  getters: {\n    isLikedPage: (state) => (id: number) => state.vote.likedPages.includes(id),\n    isLikedComment: (state) => (id: number) => state.vote.likedComments.includes(id),\n    isDislikedComment: (state) => (id: number) => state.vote.dislikedComments.includes(id),\n    author: (state): Author | null => {\n      if (state.user.type === UserType.Local) {\n        return state.user.localProfile\n      }\n      if (state.user.type === UserType.Disqus) {\n        return {\n          name: state.user.disqusProfile?.name,\n          site: state.user.disqusProfile?.url || state.user.disqusProfile?.profileUrl\n        }\n      }\n      return null\n    }\n  },\n  actions: {\n    likeComment(commentID: number) {\n      this.vote.likedComments.push(commentID)\n    },\n    dislikeComment(commentID: number) {\n      this.vote.dislikedComments.push(commentID)\n    },\n    likePage(id: number) {\n      this.vote.likedPages.push(id)\n    },\n    addFeedback(data) {\n      this.feedbacks.push(data)\n    },\n    fromStorage() {\n      try {\n        this.$state = getJSON(UNIVERSAL_STORGAE_KEY) || this.$state\n      } catch (error) {\n        remove(UNIVERSAL_STORGAE_KEY)\n      }\n    },\n    initOnClient() {\n      // 1. bind client storage\n      this.fromStorage()\n      this.$subscribe(() => setJSON(UNIVERSAL_STORGAE_KEY, this.$state))\n      window.addEventListener('storage', (event) => {\n        if (event.key === UNIVERSAL_STORGAE_KEY) {\n          this.fromStorage()\n        }\n      })\n      // 2. init and reset user info\n      if (this.$state.user.type === UserType.Disqus) {\n        this.fetchDisqusUserInfo().catch(() => {\n          this.user.disqusProfile = null\n          this.user.type = UserType.Null\n        })\n      } else {\n        this.user.disqusProfile = null\n      }\n      // 3. refetch disqus config\n      this.fetchDisqusConfig()\n    },\n    saveLocalUser(user: UserLocalProfile) {\n      this.user.localProfile = { ...user }\n      this.user.type = UserType.Local\n    },\n    removeLocalUser() {\n      this.user.localProfile = null\n      this.user.type = UserType.Null\n    },\n    fetchDisqusLogout() {\n      return nodepress.get('/disqus/oauth-logout').then(() => {\n        this.user.disqusProfile = null\n        this.user.type = UserType.Null\n      })\n    },\n    fetchDisqusUserInfo() {\n      return nodepress.get<any>('/disqus/user-info').then((response) => {\n        this.user.disqusProfile = response.result\n        this.user.type = UserType.Disqus\n      })\n    },\n    fetchDisqusConfig() {\n      return nodepress.get<string>('/disqus/config').then((response) => {\n        this.disqusConfig = response.result\n      })\n    }\n  }\n})\n","/**\n * @file App meta options state\n * @module store.meta\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { UniversalKeyValue } from '/@/constants/state'\nimport { useUniversalStore, UserType } from './universal'\nimport nodepress from '/@/services/nodepress'\n\nexport interface MerchItemConfig {\n  name: string\n  description: string\n  detail: string\n  src: string\n  url: string\n}\n\nexport interface AD_CONFIG {\n  PC_CARROUSEL:\n    | false\n    | {\n        disabled?: boolean\n        index: number\n        url: string\n        src: string\n        title: string\n      }\n  PC_NAV: Array<{\n    disabled?: boolean\n    icon: string\n    color: string\n    url: string\n    text?: string\n    i18n: {\n      en: string\n      zh: string\n    }\n  }>\n  PC_ASIDE_SWIPER: Array<{\n    disabled?: boolean\n    url: string\n    src: string\n  }>\n  PC_MERCH_PRODUCTS: Array<MerchItemConfig>\n  PC_MERCH_BROKERS: Array<MerchItemConfig>\n}\n\nconst defaultAdConfig: AD_CONFIG = {\n  PC_CARROUSEL: false,\n  PC_NAV: [],\n  PC_ASIDE_SWIPER: [],\n  PC_MERCH_PRODUCTS: [],\n  PC_MERCH_BROKERS: []\n}\n\nexport interface AdminInfo {\n  name: string\n  slogan: string\n  avatar: string\n}\n\nexport interface AppOption {\n  title: string\n  sub_title: string\n  description: string\n  keywords: Array<string>\n  statement: string\n  site_url: string\n  site_email: string\n  meta: {\n    likes: number\n  }\n  friend_links: Array<UniversalKeyValue>\n  ad_config: string\n}\n\nexport const useMetaStore = defineStore('meta', {\n  state: () => ({\n    adminInfo: {\n      fetching: false,\n      data: null as null | AdminInfo\n    },\n    appOptions: {\n      fetching: false,\n      data: null as null | AppOption\n    }\n  }),\n  getters: {\n    adConfig: (state) => {\n      const optionAdConfig = state.appOptions.data?.ad_config\n      const adConfig: AD_CONFIG = {\n        ...defaultAdConfig,\n        ...(optionAdConfig ? JSON.parse(optionAdConfig) : {})\n      }\n      // filter disabled ad itmes\n      adConfig.PC_NAV = adConfig.PC_NAV.filter((ad) => !ad.disabled)\n      adConfig.PC_ASIDE_SWIPER = adConfig.PC_ASIDE_SWIPER.filter((ad) => !ad.disabled)\n      return adConfig\n    }\n  },\n  actions: {\n    fetchAdminInfo() {\n      this.adminInfo.fetching = true\n      return nodepress\n        .get<AdminInfo>('/auth/admin')\n        .then((response) => {\n          this.adminInfo.data = response.result\n        })\n        .finally(() => {\n          this.adminInfo.fetching = false\n        })\n    },\n\n    fetchAppOptions(force = false) {\n      if (!force && this.appOptions.data) {\n        return Promise.resolve()\n      }\n\n      this.appOptions.fetching = true\n      return nodepress\n        .get<AppOption>('/option')\n        .then((response) => {\n          this.appOptions.data = response.result\n        })\n        .finally(() => {\n          this.appOptions.fetching = false\n        })\n    },\n\n    postSiteLike() {\n      const universalStore = useUniversalStore()\n      return nodepress.post('/vote/site', { author: universalStore.author }).then((response) => {\n        if (this.appOptions.data) {\n          this.appOptions.data.meta.likes = response.result\n        }\n      })\n    },\n\n    postFeedback(feedback: { emotion: number; content: string }) {\n      const universalStore = useUniversalStore()\n      const authorName = universalStore.author?.name || null\n      return nodepress.post('/feedback', {\n        ...feedback,\n        tid: 0,\n        user_name: authorName ? `${authorName} (${UserType[universalStore.user.type]})` : null,\n        user_email: universalStore.author?.email || null\n      })\n    }\n  }\n})\n","/**\n * @file Value constant\n * @module constant.value\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const NULL = null\nexport const UNDEFINED = void 0\n\nexport const isNull = (value) => value === NULL\nexport const isUndefined = (value) => value === UNDEFINED\nexport const isVoid = (value) => isNull(value) || isUndefined(value)\n","/**\n * @file App enhancers\n * @module app.enhancer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useGlobalState } from '/@/app/state'\nimport { useI18n } from '/@/composables/i18n'\nimport { useMeta } from '/@/composables/meta'\nimport { useGtag, Gtag } from '/@/composables/gtag'\nimport { useTheme, Theme } from '/@/composables/theme'\nimport { useDefer, Defer } from '/@/composables/defer'\nimport { useLoading, Loading } from '/@/composables/loading'\nimport type { Popup } from '/@/composables/popup'\nimport { usePopup } from '/@/composables/popup/hook'\nimport { useMetaStore } from '/@/stores/meta'\nimport { Language } from '/@/language'\nimport { UNDEFINED } from '/@/constants/value'\nimport { isClient } from './environment'\n\nexport const useEnhancer = () => {\n  const route = useRoute()\n  const router = useRouter()\n  const i18n = useI18n()\n  const theme = useTheme()\n  const globalState = useGlobalState()\n  const metaStore = useMetaStore()\n\n  const adConfig = computed(() => metaStore.adConfig)\n  const isMobile = computed(() => globalState.userAgent.isMobile)\n  const isDarkTheme = computed(() => theme.theme.value === Theme.Dark)\n  const isZhLang = computed(() => i18n.language.value === Language.Chinese)\n\n  return {\n    route,\n    router,\n    globalState,\n    i18n,\n    meta: useMeta,\n    theme,\n\n    adConfig,\n    isMobile,\n    isDarkTheme,\n    isZhLang,\n\n    defer: (isClient ? useDefer() : UNDEFINED) as Defer,\n    popup: (isClient ? usePopup() : UNDEFINED) as Popup,\n    gtag: (isClient ? useGtag() : UNDEFINED) as Gtag,\n    loading: (isClient ? useLoading() : UNDEFINED) as Loading\n  }\n}\n","/**\n * @file Proxy constant\n * @module constant.proxy\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum ProxyModule {\n  Default = 'default',\n  Instagram = 'instagram',\n  YouTube = 'youtube',\n  NetEasyMusic = '163',\n  Disqus = 'disqus'\n}\n","/**\n * @file Url transformer\n * @module transform.url\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport API_CONFIG from '/@/config/api.config'\nimport { ProxyModule } from '/@/constants/proxy'\nimport { getArticleDetailRoute } from '/@/transforms/route'\n\nexport const getTargetCDNURL = (uri: string) => {\n  return `${API_CONFIG.CDN}${uri}`\n}\n\nexport const getTargetProxyURL = (uri: string, module: ProxyModule = ProxyModule.Default) => {\n  return `${API_CONFIG.PROXY}/${module}/${encodeURIComponent(uri)}`\n}\n\nexport const getTargetStaticURL = (uri: string) => {\n  return `${API_CONFIG.STATIC}${uri}`\n}\n\nexport const getPageURL = (uri: string) => {\n  return `${API_CONFIG.FE}${uri}`\n}\n\nexport const getArticleDetailURL = (IDOrSlug: string | number) => {\n  return getPageURL(getArticleDetailRoute(IDOrSlug))\n}\n","/**\n * @file Thumbnail transformer\n * @module transform.thumbnail\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { getTargetCDNURL } from '/@/transforms/url'\n\nexport const getArticleBannerThumbnailURL = (thumb: string, isWebPImage: boolean) => {\n  if (!thumb) {\n    return getTargetCDNURL(`/images/thumbnail/carrousel.jpg`)\n  }\n\n  return `${thumb}?x-oss-process=${\n    isWebPImage\n      ? 'style/blog.list.banner.pc'\n      : 'image/auto-orient,1/resize,m_fill,w_1190,h_420/quality,q_90/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_32,g_sw,t_26,x_30,y_25'\n  }`\n}\n\nexport const getMobileArticleListThumbnailURL = (thumb: string, isWebPImage = false) => {\n  if (!thumb) {\n    return ''\n  }\n\n  return `${thumb}?x-oss-process=${\n    isWebPImage\n      ? 'style/blog.list.item.mobile'\n      : 'image/auto-orient,1/resize,m_fill,w_700,h_247/quality,q_86/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_30,g_sw,t_26,x_30,y_25'\n  }`\n}\n\nexport const getArticleListThumbnailURL = (thumb: string, isWebPImage: boolean) => {\n  if (!thumb) {\n    return ''\n  }\n\n  return `${thumb}?x-oss-process=${\n    isWebPImage\n      ? 'style/blog.list.item.pc'\n      : 'image/auto-orient,1/resize,m_fill,w_350,h_238/quality,q_80/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_20,g_sw,t_24,x_16,y_14'\n  }`\n}\n\nexport const getArticleSquareThumbnailURL = (thumb: string) => {\n  return thumb\n    ? `${thumb}?x-oss-process=image/auto-orient,1/resize,m_fill,w_320,h_320/quality,q_84`\n    : ''\n}\n","/**\n * @file State constant\n * @module constant.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// 转载状态\nexport enum OriginState {\n  Original = 0, // 原创\n  Reprint = 1, // 转载\n  Hybrid = 2 // 混合\n}\n\n// 评论宿主页面的 POST_ID 类型\nexport enum CommentPostType {\n  Guestbook = 0 // 留言板\n}\n\n// 评论本身的类型\nexport enum CommentParentType {\n  Self = 0 // 自身一级评论\n}\n\n// 排序状态\nexport enum SortType {\n  Asc = 1, // 升序\n  Desc = -1, // 降序\n  Hottest = 2 // 热序\n}\n\nexport interface UniversalKeyValue {\n  name: string\n  value: string\n}\n","/**\n * @file App state transformer\n * @module transform.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { UNDEFINED, isNull, isUndefined } from '/@/constants/value'\nimport { OriginState, UniversalKeyValue } from '/@/constants/state'\n\nexport const isOriginalType = (originState?: OriginState) => {\n  return isNull(originState) || isUndefined(null) || originState === OriginState.Original\n}\n\nexport const isHybridType = (originState: OriginState) => {\n  return originState === OriginState.Hybrid\n}\n\nexport const isReprintType = (originState: OriginState) => {\n  return originState === OriginState.Reprint\n}\n\nexport const getExtendsObject = (kvs: UniversalKeyValue[] | void): { [key: string]: string } => {\n  return kvs?.length ? kvs.reduce((v, c) => ({ ...v, [c.name]: c.value }), {}) : {}\n}\n\nexport const getExtendValue = (kvs: UniversalKeyValue[], key: string) => {\n  return kvs.length ? getExtendsObject(kvs)[key] : UNDEFINED\n}\n","<template>\n  <div class=\"article-item\" @click=\"handleClick\">\n    <div class=\"thumbnail\">\n      <span\n        class=\"oirigin\"\n        :class=\"{\n          original: isOriginal,\n          reprint: isReprint,\n          hybrid: isHybrid\n        }\"\n      >\n        <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n        <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n        <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n      </span>\n      <div\n        class=\"image\"\n        :style=\"{ backgroundImage: `url(${getThumbnailURL(article.thumb)})` }\"\n        :alt=\"article.title\"\n        :title=\"article.title\"\n      />\n    </div>\n    <div class=\"content\">\n      <div class=\"body\">\n        <h4 class=\"title\">\n          <router-link class=\"link\" :to=\"getArticleDetailRoute(article.id)\" :title=\"article.title\">\n            {{ article.title }}\n          </router-link>\n        </h4>\n        <p\n          class=\"description\"\n          style=\"-webkit-box-orient: vertical\"\n          v-html=\"article.description\"\n        ></p>\n      </div>\n      <div class=\"meta\">\n        <span class=\"date\">\n          <i class=\"iconfont icon-clock\"></i>\n          <udate to=\"ago\" :date=\"article.create_at\" />\n        </span>\n        <span class=\"views\">\n          <i class=\"iconfont icon-eye\"></i>\n          <span>{{ article.meta.views || 0 }}</span>\n        </span>\n        <span class=\"comments\">\n          <i class=\"iconfont icon-comment\"></i>\n          <span>{{ article.meta.comments || 0 }}</span>\n        </span>\n        <span class=\"likes\">\n          <i class=\"iconfont icon-heart\" :class=\"{ liked: isLiked }\"></i>\n          <span>{{ article.meta.likes || 0 }}</span>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Article } from '/@/stores/article'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getMobileArticleListThumbnailURL } from '/@/transforms/thumbnail'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n\n  export default defineComponent({\n    name: 'FlowArticleListItem',\n    props: {\n      article: {\n        type: Object as PropType<Article>,\n        required: true\n      }\n    },\n    setup(props) {\n      const { router, globalState } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const isLiked = computed(() => universalStore.isLikedPage(props.article.id))\n      const isHybrid = isHybridType(props.article.origin)\n      const isReprint = isReprintType(props.article.origin)\n      const isOriginal = isOriginalType(props.article.origin)\n\n      const getThumbnailURL = (thumbURL: string) => {\n        return getMobileArticleListThumbnailURL(thumbURL, globalState.imageExt.value.isWebP)\n      }\n\n      const handleClick = () => {\n        router.push(getArticleDetailRoute(props.article.id))\n      }\n\n      return {\n        LanguageKey,\n        isLiked,\n        isHybrid,\n        isReprint,\n        isOriginal,\n        getThumbnailURL,\n        getArticleDetailRoute,\n        handleClick\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .article-item {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    background-color: $module-bg;\n    @include radius-box($sm-radius);\n\n    .thumbnail {\n      width: 100%;\n      height: auto;\n      overflow: hidden;\n      position: relative;\n      background-color: $module-bg-darker-3;\n\n      .oirigin {\n        $opacity: 0.7;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: $z-index-normal + 1;\n        padding: 0 $lg-gap;\n        border-bottom-left-radius: $xs-radius;\n        opacity: 0.7;\n        line-height: 2.3rem;\n        font-size: $font-size-small;\n        font-weight: bold;\n        color: $white;\n        text-align: center;\n        text-transform: uppercase;\n        @include visibility-transition();\n\n        &.original {\n          background-color: rgba($surmon, $opacity);\n        }\n        &.hybrid {\n          background-color: rgba($accent, $opacity);\n        }\n        &.reprint {\n          background-color: rgba($red, $opacity);\n        }\n      }\n\n      .image {\n        min-height: calc((100vw - 2rem) * 0.34);\n        max-height: 12rem;\n        background-size: cover;\n        background-position: center;\n      }\n    }\n\n    .content {\n      display: block;\n\n      .body {\n        padding: $gap;\n        padding-bottom: $sm-gap;\n\n        .title {\n          margin-top: 0;\n          margin-bottom: $sm-gap;\n          font-weight: bold;\n          @include text-overflow();\n\n          .link {\n            text-decoration: none;\n          }\n        }\n\n        .description {\n          margin: 0;\n          line-height: 2em;\n          overflow: hidden;\n          color: $text-secondary;\n          text-overflow: ellipsis;\n          @include clamp(3);\n        }\n      }\n\n      .meta {\n        display: flex;\n        justify-content: space-between;\n        align-items: baseline;\n        padding: $gap;\n        border-top: 1px dashed $module-bg-darker-3;\n        overflow: hidden;\n        color: $text-disabled;\n        font-size: $font-size-small;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        word-wrap: normal;\n\n        .iconfont {\n          margin-right: $sm-gap;\n        }\n\n        .views {\n          min-width: 4rem;\n        }\n\n        .likes {\n          .liked {\n            color: $red;\n          }\n        }\n\n        .likes,\n        .comments {\n          min-width: 3em;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <client-only transition>\n    <Adsense\n      v-if=\"isDarkTheme\"\n      key=\"dark-mammon\"\n      ins-class=\"mammon-ins\"\n      data-ad-format=\"fluid\"\n      data-ad-layout-key=\"-6e+e3+1s-2k+2w\"\n      data-ad-slot=\"1512607272\"\n      class=\"mammon\"\n    />\n    <Adsense\n      v-else\n      key=\"default-mammon\"\n      ins-class=\"mammon-ins\"\n      data-ad-format=\"fluid\"\n      data-ad-layout-key=\"-6t+e6+1w-2w+2b\"\n      data-ad-slot=\"5090380893\"\n      class=\"mammon\"\n    />\n  </client-only>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n\n  export default defineComponent({\n    name: 'MobileFlowMammon',\n    setup() {\n      const { isDarkTheme } = useEnhancer()\n      return {\n        isDarkTheme\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .mammon {\n    min-height: 16rem;\n    max-height: 30rem;\n    background-color: $module-bg;\n    @include radius-box($sm-radius);\n  }\n</style>\n","<template>\n  <div class=\"articles\">\n    <!-- header -->\n    <div class=\"header\" v-if=\"tagSlug || categorySlug || date || searchKeyword\">\n      <div class=\"content\">\n        <i18n v-if=\"categorySlug\">\n          <template #zh>分类 “{{ categorySlug }}” 的过滤结果</template>\n          <template #en>Category \"{{ categorySlug }}\" 's result</template>\n        </i18n>\n        <i18n v-if=\"tagSlug\">\n          <template #zh>标签 “{{ tagSlug }}” 的过滤结果</template>\n          <template #en>Tag \"{{ tagSlug }}\" 's result</template>\n        </i18n>\n        <i18n v-if=\"date\">\n          <template #zh>日期 “{{ date }}” 的过滤结果</template>\n          <template #en>Date \"{{ date }}\" 's result</template>\n        </i18n>\n        <i18n v-if=\"searchKeyword\">\n          <template #zh>关键词 “{{ searchKeyword }}” 的过滤结果</template>\n          <template #en>Search keyword \"{{ searchKeyword }}\" 's result</template>\n        </i18n>\n      </div>\n      <router-link to=\"/\" class=\"close\">\n        <i class=\"iconfont icon-cancel\"></i>\n      </router-link>\n    </div>\n    <!-- list -->\n    <placeholder\n      :data=\"articles.length\"\n      :loading=\"!articles.length && articleListStore.list.fetching\"\n    >\n      <template #loading>\n        <ul class=\"skeletons\" key=\"skeleton\">\n          <li v-for=\"item in 3\" :key=\"item\" class=\"item\">\n            <div class=\"thumb\">\n              <skeleton-base />\n            </div>\n            <div class=\"content\">\n              <div class=\"title\">\n                <skeleton-line />\n              </div>\n              <div class=\"description\">\n                <skeleton-line />\n              </div>\n            </div>\n          </li>\n        </ul>\n      </template>\n      <template #placeholder>\n        <empty class=\"empty\" :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n      </template>\n      <template #default>\n        <div>\n          <!-- list -->\n          <transition-group key=\"list\" name=\"list-fade\" tag=\"div\" class=\"list\">\n            <template v-for=\"(article, index) in articles\" :key=\"index\">\n              <mammon class=\"list-item\" v-if=\"article.ad\" />\n              <list-item :article=\"article\" class=\"list-item\" v-else />\n            </template>\n          </transition-group>\n          <!-- loadmore -->\n          <div class=\"loadmore\">\n            <button\n              class=\"button\"\n              :disabled=\"articleListStore.list.fetching || !hasMoreArticles\"\n              @click=\"loadmoreArticles\"\n            >\n              <div class=\"text\">\n                <i18n v-if=\"articleListStore.list.fetching\" :k=\"LanguageKey.ARTICLE_LIST_LOADING\" />\n                <i18n v-else-if=\"hasMoreArticles\" :k=\"LanguageKey.ARTICLE_LIST_LOADMORE\" />\n                <i18n v-else :k=\"LanguageKey.ARTICLE_LIST_NO_MORE\" />\n              </div>\n              <span class=\"icon\" v-if=\"hasMoreArticles\">\n                <i class=\"iconfont icon-loadmore\"></i>\n              </span>\n            </button>\n          </div>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, watch, onBeforeMount } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { META } from '/@/config/app.config'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { useArticleListStore, Article } from '/@/stores/article'\n  import { useMetaStore } from '/@/stores/meta'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ListItem from './item.vue'\n  import Mammon from './mammon.vue'\n\n  export default defineComponent({\n    name: 'MobileFlowArticleList',\n    components: {\n      ListItem,\n      Mammon\n    },\n    props: {\n      tagSlug: {\n        type: String,\n        required: false\n      },\n      categorySlug: {\n        type: String,\n        required: false\n      },\n      searchKeyword: {\n        type: String,\n        required: false\n      },\n      date: {\n        type: String,\n        required: false\n      }\n    },\n    setup(props) {\n      const { meta, i18n } = useEnhancer()\n      const metaStore = useMetaStore()\n      const articleListStore = useArticleListStore()\n\n      type ArticleItem = Article & { ad?: true }\n      const articles = computed<Array<ArticleItem>>(() => {\n        const list: ArticleItem[] = [...articleListStore.list.data]\n        if (list.length < 5) {\n          return list\n        } else {\n          list.splice(5, 0, { ad: true } as ArticleItem)\n          return list\n        }\n      })\n\n      const hasMoreArticles = computed(() => {\n        const pagination = articleListStore.list.pagination\n        return pagination ? pagination.current_page < pagination.total_page : false\n      })\n\n      meta(() => {\n        const titles: string[] = Object.values(props)\n          .filter(Boolean)\n          .map((prop) => firstUpperCase(prop as string))\n\n        // filter page\n        if (titles.length) {\n          return {\n            pageTitle: titles.join(' | ')\n          }\n        }\n\n        // index page\n        return {\n          title: `${META.title} - ${i18n.t(LanguageKey.APP_SLOGAN)}`,\n          description: metaStore.appOptions.data?.description,\n          keywords: metaStore.appOptions.data?.keywords.join(',')\n        }\n      })\n\n      const fetchArticles = async (params: any = {}) => {\n        await articleListStore.fetchList({\n          category_slug: props.categorySlug,\n          tag_slug: props.tagSlug,\n          date: props.date,\n          keyword: props.searchKeyword,\n          ...params\n        })\n      }\n\n      const loadmoreArticles = async () => {\n        await fetchArticles({\n          page: articleListStore.list.pagination.current_page + 1\n        })\n        onClient(scrollToNextScreen)\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props,\n          () => fetchArticles(),\n          { flush: 'post', deep: true }\n        )\n      })\n\n      useUniversalFetch(() => fetchArticles())\n\n      return {\n        LanguageKey,\n        articles,\n        articleListStore,\n        hasMoreArticles,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .articles {\n    .header {\n      $size: 4rem;\n      display: flex;\n      height: $size;\n      line-height: $size;\n      margin-left: -$gap;\n      margin-right: -$gap;\n      margin-top: -$lg-gap;\n      margin-bottom: $lg-gap;\n      text-align: center;\n      background-color: $module-bg-darker-1;\n\n      .close {\n        flex-shrink: 0;\n        width: $size;\n      }\n\n      .content {\n        flex-grow: 1;\n        padding-left: $size;\n        font-weight: bold;\n        @include text-overflow();\n      }\n    }\n\n    .skeletons {\n      padding: 0;\n      list-style: none;\n\n      .item {\n        background-color: $module-bg;\n        @include radius-box($sm-radius);\n        margin-bottom: $lg-gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumb {\n          height: 9rem;\n          padding: $gap;\n        }\n\n        .content {\n          padding: 1rem;\n          padding-top: 0;\n\n          .title {\n            width: 60%;\n            height: 2.4rem;\n          }\n\n          .description {\n            width: 80%;\n            margin-top: 1rem;\n            height: 1rem;\n          }\n        }\n      }\n    }\n\n    .list {\n      .list-item {\n        margin-bottom: $lg-gap;\n      }\n    }\n\n    .loadmore {\n      .button {\n        width: 50%;\n        margin: 0 auto;\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n        color: $text-disabled;\n\n        .text {\n          margin-bottom: $xs-gap;\n          padding-bottom: 3px;\n          border-bottom: 1px solid $text-divider;\n        }\n\n        .icon {\n          font-size: $font-size-h1;\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Tunnel constant\n * @module constant.tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum TunnelModule {\n  TwitterUserInfo = 'twitter_userinfo',\n  TwitterTweets = 'twitter_tweets',\n  TwitterCalendar = 'twitter_calendar',\n  YouTubePlaylist = 'youtube_playlist',\n  YouTubeVideoList = 'youtube_video_list',\n  InstagramMedias = 'instagram_medias',\n  InstagramCalendar = 'instagram_calendar',\n  BingWallpaper = 'bing_wallpaper',\n  GitHubRepositories = 'github_repositories',\n  GitHubContributions = 'github_contributions',\n  NetEaseMusic = 'netease_music'\n}\n","/**\n * @file BFF server config\n * @module config.bff\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const BFF_TUNNEL_PREFIX = '/_tunnel'\nexport const BFF_PROXY_PREFIX = '/_proxy'\nexport const BFF_PROXY_ALLOWLIST = ['https://surmon.me', 'https://cdn.surmon.me']\n\nexport const getBFFServerPort = () => Number(process.env.PORT || 3000)\n","/**\n * @file SSR BFF API Tunnel\n * @module service.tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios, { AxiosInstance } from 'axios'\nimport { BFF_TUNNEL_PREFIX, getBFFServerPort } from '/@/config/bff.config'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { isServer } from '/@/app/environment'\n\nconst tunnel = axios.create({\n  baseURL: BFF_TUNNEL_PREFIX,\n  proxy: isServer && {\n    host: 'localhost',\n    port: getBFFServerPort()\n  }\n})\n\ntunnel.interceptors.response.use((response) => response.data)\n\nexport default {\n  $: tunnel,\n  request: <T = any>(...args: Parameters<AxiosInstance['request']>): Promise<T> => {\n    return tunnel.request(...args)\n  },\n  dispatch: <T = any>(module: TunnelModule, params?: any): Promise<T> => {\n    return tunnel.get(module, { params })\n  }\n}\n","/**\n * @file Twitter state\n * @module store.twitter\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\nexport const useTwitterStore = defineStore('twitter', {\n  state: () => ({\n    userinfo: {\n      fetching: false,\n      data: null as null | Record<string, any>\n    },\n    tweets: {\n      fetching: false,\n      data: null as null | {\n        data: any[]\n        includes: any[]\n        meta: Record<string, any>\n      }\n    }\n  }),\n  actions: {\n    fetchUserinfo() {\n      this.userinfo.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.TwitterUserInfo)\n        .then((response) => {\n          this.userinfo.data = response\n        })\n        .finally(() => {\n          this.userinfo.fetching = false\n        })\n    },\n    fetchTweets() {\n      this.tweets.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.TwitterTweets)\n        .then((response) => {\n          this.tweets.data = response\n        })\n        .finally(() => {\n          this.tweets.fetching = false\n        })\n    }\n  }\n})\n","<template>\n  <div class=\"article-item\">\n    <div\n      class=\"item-background\"\n      :style=\"{\n        backgroundImage: `url(${getThumbnailURL(article.thumb)})`\n      }\"\n    />\n    <div class=\"item-content\">\n      <router-link class=\"item-thumb\" :to=\"getArticleDetailRoute(article.id)\">\n        <span\n          class=\"item-oirigin\"\n          :class=\"{\n            original: isOriginal,\n            hybrid: isHybrid,\n            reprint: isReprint\n          }\"\n        >\n          <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n          <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n          <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n        </span>\n        <div\n          class=\"image\"\n          :style=\"{ backgroundImage: `url(${getThumbnailURL(article.thumb)})` }\"\n          :alt=\"article.title\"\n          :title=\"article.title\"\n        />\n      </router-link>\n      <div class=\"item-body\">\n        <div class=\"item-content\">\n          <h5 class=\"title\">\n            <router-link\n              class=\"link\"\n              :to=\"getArticleDetailRoute(article.id)\"\n              :title=\"article.title\"\n            >\n              {{ article.title }}\n            </router-link>\n            <span class=\"language\">{{ getLanguageText(article.lang) }}</span>\n          </h5>\n          <p\n            class=\"description\"\n            style=\"-webkit-box-orient: vertical\"\n            v-html=\"article.description\"\n          ></p>\n        </div>\n        <div class=\"item-meta\">\n          <span class=\"date\">\n            <i class=\"iconfont icon-clock\"></i>\n            <udate to=\"ago\" :date=\"article.create_at\" />\n          </span>\n          <span class=\"views\">\n            <i class=\"iconfont icon-eye\"></i>\n            <span>{{ article.meta.views || 0 }}</span>\n          </span>\n          <span class=\"comments\">\n            <i class=\"iconfont icon-comment\"></i>\n            <span>{{ article.meta.comments || 0 }}</span>\n          </span>\n          <span class=\"likes\">\n            <i class=\"iconfont icon-like\" :class=\"{ liked: isLiked }\"></i>\n            <span>{{ article.meta.likes || 0 }}</span>\n          </span>\n          <span class=\"categories\">\n            <i class=\"iconfont icon-category\"></i>\n            <placeholder :transition=\"false\" :data=\"article.category.length\">\n              <template #placeholder>\n                <i18n :k=\"LanguageKey.CATEGORY_PLACEHOLDER\" />\n              </template>\n              <template #default>\n                <router-link\n                  v-for=\"(category, index) in article.category.slice(0, 1)\"\n                  :key=\"index\"\n                  :to=\"getCategoryFlowRoute(category.slug)\"\n                >\n                  <i18n :zh=\"category.name\" :en=\"category.slug\" />\n                </router-link>\n              </template>\n            </placeholder>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { Language, LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Article } from '/@/stores/article'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { getArticleDetailRoute, getTagFlowRoute, getCategoryFlowRoute } from '/@/transforms/route'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n  import { getArticleListThumbnailURL } from '/@/transforms/thumbnail'\n\n  export default defineComponent({\n    name: 'FlowArticleListItem',\n    props: {\n      article: {\n        type: Object as PropType<Article>,\n        required: true\n      }\n    },\n    setup(props) {\n      const { globalState } = useEnhancer()\n      const universalStore = useUniversalStore()\n\n      const isLiked = computed(() => universalStore.isLikedPage(props.article.id))\n      const isHybrid = isHybridType(props.article.origin)\n      const isReprint = isReprintType(props.article.origin)\n      const isOriginal = isOriginalType(props.article.origin)\n\n      const getThumbnailURL = (thumbURL: string) => {\n        return getArticleListThumbnailURL(thumbURL, globalState.imageExt.value.isWebP)\n      }\n\n      const getLanguageText = (language: Language) => {\n        return language === Language.Chinese ? '中文' : 'EN'\n      }\n\n      return {\n        LanguageKey,\n        isLiked,\n        isHybrid,\n        isReprint,\n        isOriginal,\n        getThumbnailURL,\n        getLanguageText,\n        getArticleDetailRoute,\n        getCategoryFlowRoute,\n        getTagFlowRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .article-item {\n    position: relative;\n    @include radius-box($sm-radius);\n\n    &:last-child {\n      margin: 0;\n    }\n\n    .item-background {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n      background-size: 120%;\n      background-position: 0% 50%;\n      opacity: 0.06;\n    }\n\n    > .item-content {\n      $height: $gap * 11;\n      $padding: $sm-gap;\n      $content-height: $height - ($padding * 2);\n      display: flex;\n      height: $height;\n      padding: $padding;\n      overflow: hidden;\n      @include common-bg-module($transition-time-fast);\n\n      &:hover {\n        .item-thumb {\n          .item-oirigin {\n            opacity: 1;\n          }\n\n          .image {\n            opacity: 0.88;\n            transform: translateX(-3px);\n          }\n        }\n      }\n\n      > .item-thumb {\n        flex-shrink: 0;\n        /* Google AdSense */\n        $width: 186px;\n        width: $width;\n        height: $content-height;\n        margin-right: $lg-gap;\n        position: relative;\n        @include radius-box($xs-radius);\n\n        .item-oirigin {\n          $height: 2.1rem;\n          $opacity: 0.7;\n          position: absolute;\n          left: 0;\n          top: 0;\n          height: $height;\n          line-height: $height;\n          z-index: $z-index-normal + 1;\n          padding: 0 $sm-gap;\n          border-bottom-right-radius: $xs-radius;\n          opacity: 0.5;\n          font-size: $font-size-small;\n          color: $white;\n          text-align: center;\n          @include visibility-transition();\n\n          &.original {\n            background-color: rgba($surmon, $opacity);\n          }\n          &.hybrid {\n            background-color: rgba($accent, $opacity);\n          }\n          &.reprint {\n            background-color: rgba($red, $opacity);\n          }\n        }\n\n        .image {\n          height: 100%;\n          min-width: 100%;\n          width: $width + 3px;\n          max-width: $width + 3px;\n          border-color: transparent;\n          background-color: $module-bg-hover;\n          background-size: cover;\n          background-position: center;\n          opacity: 1;\n          transform: translateX(0);\n          transition: transform $transition-time-normal, opacity $transition-time-normal;\n        }\n      }\n\n      > .item-body {\n        flex-grow: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: $content-height;\n        padding-right: $xs-gap;\n\n        .title {\n          display: flex;\n          justify-content: space-between;\n          margin-top: 3px;\n          margin-bottom: $sm-gap;\n          font-weight: bold;\n\n          .link {\n            display: block;\n            max-width: 26rem;\n            margin-left: 0;\n            transition: margin $transition-time-normal;\n            border-bottom: 1px solid transparent;\n            text-decoration: none;\n            @include text-overflow();\n            color: $text;\n            &:hover {\n              color: $link-color;\n              border-color: initial;\n              margin-left: $xs-gap;\n            }\n          }\n\n          .language {\n            opacity: 0.5;\n            color: $text-divider;\n          }\n        }\n\n        .description {\n          margin: 0;\n          line-height: 1.8em;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-size: $font-size-h6;\n          @include clamp(2);\n        }\n\n        > .item-meta {\n          height: 2em;\n          line-height: 2em;\n          display: flex;\n          justify-content: space-between;\n          align-items: baseline;\n          overflow: hidden;\n          font-size: $font-size-small;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          word-wrap: normal;\n          color: $text-secondary;\n\n          > .views {\n            min-width: 4rem;\n          }\n\n          > .likes {\n            > .liked {\n              color: $red;\n            }\n          }\n\n          > .likes,\n          > .comments {\n            min-width: 3em;\n          }\n\n          > .date,\n          > .views,\n          > .comments,\n          > .likes,\n          > .tags,\n          > .categories {\n            > .iconfont {\n              margin-right: $xs-gap;\n            }\n          }\n\n          > .categories {\n            a {\n              color: $text-secondary;\n              text-transform: capitalize;\n              margin-right: $sm-gap;\n\n              &:last-child {\n                margin-right: 0;\n              }\n            }\n          }\n\n          > .tags {\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"articles\" :class=\"{ dark: isDarkTheme }\">\n    <!-- list -->\n    <div class=\"article-list\">\n      <placeholder :data=\"articles.length\" :loading=\"!articles.length && fetching\">\n        <template #loading>\n          <ul class=\"article-list-skeleton\" key=\"skeleton\">\n            <li v-for=\"item in 6\" :key=\"item\" class=\"item\">\n              <div class=\"thumb\">\n                <skeleton-base />\n              </div>\n              <div class=\"content\">\n                <div class=\"title\">\n                  <skeleton-line />\n                </div>\n                <div class=\"description\">\n                  <div class=\"line-item\" :class=\"index\" :key=\"index\" v-for=\"(line, index) in 2\">\n                    <skeleton-line />\n                  </div>\n                </div>\n                <skeleton-line class=\"meta\" />\n              </div>\n            </li>\n          </ul>\n        </template>\n        <template #placeholder>\n          <empty class=\"empty\" :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n        </template>\n        <template #default>\n          <div key=\"list\">\n            <!-- list-mammon -->\n            <client-only>\n              <template v-if=\"mammon\">\n                <Adsense\n                  v-if=\"isDarkTheme\"\n                  ins-class=\"mammon-ins\"\n                  data-ad-format=\"fluid\"\n                  data-ad-layout-key=\"-hj-9+3a-97+6s\"\n                  data-ad-slot=\"1765379407\"\n                  class=\"article-list-mammon\"\n                />\n                <Adsense\n                  v-else\n                  ins-class=\"mammon-ins\"\n                  data-ad-format=\"fluid\"\n                  data-ad-layout-key=\"-hj-9+3a-97+6s\"\n                  data-ad-slot=\"1148538406\"\n                  class=\"article-list-mammon\"\n                />\n              </template>\n            </client-only>\n            <transition-group name=\"list-fade\">\n              <list-item\n                v-for=\"articleItem in articles\"\n                class=\"list-item\"\n                :key=\"articleItem.id\"\n                :article=\"articleItem\"\n              />\n            </transition-group>\n          </div>\n        </template>\n      </placeholder>\n    </div>\n\n    <!-- loadmore -->\n    <div class=\"article-load\">\n      <button\n        class=\"loadmore-button\"\n        :disabled=\"fetching || !isLoadMoreEnabled\"\n        @click=\"handleLoadmore\"\n      >\n        <span class=\"icon\">\n          <i class=\"iconfont icon-loadmore\"></i>\n        </span>\n        <span class=\"text\" :class=\"{ en: !isZhLang }\">\n          <i18n v-if=\"fetching\" :k=\"LanguageKey.ARTICLE_LIST_LOADING\" />\n          <i18n v-else-if=\"isLoadMoreEnabled\" :k=\"LanguageKey.ARTICLE_LIST_LOADMORE\" />\n          <i18n v-else :k=\"LanguageKey.ARTICLE_LIST_NO_MORE\" />\n        </span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Article } from '/@/stores/article'\n  import { LanguageKey } from '/@/language'\n  import ListItem from './item.vue'\n\n  export enum Events {\n    Loadmore = 'loadmore'\n  }\n\n  export default defineComponent({\n    name: 'FlowArticleList',\n    components: {\n      ListItem\n    },\n    props: {\n      articles: {\n        type: Array as PropType<Article[]>,\n        required: true\n      },\n      pagination: Object,\n      fetching: {\n        type: Boolean,\n        required: true\n      },\n      mammon: {\n        type: Boolean,\n        default: true\n      }\n    },\n    emits: [Events.Loadmore],\n    setup(props, context) {\n      const { isZhLang, isDarkTheme } = useEnhancer()\n      const isLoadMoreEnabled = computed(() => {\n        return props.pagination\n          ? props.pagination.current_page < props.pagination.total_page\n          : false\n      })\n\n      const handleLoadmore = () => {\n        context.emit(Events.Loadmore)\n      }\n\n      return {\n        LanguageKey,\n        isZhLang,\n        isDarkTheme,\n        isLoadMoreEnabled,\n        handleLoadmore\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .articles {\n    .article-list-skeleton {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        display: flex;\n        height: 10rem;\n        padding: $gap;\n        margin-bottom: $lg-gap;\n        @include common-bg-module();\n        @include radius-box($sm-radius);\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumb {\n          height: 100%;\n          width: 15rem;\n        }\n\n        .content {\n          margin-left: $lg-gap;\n          flex-grow: 1;\n\n          .title {\n            height: 1.5em;\n            width: 36%;\n          }\n          .description {\n            .line-item {\n              width: 100%;\n              height: $lg-gap;\n              margin-top: $sm-gap;\n            }\n          }\n          .meta {\n            width: 68%;\n            height: $lg-gap;\n            margin-top: $lg-gap;\n          }\n        }\n      }\n    }\n\n    .article-list-mammon {\n      width: 100%;\n      min-height: 10rem;\n      padding: $sm-gap;\n      margin-bottom: $lg-gap;\n      @include common-bg-module();\n      @include radius-box($sm-radius);\n\n      &::v-deep(.mammon-ins) {\n        margin: $xs-gap 0;\n        height: 100px;\n      }\n    }\n\n    .article-list {\n      margin-bottom: $lg-gap;\n      min-height: $lg-gap;\n      overflow: hidden;\n\n      .empty {\n        height: $gap * 10;\n        font-size: $font-size-h4;\n        font-weight: bold;\n        @include common-bg-module();\n        @include radius-box($sm-radius);\n      }\n\n      .list-item {\n        margin-bottom: $lg-gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .article-load {\n      overflow: hidden;\n      z-index: $z-index-normal;\n      @include radius-box($sm-radius);\n\n      .loadmore-button {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        height: $button-block-height;\n        line-height: $button-block-height;\n        padding-left: $gap * 2;\n        color: $text-reversal;\n        @include common-bg-module($transition-time-fast);\n\n        &[disabled] {\n          opacity: 0.6;\n        }\n\n        &:not([disabled]):hover {\n          .iconfont {\n            color: rgba($red, 0.8);\n          }\n          .text {\n            background: rgba($red, 0.8);\n          }\n        }\n\n        .icon {\n          font-weight: bold;\n          color: $text-secondary;\n          @include color-transition();\n        }\n\n        .text {\n          position: relative;\n          height: $button-block-height;\n          padding: 0 ($gap * 2) 0 ($gap * 3);\n          background: rgba($red, 0.6);\n          font-family: 'webfont-bolder', DINRegular;\n          text-transform: uppercase;\n          color: $white;\n          &.en {\n            font-weight: bold;\n          }\n\n          &::before {\n            $size: 1rem;\n            content: '';\n            display: block;\n            position: absolute;\n            width: $size;\n            height: 200%;\n            top: -50%;\n            left: -#{math.div($size, 2)};\n            background: $body-bg;\n            transform: rotate(18deg);\n          }\n        }\n      }\n    }\n\n    &.dark {\n      .article-load {\n        .loadmore-button {\n          .text {\n            &::before {\n              background: $module-bg-darker-1 !important;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Swiper for vue\n * @module effect.swiper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport {\n  Swiper as SwiperClass,\n  Pagination,\n  Navigation,\n  Grid,\n  Lazy,\n  Mousewheel,\n  Autoplay,\n  A11y,\n  EffectFade\n} from 'swiper'\n\nSwiperClass.use([Grid, Pagination, Navigation, Mousewheel, Autoplay, A11y, Lazy, EffectFade])\n\nexport default SwiperClass\nexport { Swiper, SwiperSlide } from 'swiper/vue'\n","<template>\n  <div class=\"carrousel\" :class=\"{ dark: isDarkTheme }\">\n    <placeholder :data=\"articleList.length\" :loading=\"fetching\">\n      <template #placeholder>\n        <empty class=\"article-empty\" key=\"empty\">\n          <i18n :k=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <div class=\"article-skeleton\" key=\"skeleton\">\n          <div class=\"title\">\n            <skeleton-line />\n          </div>\n          <div class=\"content\">\n            <div class=\"first\">\n              <skeleton-line />\n            </div>\n            <div class=\"line\" v-for=\"(line, index) in 3\" :key=\"index\">\n              <skeleton-line class=\"line-item\" />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <swiper\n          class=\"swiper\"\n          :set-wrapper-size=\"true\"\n          :mousewheel=\"true\"\n          :observe-parents=\"true\"\n          :grab-cursor=\"false\"\n          :simulate-touch=\"false\"\n          :preload-images=\"false\"\n          :lazy=\"false\"\n          :pagination=\"{ clickable: true }\"\n          :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n        >\n          <swiper-slide v-for=\"(article, index) in articleList.slice(0, 9)\" :key=\"index\">\n            <div class=\"content\">\n              <template v-if=\"article.ad\">\n                <ulink class=\"link\" :href=\"article.url\">\n                  <img :src=\"article.src\" :alt=\"article.title\" />\n                  <div class=\"title\">\n                    <div class=\"background\"></div>\n                    <div class=\"prospect\">\n                      <span\n                        class=\"text\"\n                        :style=\"{\n                          backgroundImage: `url('${getThumbURL(article.src)}')`\n                        }\"\n                        >{{ article.title }}</span\n                      >\n                    </div>\n                  </div>\n                  <span class=\"ad-symbol\">\n                    <i18n :k=\"LanguageKey.AD\" />\n                  </span>\n                </ulink>\n              </template>\n              <template v-else>\n                <router-link :to=\"getArticleDetailRoute(article.id)\" class=\"link\">\n                  <img :src=\"getThumbURL(article.thumb)\" :alt=\"article.title\" draggable=\"false\" />\n                  <div class=\"title\">\n                    <div class=\"background\"></div>\n                    <div class=\"prospect\">\n                      <span\n                        class=\"text\"\n                        :style=\"{\n                          backgroundImage: `url('${getThumbURL(article.thumb)}')`\n                        }\"\n                        >{{ article.title }}</span\n                      >\n                    </div>\n                  </div>\n                </router-link>\n              </template>\n            </div>\n          </swiper-slide>\n        </swiper>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Article } from '/@/stores/article'\n  import { LanguageKey } from '/@/language'\n  import { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getArticleBannerThumbnailURL } from '/@/transforms/thumbnail'\n\n  export default defineComponent({\n    name: 'IndexCarrousel',\n    components: {\n      Swiper,\n      SwiperSlide\n    },\n    props: {\n      articles: {\n        type: Array as PropType<Article[]>,\n        required: true\n      },\n      fetching: {\n        type: Boolean,\n        required: true\n      }\n    },\n    setup(props) {\n      const { globalState, adConfig, isDarkTheme } = useEnhancer()\n      const articleList = computed(() => {\n        const articles: Array<Article | any> = [...props.articles].slice(0, 9)\n        if (adConfig.value.PC_CARROUSEL) {\n          const { index, ...otherConfig } = adConfig.value.PC_CARROUSEL\n          articles.length &&\n            articles.splice(index, 0, {\n              ad: true,\n              ...otherConfig\n            } as any)\n        }\n        return articles\n      })\n\n      const getThumbURL = (thumb: string): string => {\n        return getArticleBannerThumbnailURL(thumb, globalState.imageExt.value.isWebP)\n      }\n\n      return {\n        LanguageKey,\n        isDarkTheme,\n        articleList,\n        getArticleDetailRoute,\n        getThumbURL\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .carrousel {\n    $carrousel-height: 210px;\n    position: relative;\n    height: $carrousel-height;\n    @include common-bg-module();\n    @include radius-box($lg-radius);\n\n    .article-empty {\n      font-size: $font-size-h1;\n      font-weight: bold;\n    }\n\n    .article-skeleton {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      padding: 2rem;\n\n      .content {\n        width: 50%;\n        margin-top: 4rem;\n        margin-left: 1rem;\n\n        .first {\n          width: 8rem;\n          height: $gap * 2;\n          margin-bottom: $gap;\n        }\n\n        .line {\n          .line-item {\n            width: 14rem;\n            height: $lg-gap;\n            margin-bottom: $gap;\n          }\n        }\n      }\n\n      .title {\n        position: absolute;\n        top: 2rem;\n        right: 2rem;\n        height: 2.6rem;\n        width: 18rem;\n      }\n    }\n\n    &.dark {\n      .swiper-slide {\n        .title {\n          .prospect {\n            .text {\n              color: $link-color !important;\n              -webkit-text-fill-color: $link-color !important;\n            }\n          }\n        }\n      }\n    }\n\n    .swiper {\n      width: 595px;\n      height: $carrousel-height;\n\n      // filter for slide when transitioning\n      ::v-deep(.swiper-wrapper[style*='300ms']) {\n        .swiper-slide-active {\n          .content {\n            @include blur-filter('horizontal');\n          }\n        }\n      }\n\n      ::v-deep(.swiper-pagination) {\n        .swiper-pagination-bullet-active {\n          width: 2rem;\n        }\n      }\n\n      .content {\n        width: 100%;\n        height: $carrousel-height;\n        position: relative;\n        overflow: hidden;\n\n        > .link {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n\n        img {\n          width: 100%;\n          transform: scale(1);\n          transition: transform $transition-time-normal;\n\n          &:hover {\n            transform: scale(1.06);\n          }\n        }\n\n        .ad-symbol {\n          display: block;\n          position: absolute;\n          top: 5.6rem;\n          right: 2.6rem;\n          font-size: $font-size-small;\n          color: $module-bg;\n          border-radius: $mini-radius;\n          padding: 0.1em 0.3em;\n          border: 1px solid;\n        }\n\n        .title {\n          $offset: 3px;\n          display: block;\n          position: absolute;\n          top: 2rem;\n          right: 2.6rem;\n          opacity: 0.8;\n          transition: opacity $transition-time-normal;\n\n          .background {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: -1;\n            top: 0;\n            left: 0;\n            background-color: $module-bg;\n            transform: translate3d($offset, -$offset, 0);\n            transition: transform $transition-time-fast;\n          }\n\n          .prospect {\n            padding: 0 1em;\n            height: 2em;\n            line-height: 2em;\n            @include text-overflow;\n            background-color: $module-bg-opaque;\n            background-position: top right;\n            transform: translate3d(-$offset, $offset, 0);\n            transition: transform $transition-time-fast;\n\n            .text {\n              letter-spacing: 0.3px;\n              font-weight: bold;\n              color: $text;\n              background-clip: text;\n              -webkit-background-clip: text;\n              -webkit-text-fill-color: transparent;\n            }\n          }\n\n          &:hover {\n            opacity: 1;\n            .background {\n              transform: translate3d(0, 0, 0);\n            }\n            .prospect {\n              transform: translate3d(0, 0, 0);\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file GTag constant\n * @module constant.gtag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum GAEventCategories {\n  Comment = 'comment',\n  Share = 'share',\n  Widget = 'widget',\n  Universal = 'global',\n  Article = 'page_article',\n  Index = 'page_index',\n  App = 'page_app',\n  About = 'page_about',\n  Lens = 'page_lens'\n}\n","/**\n * @file Avatar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { InstagramMediaItem } from '/@/server/getters/instagram'\nimport { ProxyModule } from '/@/constants/proxy'\nimport { getTargetProxyURL } from '/@/transforms/url'\n\n// https://www.instagram.com/p/['IMAGE-CODE']/?__a=1\n// https://www.surinderbhomra.com/Blog/2016/05/16/Resize-An-Instagram-Image-Using-A-Media-Query-Parameter\nexport const getInstagramImage = (media: InstagramMediaItem, size?: 't' | 'm' | 'l') => {\n  if (size) {\n    return getTargetProxyURL(`${media.permalink}media/?size=${size}`, ProxyModule.Instagram)\n  } else {\n    return getTargetProxyURL(media.media_url, ProxyModule.Instagram)\n  }\n}\n\nexport const getYouTubePlaylistURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoEmbedURL = (id: string, list?: string) => {\n  const listParam = list ? `?list=${list}` : ''\n  return `https://www.youtube.com/embed/${id}${listParam}`\n}\n\nexport const getTwitterTweetDetailURL = (uid: string, id: string) => {\n  return `https://twitter.com/${uid}/status/${id}`\n}\n\nexport const get163MusicSongDetailURL = (songID: string | number) => {\n  return `https://music.163.com/#/song?id=${songID}`\n}\n","<template>\n  <div class=\"twitter\">\n    <placeholder :data=\"completedTweets.length\" :loading=\"fetching\">\n      <template #placeholder>\n        <empty class=\"twitter-empty\" key=\"empty\">\n          <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <div class=\"twitter-skeleton\" key=\"skeleton\">\n          <div class=\"left\">\n            <skeleton-line />\n          </div>\n          <div class=\"right\">\n            <skeleton-line />\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <div class=\"warpper\" key=\"warpper\">\n          <div class=\"user\" v-if=\"userinfo\">\n            <div class=\"userinfo\" :title=\"userinfo.username\">\n              <ulink\n                class=\"logo-link\"\n                :href=\"VALUABLE_LINKS.TWITTER\"\n                @mousedown=\"handleGtagEvent('twitter_homepage')\"\n              >\n                <uimage class=\"avatar\" proxy :src=\"userinfo.profile_image_url\" />\n                <span class=\"logo\">\n                  <i class=\"iconfont icon-twitter\" />\n                </span>\n              </ulink>\n              <div class=\"counts\">\n                <div class=\"item top\">\n                  <span class=\"count\">{{\n                    padStart(userinfo.public_metrics.tweet_count, 3, '0')\n                  }}</span>\n                  <span class=\"text\">TS</span>\n                </div>\n                <div class=\"item bottom\">\n                  <span class=\"count\">{{\n                    padStart(userinfo.public_metrics.followers_count, 3, '0')\n                  }}</span>\n                  <span class=\"text\">FS</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <swiper\n            v-if=\"completedTweets.length\"\n            class=\"swiper\"\n            direction=\"vertical\"\n            :height=\"66\"\n            :mousewheel=\"true\"\n            :allow-touch-move=\"false\"\n            :slides-per-view=\"1\"\n            :prevent-clicks=\"false\"\n            :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n            @transition-start=\"handleSwiperTransitionStart\"\n            @swiper=\"handleSwiperReady\"\n          >\n            <swiper-slide class=\"tweet-item\" v-for=\"(t, index) in completedTweets\" :key=\"index\">\n              <div class=\"content\" :title=\"t.tweet.text\">\n                <div class=\"reference\" v-if=\"t.tweet.referenced_tweets?.length\">[R]</div>\n                <div\n                  class=\"main\"\n                  :class=\"{ 'has-media': t.medias.length }\"\n                  v-if=\"t.html\"\n                  v-html=\"t.html\"\n                ></div>\n                <ulink\n                  v-if=\"t.medias.length\"\n                  class=\"end-link\"\n                  :class=\"{ empty: !t.html }\"\n                  :href=\"t.url\"\n                  @mousedown=\"handleGtagEvent('twitter_image_link')\"\n                >\n                  <template v-if=\"t.medias.find((m) => m.type === 'video')\">\n                    <i class=\"iconfont media icon-video\"></i>\n                  </template>\n                  <template v-else>\n                    <i class=\"iconfont media icon-image\"></i>\n                  </template>\n                  <span class=\"text\">[{{ t.medias.length }}]</span>\n                  <i class=\"iconfont window icon-new-window-s\"></i>\n                </ulink>\n              </div>\n              <div class=\"meta\">\n                <ulink\n                  class=\"item link\"\n                  title=\"To Tweet\"\n                  :href=\"t.url\"\n                  @mousedown=\"handleGtagEvent('twitter_detail_link')\"\n                >\n                  <i class=\"iconfont twitter icon-twitter\"></i>\n                  <span>Tweet</span>\n                  <i class=\"iconfont window icon-new-window-s\"></i>\n                </ulink>\n                <span class=\"item reply\">\n                  <i class=\"iconfont icon-comment\"></i>\n                  <span>{{ t.tweet.public_metrics.reply_count }}</span>\n                </span>\n                <span class=\"item like\">\n                  <i class=\"iconfont icon-heart\"></i>\n                  <span>{{ t.tweet.public_metrics.like_count }}</span>\n                </span>\n                <span class=\"item date\">\n                  <i class=\"iconfont icon-clock\"></i>\n                  <udate to=\"ago\" :date=\"t.tweet.created_at\" />\n                </span>\n                <span class=\"item location\" :title=\"t.location\" v-if=\"t.location\">\n                  <i class=\"iconfont icon-location\"></i>\n                  <span>{{ t.location }}</span>\n                </span>\n              </div>\n            </swiper-slide>\n          </swiper>\n          <div class=\"navigation\">\n            <button class=\"button prev\" :disabled=\"activeIndex === 0\" @click=\"prevSlide\">\n              <i class=\"iconfont icon-totop\" />\n            </button>\n            <button\n              class=\"button next\"\n              :disabled=\"activeIndex === completedTweets.length - 1\"\n              @click=\"nextSlide\"\n            >\n              <i class=\"iconfont icon-tobottom\" />\n            </button>\n          </div>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType } from 'vue'\n  import { THIRD_IDS, VALUABLE_LINKS } from '/@/config/app.config'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import { getTwitterTweetDetailURL } from '/@/transforms/media'\n  import { unescape, padStart } from '/@/transforms/text'\n\n  export default defineComponent({\n    name: 'IndexTwitter',\n    components: {\n      Swiper,\n      SwiperSlide\n    },\n    props: {\n      userinfo: {\n        type: Object as PropType<Record<string, any>>,\n        default: null\n      },\n      tweets: {\n        type: Object,\n        default: null\n      },\n      fetching: {\n        type: Boolean,\n        required: true\n      }\n    },\n    setup(props) {\n      const { gtag } = useEnhancer()\n      const swiper = ref<SwiperClass>()\n      const prevSlide = () => swiper.value?.slidePrev()\n      const nextSlide = () => swiper.value?.slideNext()\n      const handleSwiperReady = (_swiper: SwiperClass) => {\n        swiper.value = _swiper\n      }\n      const activeIndex = ref(0)\n      const handleSwiperTransitionStart = () => {\n        activeIndex.value = swiper.value?.activeIndex || 0\n      }\n\n      const handleGtagEvent = (name: string) => {\n        gtag?.event(name, {\n          event_category: GAEventCategories.Index\n        })\n      }\n\n      const getLocation = (tweet: any) => {\n        if (tweet.geo?.place_id) {\n          const places = props.tweets.includes.places || []\n          const target = places.find((place) => place.id === tweet.geo?.place_id)\n          if (target) {\n            return `${target.country_code} · ${target.name}`\n          }\n        }\n        return null\n      }\n\n      const getMedias = (tweet: any): any[] => {\n        const mediaKeys = tweet.attachments?.media_keys || []\n        if (mediaKeys.length) {\n          const medias = props.tweets.includes.media || []\n          return mediaKeys\n            .map((key) => medias.find((media) => media.media_key === key))\n            .filter(Boolean)\n        }\n        return []\n      }\n\n      const completedTweets = computed(() => {\n        const tweets = props.tweets\n        if (!tweets?.data) {\n          return []\n        }\n\n        return tweets.data.map((tweet) => {\n          const completedTweet: any = {\n            tweet,\n            url: getTwitterTweetDetailURL(THIRD_IDS.TWITTER_USER_ID, tweet.id),\n            location: getLocation(tweet),\n            medias: getMedias(tweet),\n            html: unescape(tweet.text)\n          }\n\n          // text (urls | image | link)\n          tweet.entities?.urls?.forEach((url) => {\n            if (url.display_url?.startsWith('pic.twitter.com')) {\n              // remove image urls from text\n              completedTweet.html = completedTweet.html.replace(url.url, '')\n            } else {\n              // replace link urls to text\n              completedTweet.html = completedTweet.html.replace(\n                url.url,\n                `<a\n                    class=\"link\"\n                    target=\"_blank\"\n                    rel=\"external nofollow noopener\"\n                    title=\"${url.expanded_url}\"\n                    href=\"${url.url}\"\n                  >\n                    <span class=\"text\">[${url.display_url}]</span>\n                  </a>\n                `\n              )\n            }\n          })\n          return completedTweet\n        })\n      })\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        completedTweets,\n        activeIndex,\n        padStart,\n        prevSlide,\n        nextSlide,\n        handleSwiperReady,\n        handleSwiperTransitionStart,\n        handleGtagEvent\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  $twitter-height: 66px;\n  $content-height: 42px;\n  $userinfo-width: 12rem;\n\n  .twitter {\n    position: relative;\n    height: $twitter-height;\n    @include common-bg-module();\n    @include radius-box($sm-radius);\n\n    .twitter-empty {\n      height: 100%;\n      min-height: auto;\n      font-weight: bold;\n    }\n\n    .twitter-skeleton {\n      display: flex;\n      width: 100%;\n      height: 100%;\n      padding: $gap;\n\n      .left {\n        width: $userinfo-width;\n        margin-right: $lg-gap;\n      }\n      .right {\n        flex: 1;\n      }\n    }\n\n    .warpper {\n      display: flex;\n\n      .user {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        width: $userinfo-width;\n        height: $twitter-height;\n        border-right: 2px solid $module-bg-darker-1;\n\n        .userinfo {\n          display: flex;\n\n          .logo-link {\n            position: relative;\n            margin-right: 1.5rem;\n            background-color: $twitter-primary;\n            color: $white;\n            opacity: 0.9;\n            @include radius-box($xs-radius);\n            @include visibility-transition();\n            &:hover {\n              opacity: 1;\n            }\n\n            .avatar {\n              width: $content-height;\n              height: $content-height;\n            }\n\n            .logo {\n              position: absolute;\n              width: 50%;\n              height: 50%;\n              bottom: 0;\n              right: 0;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              border-top-left-radius: $xs-radius;\n              background-color: rgba($twitter-primary, 0.9);\n              font-size: $font-size-small;\n            }\n          }\n\n          .counts {\n            position: relative;\n            display: inline-flex;\n            flex-direction: column;\n            justify-content: space-around;\n            height: $content-height;\n            padding: 0.2em 0.3em 0.26em 0.5em;\n            border-radius: $xs-radius;\n            background-color: $module-bg-darker-1;\n            &::before {\n              $size: 5px;\n              content: '';\n              position: absolute;\n              left: -$size * 2;\n              top: 20%;\n              width: 0;\n              height: 0;\n              border-top: $size solid transparent;\n              border-right: $size * 2 solid $module-bg-darker-1;\n              border-bottom: $size solid transparent;\n            }\n\n            .item {\n              .count {\n                font-size: $font-size-small + 1;\n                margin-right: 6px;\n                font-weight: bold;\n                color: $text-secondary;\n              }\n\n              .text {\n                color: $text-disabled;\n                font-size: $font-size-small;\n                letter-spacing: 1px;\n              }\n            }\n          }\n        }\n      }\n\n      .swiper {\n        flex: 1;\n        height: $twitter-height;\n\n        ::v-deep(.swiper-wrapper) {\n          flex-direction: column;\n          &[style*='300ms'] {\n            .swiper-slide-active {\n              @include blur-filter('vertical-small');\n            }\n          }\n        }\n\n        .tweet-item {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          box-sizing: border-box;\n          width: 100%;\n          height: $twitter-height;\n          padding: 0 $lg-gap;\n\n          .content {\n            display: flex;\n            height: 20px;\n            line-height: 20px;\n            margin-bottom: 6px;\n            $content-gap: 0.3em;\n\n            .reference {\n              margin-right: $xs-gap;\n            }\n\n            .main {\n              max-width: 96%;\n              font-weight: bold;\n              @include text-overflow();\n              &.has-media {\n                max-width: #{calc(100% - 40px)};\n              }\n\n              & + .end-link {\n                margin-left: $content-gap;\n              }\n\n              ::v-deep(.link) {\n                font-weight: normal;\n                font-size: $font-size-base - 1;\n                color: $text-secondary;\n                @include color-transition();\n                &:hover {\n                  color: $link-color;\n                  text-decoration: underline;\n                }\n\n                & + .link {\n                  margin-left: $content-gap;\n                }\n\n                .iconfont {\n                  margin-right: -3px;\n                  color: $text-secondary;\n                }\n              }\n            }\n\n            .end-link {\n              position: relative;\n              color: $text-secondary;\n              &.empty {\n                color: $text;\n              }\n              &:hover {\n                &,\n                .iconfont {\n                  color: $link-color !important;\n                }\n              }\n\n              .text {\n                margin-left: $xs-gap;\n                vertical-align: top;\n                font-size: $font-size-small;\n                @include color-transition();\n              }\n\n              .iconfont {\n                vertical-align: top;\n                @include color-transition();\n\n                &.media {\n                  font-size: $font-size-base + 1;\n                }\n\n                &.window {\n                  color: $text-disabled;\n                  position: absolute;\n                  top: -0.6em;\n                  right: -1.2em;\n                  font-size: 8px;\n                }\n              }\n            }\n          }\n\n          .meta {\n            display: flex;\n            align-items: center;\n            width: 100%;\n            overflow: hidden;\n\n            .item {\n              display: inline-block;\n              margin-right: $lg-gap;\n              font-size: $font-size-small;\n              color: $text-divider;\n              @include color-transition();\n              .iconfont {\n                margin-right: $xs-gap;\n                font-size: $font-size-small - 1;\n              }\n\n              &.link {\n                .window {\n                  margin-right: 0;\n                  margin-left: 2px;\n                  font-size: 10px;\n                }\n\n                &:hover {\n                  color: $text;\n                }\n              }\n\n              &.location {\n                flex: 1;\n                margin-right: 0;\n                @include text-overflow();\n              }\n            }\n          }\n        }\n      }\n\n      .navigation {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 3rem;\n        height: $twitter-height;\n        border-left: 1px solid $module-bg-darker-1;\n\n        .button {\n          height: 40%;\n          line-height: -#{math.div($twitter-height, 2)};\n          font-size: $font-size-small;\n          text-align: center;\n          color: $text-disabled;\n          @include color-transition();\n          &:not([disabled]):hover {\n            color: $link-color;\n          }\n\n          &[disabled] {\n            opacity: 0.8;\n            color: $text-divider;\n            cursor: no-drop;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"index-page\">\n    <carrousel\n      class=\"carrousel\"\n      :articles=\"articleListStore.list.data\"\n      :fetching=\"articleListStore.list.fetching\"\n    />\n    <twitter\n      class=\"twitter\"\n      :userinfo=\"twitterStore.userinfo.data || void 0\"\n      :tweets=\"twitterStore.tweets.data || void 0\"\n      :fetching=\"\n        twitterStore.userinfo.fetching ||\n        twitterStore.tweets.fetching ||\n        articleListStore.list.fetching\n      \"\n    />\n    <article-list\n      :mammon=\"false\"\n      :fetching=\"articleListStore.list.fetching\"\n      :articles=\"articleListStore.list.data\"\n      :pagination=\"articleListStore.list.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { useTwitterStore } from '/@/stores/twitter'\n  import { useArticleListStore } from '/@/stores/article'\n  import { useMetaStore } from '/@/stores/meta'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import { LanguageKey } from '/@/language'\n  import { META } from '/@/config/app.config'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n  import Carrousel from './carrousel.vue'\n  import Twitter from './twitter.vue'\n\n  export default defineComponent({\n    name: 'IndexPage',\n    components: {\n      Carrousel,\n      Twitter,\n      ArticleList\n    },\n    setup() {\n      const { meta, i18n } = useEnhancer()\n      const metaStore = useMetaStore()\n      const twitterStore = useTwitterStore()\n      const articleListStore = useArticleListStore()\n\n      meta(() => ({\n        title: `${META.title} - ${i18n.t(LanguageKey.APP_SLOGAN)}`,\n        description: metaStore.appOptions.data?.description,\n        keywords: metaStore.appOptions.data?.keywords.join(',')\n      }))\n\n      const loadmoreArticles = async () => {\n        const targetPage = articleListStore.list.pagination?.current_page + 1\n        await articleListStore.fetchList({ page: targetPage })\n        if (targetPage > 1) {\n          onClient(scrollToNextScreen)\n        }\n      }\n\n      useUniversalFetch(() => {\n        return Promise.all([\n          articleListStore.fetchList(),\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          twitterStore.fetchUserinfo().catch(() => {}),\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          twitterStore.fetchTweets().catch(() => {})\n        ])\n      })\n\n      return {\n        twitterStore,\n        articleListStore,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .index-page {\n    .carrousel,\n    .twitter {\n      margin-bottom: $lg-gap;\n    }\n  }\n</style>\n","/**\n * @file Categories state\n * @module store.category\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { UniversalKeyValue } from '/@/constants/state'\nimport nodepress from '/@/services/nodepress'\n\nexport interface Category {\n  id: number\n  _id: string\n  pid: string\n  name: string\n  slug: string\n  description: string\n  update_at: string\n  create_at: string\n  extends: UniversalKeyValue[]\n  articles_count: number\n}\n\nexport const useCategoryStore = defineStore('category', {\n  state: () => ({\n    fetched: false,\n    fetching: false,\n    categories: [] as Array<Category>\n  }),\n  actions: {\n    fetchAll() {\n      if (this.fetched) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return nodepress\n        .get('/category', { params: { per_page: 50 } })\n        .then((response) => {\n          this.categories = response.result.data\n          this.fetched = true\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","<template>\n  <div class=\"header\">\n    <div\n      class=\"background\"\n      :style=\"{\n        backgroundColor,\n        backgroundImage: `url(${backgroundImageUrl})`\n      }\"\n    />\n    <div class=\"content\">\n      <div class=\"logo\">\n        <transition name=\"module\" mode=\"out-in\">\n          <i key=\"date\" class=\"iconfont\" :class=\"icon\"></i>\n        </transition>\n      </div>\n      <div class=\"title\">\n        <transition name=\"module\" mode=\"out-in\">\n          <div class=\"text\"><slot></slot></div>\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { getTargetCDNURL } from '/@/transforms/url'\n\n  export default defineComponent({\n    name: 'FlowArticleListHeader',\n    props: {\n      backgroundColor: {\n        type: String,\n        default: ''\n      },\n      backgroundImage: {\n        type: String,\n        default: ''\n      },\n      icon: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const backgroundImageUrl = computed(() => {\n        return props.backgroundImage || getTargetCDNURL('/images/thumbnail/carrousel.jpg')\n      })\n\n      return {\n        LanguageKey,\n        backgroundImageUrl\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .header {\n    position: relative;\n    width: 100%;\n    height: 16.4rem;\n    margin-bottom: $lg-gap;\n    color: $white;\n    @include radius-box($lg-radius);\n\n    &:hover {\n      .background {\n        filter: grayscale(0);\n        transform: scale(1.02);\n      }\n      .content {\n        .logo {\n          .iconfont {\n            animation: none;\n            transform: scale(1.05);\n          }\n        }\n      }\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg;\n      background-size: cover;\n      background-position: center center;\n      transform: scale(1.05);\n      filter: grayscale(0.3);\n      transition: transform $transition-time-fast, filter $transition-time-fast;\n    }\n\n    .content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 100%;\n\n      .logo {\n        $size: 12rem;\n        margin: 0;\n        overflow: hidden;\n        height: $size;\n        line-height: $size;\n        text-align: center;\n\n        .iconfont {\n          font-size: 5em;\n          display: inline-block;\n          transform: scale(1.01);\n          @include transform-transition($transition-time-normal);\n        }\n      }\n\n      .title {\n        .text {\n          margin: 0;\n          text-align: center;\n          font-weight: bold;\n          font-size: $font-size-h4 - 1;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"category-flow-page\">\n    <article-list-header\n      :background-color=\"currentCategoryColor\"\n      :background-image=\"currentCategoryImage\"\n      :icon=\"currentCategoryIcon\"\n    >\n      <i18n v-if=\"currentCategory\">\n        <template #zh>\n          <span>{{ currentCategory.name }}</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ currentCategory.description || '...' }}</span>\n        </template>\n        <template #en>\n          <span>Category</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ firstUpperCase(currentCategory.slug) }}</span>\n        </template>\n      </i18n>\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.list.fetching\"\n      :articles=\"articleListStore.list.data\"\n      :pagination=\"articleListStore.list.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, watch, onBeforeMount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useArticleListStore } from '/@/stores/article'\n  import { useCategoryStore } from '/@/stores/category'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  export default defineComponent({\n    name: 'CategoryPage',\n    components: {\n      ArticleListHeader,\n      ArticleList\n    },\n    props: {\n      categorySlug: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const { i18n, meta, isZhLang } = useEnhancer()\n      const articleListStore = useArticleListStore()\n      const catrgoryStore = useCategoryStore()\n      const currentCategory = computed(() => {\n        return catrgoryStore.categories.find((category) => category.slug === props.categorySlug)\n      })\n      const currentCategoryIcon = computed(() => {\n        return getExtendValue(currentCategory.value?.extends || [], 'icon') || 'icon-category'\n      })\n      const currentCategoryImage = computed(() => {\n        return getExtendValue(currentCategory.value?.extends || [], 'background')\n      })\n      const currentCategoryColor = computed(() => {\n        return getExtendValue(currentCategory.value?.extends || [], 'bgcolor')\n      })\n\n      meta(() => {\n        const enTitle = firstUpperCase(props.categorySlug)\n        const zhTitle = i18n.t(props.categorySlug)!\n        const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle, 'Category']\n        const description = currentCategory.value?.description || titles.join(',')\n        return { pageTitle: titles.join(' | '), description }\n      })\n\n      const loadmoreArticles = () => {\n        return articleListStore\n          .fetchList({\n            category_slug: props.categorySlug,\n            page: articleListStore.list.pagination.current_page + 1\n          })\n          .then(scrollToNextScreen)\n      }\n\n      const fetchAllData = (category_slug: string) => {\n        return Promise.all([\n          catrgoryStore.fetchAll(),\n          articleListStore.fetchList({ category_slug })\n        ])\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props.categorySlug,\n          (categorySlug) => fetchAllData(categorySlug),\n          { flush: 'post' }\n        )\n      })\n\n      useUniversalFetch(() => fetchAllData(props.categorySlug))\n\n      return {\n        articleListStore,\n        firstUpperCase,\n        currentCategory,\n        currentCategoryIcon,\n        currentCategoryImage,\n        currentCategoryColor,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .category-flow-page {\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","/**\n * @file Tags state\n * @module store.tag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { UniversalKeyValue } from '/@/constants/state'\nimport nodepress from '/@/services/nodepress'\n\nexport type TagMap = Map<string, Tag>\nexport interface Tag {\n  id: number\n  _id: string\n  name: string\n  slug: string\n  description: string\n  update_at: string\n  create_at: string\n  extends: UniversalKeyValue[]\n  articles_count: number\n}\n\nexport const tagEnName = (tag: Tag) => {\n  const isChineseName = /.*[\\u4e00-\\u9fa5]+.*$/.test(tag.name)\n  // english name\n  if (!isChineseName) {\n    return tag.name\n  }\n  // english words\n  if (tag.slug.includes('-')) {\n    return tag.slug\n  }\n  // english word\n  return firstUpperCase(tag.slug)\n}\n\nexport const useTagStore = defineStore('tag', {\n  state: () => ({\n    fetched: false,\n    fetching: false,\n    tags: [] as Array<Tag>\n  }),\n  getters: {\n    // sort by count\n    sorted: (state) => {\n      const tags = [...state.tags]\n      tags.sort((a, b) => b.articles_count - a.articles_count)\n      return tags\n    },\n    // 全量标签列表（本身、全小写、全大写、首字母大写）\n    fullNameTags: (state): TagMap => {\n      const tags = state.tags\n      const tagMap: TagMap = new Map()\n      tags.forEach((tag) => {\n        tagMap.set(tag.name, tag)\n        tagMap.set(tag.name.toLowerCase(), tag)\n        tagMap.set(tag.name.toUpperCase(), tag)\n        tagMap.set(firstUpperCase(tag.name), tag)\n      })\n      return tagMap\n    }\n  },\n  actions: {\n    fetchAll() {\n      if (this.fetched) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return nodepress\n        .get('/tag/all')\n        .then((response) => {\n          this.tags = response.result\n          this.fetched = true\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","<template>\n  <div class=\"tag-flow-page\">\n    <article-list-header\n      :background-color=\"currentTagColor\"\n      :background-image=\"currentTagImage\"\n      :icon=\"currentTagIcon\"\n    >\n      <template v-if=\"currentTag\">\n        <span class=\"header\">\n          <i18n>\n            <template #zh>\n              <span>#{{ currentTag.name }}</span>\n              <divider class=\"divider\" type=\"vertical\" />\n              <span>{{ currentTag.description || '...' }}</span>\n            </template>\n            <template #en>\n              <span>Tag</span>\n              <divider class=\"divider\" type=\"vertical\" />\n              <span>#{{ tagEnName(currentTag) }}</span>\n            </template>\n          </i18n>\n        </span>\n      </template>\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.list.fetching\"\n      :articles=\"articleListStore.list.data\"\n      :pagination=\"articleListStore.list.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticleListStore } from '/@/stores/article'\n  import { useTagStore, tagEnName } from '/@/stores/tag'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  export default defineComponent({\n    name: 'TagPage',\n    components: {\n      ArticleListHeader,\n      ArticleList\n    },\n    props: {\n      tagSlug: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const { meta, isZhLang } = useEnhancer()\n      const tagStore = useTagStore()\n      const articleListStore = useArticleListStore()\n      const currentTag = computed(() => tagStore.tags.find((tag) => tag.slug === props.tagSlug))\n      const currentTagIcon = computed(\n        () => getExtendValue(currentTag.value?.extends || [], 'icon') || 'icon-tag'\n      )\n      const currentTagImage = computed(() =>\n        getExtendValue(currentTag.value?.extends || [], 'background')\n      )\n      const currentTagColor = computed(() =>\n        getExtendValue(currentTag.value?.extends || [], 'bgcolor')\n      )\n\n      meta(() => {\n        const enTitle = firstUpperCase(props.tagSlug)\n        const zhTitle = currentTag.value?.name!\n        const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle, 'Tag']\n        const description = currentTag.value?.description || titles.join(',')\n        return { pageTitle: titles.join(' | '), description }\n      })\n\n      const loadmoreArticles = async () => {\n        await articleListStore.fetchList({\n          tag_slug: props.tagSlug,\n          page: articleListStore.list.pagination.current_page + 1\n        })\n        onClient(scrollToNextScreen)\n      }\n\n      const fetchAllData = (tag_slug: string) => {\n        return Promise.all([tagStore.fetchAll(), articleListStore.fetchList({ tag_slug })])\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props.tagSlug,\n          (tagSlug) => fetchAllData(tagSlug),\n          { flush: 'post' }\n        )\n      })\n\n      useUniversalFetch(() => fetchAllData(props.tagSlug))\n\n      return {\n        articleListStore,\n        tagEnName,\n        currentTag,\n        currentTagIcon,\n        currentTagImage,\n        currentTagColor,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .tag-flow-page {\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","<template>\n  <div class=\"date-flow-page\">\n    <article-list-header icon=\"icon-clock\">\n      <i18n :zh=\"`发布于 ${date} 的所有文章`\" :en=\"`Articles published at ${date}`\" />\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.list.fetching\"\n      :articles=\"articleListStore.list.data\"\n      :pagination=\"articleListStore.list.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticleListStore } from '/@/stores/article'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  export default defineComponent({\n    name: 'DatePage',\n    components: {\n      ArticleListHeader,\n      ArticleList\n    },\n    props: {\n      date: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const { meta } = useEnhancer()\n      const articleListStore = useArticleListStore()\n\n      meta(() => ({ pageTitle: `${props.date} | Date` }))\n\n      const fetchArticles = (params: any) => {\n        return articleListStore.fetchList(params)\n      }\n\n      const loadmoreArticles = () => {\n        return fetchArticles({\n          date: props.date,\n          page: articleListStore.list.pagination.current_page + 1\n        }).then(scrollToNextScreen)\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props.date,\n          (date) => fetchArticles({ date }),\n          { flush: 'post' }\n        )\n      })\n\n      useUniversalFetch(() => fetchArticles({ date: props.date }))\n\n      return {\n        articleListStore,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n","<template>\n  <div class=\"search-flow-page\">\n    <article-list-header icon=\"icon-search\">\n      <i18n\n        :zh=\"`和 “${keyword}” 有关的所有文章`\"\n        :en=\"`Keyword &quot;${keyword}&quot;\\'s result`\"\n      />\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.list.fetching\"\n      :articles=\"articleListStore.list.data\"\n      :pagination=\"articleListStore.list.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticleListStore } from '/@/stores/article'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  export default defineComponent({\n    name: 'SearchPage',\n    components: {\n      ArticleListHeader,\n      ArticleList\n    },\n    props: {\n      keyword: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const { meta } = useEnhancer()\n      const articleListStore = useArticleListStore()\n\n      meta(() => ({ pageTitle: `${props.keyword} | Search` }))\n\n      const fetchArticles = (params: any) => {\n        return articleListStore.fetchList(params)\n      }\n\n      const loadmoreArticles = async () => {\n        await fetchArticles({\n          keyword: props.keyword,\n          page: articleListStore.list.pagination.current_page + 1\n        })\n        onClient(scrollToNextScreen)\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props.keyword,\n          (keyword) => fetchArticles({ keyword }),\n          { flush: 'post' }\n        )\n      })\n\n      useUniversalFetch(() => fetchArticles({ keyword: props.keyword }))\n\n      return {\n        articleListStore,\n        loadmoreArticles\n      }\n    }\n  })\n</script>\n","/**\n * @file 延时模拟器\n * @module util.delayer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { DEFAULT_DELAY } from '/@/config/app.config'\n\nexport const delayer = (ms: number = DEFAULT_DELAY) => {\n  const start = new Date().getTime()\n  return (action: () => void) => {\n    if (!ms) {\n      action()\n      return\n    }\n\n    const time = new Date().getTime() - start\n    const timeout = ms - time\n    const isDelay = timeout > 0\n    isDelay ? setTimeout(action, timeout) : action()\n  }\n}\n\n/**\n * @example\n * ```ts\n *  delayPromise(600, promise).then(...)\n * ```\n */\nexport const delayPromise = <T>(ms: number, promise: Promise<T>) => {\n  const delay = delayer(ms)\n  return new Promise<T>((resolve, reject) => {\n    promise.then((value) => delay(() => resolve(value))).catch(reject)\n  })\n}\n","/**\n * @file Comment state\n * @module store.comment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { isClient } from '/@/app/environment'\nimport { UNDEFINED } from '/@/constants/value'\nimport { SortType, UniversalKeyValue, CommentParentType } from '/@/constants/state'\nimport { delayPromise } from '/@/utils/delayer'\nimport nodepress from '/@/services/nodepress'\nimport { useUniversalStore } from './universal'\n\nexport const COMMENT_API_PATH = '/comment'\nexport const COMMENT_EMPTY_PID = CommentParentType.Self\n\nexport interface Author {\n  name: string\n  site?: string\n  email?: string\n  email_hash?: string\n}\n\nexport interface IPLocation {\n  country: string\n  country_code: string\n  region: string\n  region_code: string\n  city: string\n  zip: string\n}\n\nexport interface Comment {\n  post_id: number\n  id: number\n  pid: number | typeof COMMENT_EMPTY_PID\n  content: string\n  agent?: string\n  author: Author\n  likes: number\n  dislikes: number\n  ip?: string\n  ip_location?: IPLocation\n  create_at: string\n  update_at: string\n  extends: UniversalKeyValue[]\n}\nexport interface CommentFetchParams {\n  page?: number\n  per_page?: number\n  sort?: SortType\n  loadmore?: boolean\n  [key: string]: any\n}\n\nexport interface CommentTreeItem {\n  comment: Comment\n  children: Array<Comment>\n}\n\nexport const useCommentStore = defineStore('comment', {\n  state: () => ({\n    fetching: false,\n    posting: false,\n    deleting: false,\n    comments: [] as Array<Comment>,\n    pagination: null as null | $TODO\n  }),\n  getters: {\n    commentTreeList: (state): Array<CommentTreeItem> => {\n      // only keep 2 level tree\n      const ids = state.comments.map((comment) => comment.id)\n      const roots = state.comments.filter(\n        (comment) => comment.pid === COMMENT_EMPTY_PID || !ids.includes(comment.pid)\n      )\n      const children = state.comments.filter(\n        (comment) => comment.pid !== COMMENT_EMPTY_PID && ids.includes(comment.pid)\n      )\n      const fullMap = new Map<number, Comment>(\n        state.comments.map((comment) => [comment.id, comment])\n      )\n      const treeMap = new Map<number, { comment: Comment; children: Array<Comment> }>(\n        roots.map((comment) => [comment.id, { comment, children: [] }])\n      )\n\n      const findRootParentID = (pid: number): number | void => {\n        const target = fullMap.get(pid)\n        if (!target) {\n          return UNDEFINED\n        }\n        return target.pid === COMMENT_EMPTY_PID ? target.id : findRootParentID(target.pid)\n      }\n\n      children.forEach((comment) => {\n        const rootPID = findRootParentID(comment.pid)\n        if (rootPID) {\n          if (treeMap.has(rootPID)) {\n            const target = treeMap.get(rootPID)!\n            treeMap.set(rootPID, {\n              ...target,\n              children: [comment, ...target.children]\n            })\n          }\n        }\n      })\n      return Array.from(treeMap.values())\n    }\n  },\n  actions: {\n    clearList() {\n      this.comments = []\n      this.pagination = null\n    },\n\n    fetchList(params: CommentFetchParams = {}) {\n      params = {\n        page: 1,\n        per_page: 50,\n        sort: SortType.Desc,\n        loadmore: false,\n        ...params\n      }\n\n      // clear list when refetch\n      if (params.page === 1) {\n        this.clearList()\n      }\n      this.fetching = true\n      const fetch = nodepress.get(COMMENT_API_PATH, { params })\n      const promise = isClient ? delayPromise(480, fetch) : fetch\n      return promise\n        .then((response) => {\n          this.pagination = response.result.pagination\n          if (params.loadmore) {\n            this.comments.push(...response.result.data)\n          } else {\n            this.comments = response.result.data\n          }\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    },\n\n    postComment(comment: Partial<Comment>) {\n      this.posting = true\n      return nodepress\n        .post<Comment>('/disqus/comment', comment)\n        .then((response) => {\n          this.comments.unshift(response.result)\n          if (this.pagination) {\n            this.pagination.total++\n          }\n          return response.result\n        })\n        .finally(() => {\n          this.posting = false\n        })\n    },\n\n    deleteComment(commentID: number) {\n      this.deleting = true\n      return nodepress\n        .delete('/disqus/comment', { data: { comment_id: commentID } })\n        .then(() => {\n          const index = this.comments.findIndex((comment) => comment.id === commentID)\n          if (index > -1) {\n            this.comments.splice(index, 1)\n            this.pagination.total--\n          }\n        })\n        .finally(() => {\n          this.deleting = false\n        })\n    },\n\n    postCommentVote(commentID: number, vote: 1 | -1) {\n      const universalStore = useUniversalStore()\n      return nodepress\n        .post(`/vote/comment`, { comment_id: commentID, vote, author: universalStore.author })\n        .then(() => {\n          const comment = this.comments.find((comment) => comment.id === commentID)\n          if (comment) {\n            vote > 0 ? comment.likes++ : comment.dislikes++\n          }\n        })\n    }\n  }\n})\n","/**\n * @file Generate text to QRcode DataURL\n * @module transforms.qrcode\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport QRCode, { QRCodeToDataURLOptions } from 'qrcode'\n\nexport async function renderTextToQRCodeDataURL(value: string, options?: QRCodeToDataURLOptions) {\n  return await QRCode.toDataURL(value, {\n    scale: 6,\n    ...options\n  })\n}\n","/**\n * @file Window opener\n * @module util.opener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nconst baseParams = {\n  scrollbars: 0,\n  status: 0,\n  menubar: 0,\n  resizable: 2,\n  location: 0\n}\n\nconst paramsToString = (params: any = {}) => {\n  return Object.keys(params)\n    .map((k) => `${k}=${params[k]}`)\n    .join(',')\n}\n\nexport interface WindowOpenerOptions {\n  name?: string\n  onClose?(): void\n  closeInterval?: number\n  params?: {\n    [key: string]: string\n  }\n}\nexport const openWindow = (targetURL: string, options: WindowOpenerOptions = {}) => {\n  const { name = '', closeInterval = 268, onClose, params = {} } = options\n  const width = Math.round((screen.availWidth / 6) * 2)\n  const height = Math.round((screen.availHeight / 5) * 2)\n  const top = Math.round((screen.availHeight - height) / 2)\n  const left = Math.round((screen.availWidth - width) / 2)\n  const formParams = { width, height, top, left }\n  const _params = paramsToString({\n    ...baseParams,\n    ...formParams,\n    ...params\n  })\n\n  const _window = window.open(targetURL, name, _params)\n  if (_window) {\n    if (onClose) {\n      const timer = setInterval(() => {\n        if (_window.closed) {\n          clearInterval(timer)\n          onClose()\n        }\n      }, closeInterval)\n    }\n    _window?.focus()\n\n    return _window\n  }\n}\n","/**\n * @file copyright\n * @module effect.copyright\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { META } from '/@/config/app.config'\n\ndeclare global {\n  interface Window {\n    __isEnabledCopyrighter: boolean\n  }\n}\n\nexport const enableCopyrighter = () => {\n  window.__isEnabledCopyrighter = true\n}\n\nexport const disableCopyrighter = () => {\n  window.__isEnabledCopyrighter = false\n}\n\nexport const initCopyrighter = () => {\n  enableCopyrighter()\n\n  const copyText = () => {\n    return [\n      '',\n      '著作权归作者所有。',\n      '商业转载请联系作者获得授权，非商业转载请注明出处。',\n      `作者：${META.author}`,\n      '链接：' + location.href,\n      `来源：${META.title}`,\n      ''\n    ].join('\\n')\n  }\n\n  const buildText = (content) => content + copyText()\n  const buildHtml = (content) => content + copyText()\n\n  document.addEventListener('copy', (event) => {\n    if (!window.getSelection) return\n    if (window.__isEnabledCopyrighter) {\n      const content = window.getSelection()?.toString()\n      event.clipboardData?.setData('text/plain', buildText(content))\n      event.clipboardData?.setData('text/html', buildHtml(content))\n      event.preventDefault()\n    }\n  })\n}\n","/**\n * @file Clipboard util\n * @module util.clipboard\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { enableCopyrighter, disableCopyrighter } from '/@/effects/copyright'\n\nexport const read = () => navigator.clipboard.readText()\nexport const copy = (text: string) => {\n  disableCopyrighter()\n  // https://www.w3.org/TR/clipboard-apis/#async-clipboard-api\n  // MARK: only https site\n  return window.navigator.clipboard?.writeText(text).finally(() => {\n    enableCopyrighter()\n  })\n}\n\nexport default { copy, read }\n","<template>\n  <div class=\"share\">\n    <button\n      class=\"share-ejector\"\n      v-for=\"(social, index) in enabledSocials\"\n      :key=\"index\"\n      :title=\"'Share to: ' + social.name\"\n      :class=\"social.class\"\n      @click=\"handleShare(social)\"\n    >\n      <i class=\"iconfont\" :class=\"`icon-${social.class}`\" />\n    </button>\n    <button class=\"share-ejector link\" @click=\"copyPageURL\">\n      <i class=\"iconfont icon-link\"></i>\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import qs from 'qs'\n  import { defineComponent, PropType, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import { getPageURL } from '/@/transforms/url'\n  import { openWindow } from '/@/utils/opener'\n  import { copy } from '/@/utils/clipboard'\n  import { META } from '/@/config/app.config'\n\n  export enum SocialMedia {\n    Wechat = 'wechat',\n    Weibo = 'weibo',\n    Twitter = 'twitter',\n    douban = 'douban',\n    Evernote = 'evernote',\n    Facebook = 'facebook',\n    LinkedIn = 'linkedin'\n  }\n\n  interface ShareParams {\n    url: string\n    title: string\n    description: string\n  }\n\n  interface SocialItem {\n    id: SocialMedia\n    name: string\n    class: string\n    handler?(share: ShareParams): void\n    url?(share: ShareParams): string\n  }\n\n  const socials: SocialItem[] = [\n    {\n      id: SocialMedia.Wechat,\n      name: '微信',\n      class: 'wechat',\n      handler: async (share) => {\n        const dataURL = await renderTextToQRCodeDataURL(share.url)\n        window.$popup.vImage(dataURL)\n      }\n    },\n    {\n      id: SocialMedia.Weibo,\n      name: '微博',\n      class: 'weibo',\n      url: (share) => {\n        return (\n          `https://service.weibo.com/share/share.php?` +\n          qs.stringify({\n            url: share.url,\n            source: share.url,\n            sourceUrl: share.url,\n            title: share.title,\n            content: share.description\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Twitter,\n      name: 'Twitter',\n      class: 'twitter',\n      url: (share) => {\n        return (\n          `https://twitter.com/share?` +\n          qs.stringify({\n            url: share.url,\n            text: share.title\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Facebook,\n      name: 'Facebook',\n      class: 'facebook',\n      url: (share) => {\n        return (\n          `https://www.facebook.com/sharer/sharer.php?` +\n          qs.stringify({\n            u: encodeURI(share.url)\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.LinkedIn,\n      name: 'LinkedIn',\n      class: 'linkedin',\n      url: (share) => {\n        return (\n          `https://www.linkedin.com/sharing/share-offsite/?` +\n          qs.stringify({\n            url: share.url\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.douban,\n      name: '豆瓣',\n      class: 'douban',\n      url: (share) => {\n        return (\n          // https://www.douban.com/service/sharebutton\n          `https://www.douban.com/recommend/?` +\n          qs.stringify({\n            url: share.url,\n            title: share.title,\n            v: 1\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Evernote,\n      name: '印象笔记',\n      class: 'evernote',\n      url: (share) => {\n        return (\n          `https://www.evernote.com/clip.action?` +\n          qs.stringify({\n            url: share.url,\n            title: share.title\n          })\n        )\n      }\n    }\n  ]\n\n  export default defineComponent({\n    name: 'Share',\n    props: {\n      socials: {\n        type: Array as PropType<Array<SocialMedia>>,\n        required: false\n      }\n    },\n    setup(props) {\n      const { route, gtag, i18n } = useEnhancer()\n      const enabledSocials = computed(() => {\n        return props.socials?.length\n          ? socials.filter((s) => props.socials?.includes(s.id))\n          : socials\n      })\n\n      const getURL = () => getPageURL(route.fullPath)\n      const getTitle = () => document.title || META.title\n      const getDescription = () => {\n        return (\n          document.getElementsByName('description')?.[0]?.getAttribute('content') ||\n          i18n.t(LanguageKey.APP_SLOGAN)!\n        )\n      }\n\n      const copyPageURL = () => {\n        const content = `${getTitle()} - ${getURL()}`\n        copy(content)\n        gtag?.event('share_copy_url', {\n          event_category: GAEventCategories.Share,\n          event_label: content\n        })\n      }\n\n      const handleShare = (social: SocialItem) => {\n        gtag?.event('share_social', {\n          event_category: GAEventCategories.Share,\n          event_label: social.id\n        })\n\n        const shareParams: ShareParams = {\n          url: getURL(),\n          title: getTitle(),\n          description: getDescription()\n        }\n\n        if (social.handler) {\n          social.handler(shareParams)\n        } else {\n          openWindow(social.url!(shareParams), { name: `Share: ${META.title}` })\n        }\n      }\n\n      return {\n        enabledSocials,\n        copyPageURL,\n        handleShare\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .share {\n    @include visibility-transition();\n\n    > .share-ejector {\n      cursor: pointer;\n      display: inline-block;\n      text-align: center;\n      @include background-transition();\n\n      &.wechat:hover {\n        background-color: $wechat-primary !important;\n      }\n      &.weibo:hover {\n        background-color: $weibo-primary !important;\n      }\n      &.douban:hover {\n        background-color: $douban-primary !important;\n      }\n      &.evernote:hover {\n        background-color: $evernote-primary !important;\n      }\n      &.twitter:hover {\n        background-color: $twitter-primary-hover !important;\n      }\n      &.facebook:hover {\n        background-color: $facebook-primary !important;\n      }\n      &.linkedin:hover {\n        background-color: $linkedin-primary !important;\n      }\n      &.link:hover {\n        background-color: $surmon !important;\n      }\n\n      &:hover {\n        > .iconfont {\n          color: $white;\n        }\n      }\n\n      > .iconfont {\n        display: block;\n      }\n    }\n  }\n</style>\n","/**\n * @file comment helper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { getTargetCDNURL } from '/@/transforms/url'\n\nexport const EMOJIS = [\n  ...['😃', '😂', '😅', '😉', '😌', '😔', '😓', '😢', '😍', '😘', '😜', '😡'],\n  ...['😤', '😭', '😱', '😳', '😵', '🌚'],\n  ...['🙏', '👆', '👇', '👌', '🤘', '👍', '👎', '💪', '👏'],\n  ...['🌻', '🌹', '💊', '🐶', '❤️‍🔥', '💔', '💩', '👻', '🚩']\n]\n\nexport enum CommentEvents {\n  Sort = 'sort',\n  Page = 'page',\n  Vote = 'vote',\n  Blossom = 'blossom',\n  Delete = 'delete',\n  Reply = 'reply',\n  CancelReply = 'cancelReply',\n  Submit = 'submit'\n}\n\nexport const getDisqusUserURL = (username: string) => {\n  return `https://disqus.com/by/${username}/`\n}\n\nconst HAHA_KEYWORDS = ['2333', 'haha', '哈哈']\nconst SIX_KEYWORDS = ['666', '赞', '棒', '优秀']\nconst HEHE_KEYWORDS = ['呵呵']\n\nexport const luanchEmojiRain = (content: string) => {\n  const luanchRain = (window as any).$luanchEmojiRain\n  if (HAHA_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getTargetCDNURL('/images/emojis/haha.png')\n    })\n  } else if (SIX_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getTargetCDNURL('/images/emojis/666.png')\n    })\n  } else if (HEHE_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      staggered: false,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getTargetCDNURL('/images/emojis/hehe.png')\n    })\n  } else if (Math.random() <= 0.5) {\n    // 否则以 50% 的概率随机出现\n    luanchRain({\n      scale: 0.6,\n      staggered: true,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getTargetCDNURL('/images/emojis/doge.png')\n    })\n  }\n}\n","<template>\n  <placeholder :loading=\"fetching\">\n    <template #loading>\n      <div class=\"topbar-skeleton\" key=\"skeleton\">\n        <div class=\"left\">\n          <skeleton-line class=\"skeleton-item count\" />\n          <skeleton-line class=\"skeleton-item sort\" />\n        </div>\n        <div class=\"right\">\n          <skeleton-line class=\"skeleton-item user\" />\n        </div>\n      </div>\n    </template>\n    <template #default>\n      <div class=\"topbar\" :class=\"{ plain }\" key=\"element\">\n        <div class=\"statistics\">\n          <div class=\"total\" :class=\"{ loading }\">\n            <i class=\"iconfont icon-discussion\"></i>\n            <i18n>\n              <template #zh>\n                共 <span class=\"count\">{{ statisticsText }}</span> 条看法\n              </template>\n              <template #en>\n                <span class=\"count\">{{ statisticsText }}</span> comments\n              </template>\n            </i18n>\n          </div>\n          <select class=\"sort\" name=\"sort\" :value=\"sort\" @change=\"handleSort($event.target)\">\n            <option :value=\"SortType.Desc\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_NEW\" />\n            </option>\n            <option :value=\"SortType.Hottest\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_HOT\" />\n            </option>\n            <option :value=\"SortType.Asc\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_OLD\" />\n            </option>\n          </select>\n          <button class=\"disqus\" @click=\"handleDisqusThread\">\n            <i class=\"iconfont icon-disqus-logo\"></i>\n          </button>\n        </div>\n        <div class=\"user\">\n          <div class=\"unlogin\" v-if=\"user.type === UserType.Null\">\n            <span class=\"guest\">\n              <i18n zh=\"访客身份\" en=\"Guest\" />\n            </span>\n            <divider type=\"vertical\" size=\"sm\" />\n            <button class=\"disqus\" @click=\"handleDisqusLogin\">\n              <i18n>\n                <template #zh>使用<i class=\"iconfont icon-disqus\"></i>登录</template>\n                <template #en>Login by<i class=\"iconfont icon-disqus right\"></i></template>\n              </i18n>\n            </button>\n          </div>\n          <div class=\"logined\" v-else>\n            <template v-if=\"user.type === UserType.Local\">\n              <div class=\"name\">\n                <i class=\"icon guest iconfont icon-user\"></i>\n                <span class=\"text\">{{ user.localProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogin\">\n                      <i18n>\n                        <template #zh>换为<i class=\"iconfont icon-disqus disqus\"></i>登录</template>\n                        <template #en\n                          >Login by <i class=\"iconfont icon-disqus disqus\"></i\n                        ></template>\n                      </i18n>\n                    </button>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleClearLocalProfile\">\n                      <i18n zh=\"退出本地访客身份\" en=\"Clean local profile\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n            <template v-else-if=\"user.type === UserType.Disqus\">\n              <div class=\"name\">\n                <i class=\"icon disqus iconfont icon-disqus-logo\"></i>\n                <span class=\"text\">{{ user.disqusProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <ulink class=\"button\" :href=\"user.disqusProfile.profileUrl\">\n                      <i18n zh=\"访问 Disqus 主页\" en=\"Disqus profile\" />\n                    </ulink>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogout\">\n                      <i18n zh=\"注销授权身份\" en=\"Disqus logout\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </template>\n  </placeholder>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType } from 'vue'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { SortType } from '/@/constants/state'\n  import { UserType, useUniversalStore } from '/@/stores/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { openWindow } from '/@/utils/opener'\n  import nodepress from '/@/services/nodepress'\n  import { CommentEvents } from './helper'\n\n  export default defineComponent({\n    name: 'CommentTopbar',\n    props: {\n      postId: {\n        type: Number,\n        required: true\n      },\n      sort: {\n        type: Number as PropType<SortType>,\n        required: true\n      },\n      total: {\n        type: Number,\n        default: 0,\n        required: false\n      },\n      loaded: {\n        type: Number,\n        default: 0,\n        required: false\n      },\n      fetching: {\n        type: Boolean,\n        required: true\n      },\n      loading: {\n        type: Boolean,\n        required: true\n      },\n      plain: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [CommentEvents.Sort],\n    setup(props, context) {\n      const { gtag } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const user = computed(() => universalStore.user)\n      const statisticsText = computed(() => {\n        return props.loading ? `···` : `${props.loaded} / ${props.total}`\n      })\n\n      const disqusThread = ref<any>()\n      const handleDisqusThread = async () => {\n        gtag?.event('disqus_thread_page', {\n          event_category: GAEventCategories.Comment,\n          event_label: `id: ${props.postId}`\n        })\n\n        if (!disqusThread.value) {\n          const response = await nodepress.get('/disqus/thread', {\n            params: { post_id: props.postId }\n          })\n          disqusThread.value = response.result\n        }\n        window.open(\n          `https://disqus.com/home/discussion/${universalStore.disqusConfig.forum}/${disqusThread.value.slug}/`\n        )\n      }\n\n      const handleSort = (target: any) => {\n        gtag?.event('comment_sort_switch', {\n          event_category: GAEventCategories.Comment\n        })\n\n        const value = Number(target?.value)\n        if (value !== props.sort) {\n          context.emit(CommentEvents.Sort, value)\n        }\n      }\n\n      const handleDisqusLogin = () => {\n        gtag?.event('disqus_login', {\n          event_category: GAEventCategories.Comment,\n          event_label: `id: ${props.postId}`\n        })\n\n        openWindow(universalStore.disqusConfig.authorize_url, {\n          name: `Disqus Auth ${META.title}`,\n          onClose: () => {\n            universalStore.fetchDisqusUserInfo()\n            console.info('[disqus]', 'logined', universalStore.user)\n          }\n        })\n      }\n\n      const handleDisqusLogout = () => {\n        gtag?.event('disqus_logout', {\n          event_category: GAEventCategories.Comment,\n          event_label: `id: ${props.postId}`\n        })\n        console.log('[disqus]', 'logout')\n        universalStore.fetchDisqusLogout()\n      }\n\n      const handleClearLocalProfile = () => {\n        universalStore.removeLocalUser()\n      }\n\n      return {\n        user,\n        statisticsText,\n        VALUABLE_LINKS,\n        LanguageKey,\n        UserType,\n        SortType,\n        handleSort,\n        handleDisqusLogin,\n        handleDisqusLogout,\n        handleDisqusThread,\n        handleClearLocalProfile\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n  $topbar-size: 2em;\n\n  .topbar,\n  .topbar-skeleton {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .topbar-skeleton {\n    .left,\n    .right {\n      height: $topbar-size;\n    }\n    .skeleton-item {\n      &.count {\n        width: 12rem;\n        margin-right: $gap;\n      }\n      &.sort {\n        width: 8rem;\n      }\n      &.user {\n        width: 8rem;\n      }\n    }\n\n    .left {\n      display: flex;\n    }\n  }\n\n  .topbar {\n    &.plain {\n      flex-direction: column;\n      align-items: baseline;\n      height: 6rem;\n    }\n\n    .statistics {\n      display: flex;\n      height: $topbar-size;\n      line-height: $topbar-size;\n\n      .total {\n        padding: 0;\n        padding-right: 0.6em;\n        background-color: $module-bg-darker-1;\n        @include radius-box($xs-radius);\n        will-change: width;\n        transition: all $transition-time-fast;\n        max-width: 180px;\n        &.loading {\n          max-width: 130px;\n        }\n\n        .iconfont {\n          display: inline-block;\n          width: $topbar-size;\n          text-align: center;\n          margin-right: $xs-gap;\n          background-color: $module-bg-darker-2;\n          @include background-transition();\n        }\n\n        .count {\n          font-weight: bold;\n          margin: 0 $xs-gap;\n        }\n      }\n\n      .sort,\n      .disqus {\n        margin-left: $gap;\n        background-color: $module-bg-darker-1;\n        @include radius-box($xs-radius);\n        cursor: pointer;\n        &:hover {\n          background-color: $module-bg-darker-2;\n        }\n      }\n\n      .sort {\n        padding: 0 $xs-gap;\n        font-weight: bold;\n      }\n\n      .disqus {\n        width: $topbar-size;\n        text-align: center;\n        &:hover {\n          color: $white;\n          background-color: $disqus-primary;\n        }\n      }\n    }\n\n    .user {\n      .unlogin {\n        display: flex;\n        align-items: center;\n\n        .disqus {\n          padding-top: 2px;\n          padding-bottom: 2px;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          &:hover {\n            .iconfont {\n              font-weight: normal;\n            }\n            font-weight: bold;\n            border-bottom-color: $text-secondary;\n          }\n\n          .iconfont {\n            margin: 0 $sm-gap;\n            color: $disqus-primary;\n            font-size: $font-size-small;\n            &.right {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n\n      .logined {\n        position: relative;\n        display: inline-block;\n        cursor: pointer;\n        &:hover {\n          .name {\n            background-color: $module-bg-darker-2;\n          }\n          .user-menu {\n            display: block;\n          }\n        }\n\n        .name {\n          padding: 0 $gap;\n          height: $topbar-size;\n          display: flex;\n          align-items: center;\n          background-color: $module-bg-darker-1;\n          @include radius-box($xs-radius);\n\n          .icon {\n            &.disqus {\n              font-size: $font-size-h4;\n              color: $disqus-primary;\n            }\n          }\n\n          .text {\n            margin-right: $xs-gap;\n            margin-left: $sm-gap;\n            font-weight: bold;\n          }\n\n          .arrow {\n            color: $text-divider;\n            font-size: $font-size-small;\n          }\n        }\n\n        .user-menu {\n          display: none;\n          position: absolute;\n          right: 0;\n          padding-top: 0.5em;\n          z-index: $z-index-normal + 1;\n          .menus {\n            margin: 0;\n            padding: 0;\n            list-style: none;\n            @include radius-box($xs-radius);\n\n            .item {\n              .button {\n                white-space: nowrap;\n                display: block;\n                width: 100%;\n                padding: 0 $gap;\n                line-height: 2.3em;\n                text-align: right;\n                font-size: $font-size-small;\n                background-color: $module-bg-darker-2;\n                &:hover {\n                  background-color: $module-bg-darker-3;\n                }\n\n                .iconfont {\n                  &.disqus {\n                    color: $disqus-primary;\n                    font-size: 10px;\n                    margin: 0 $xs-gap;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <placeholder :loading=\"fetching\" :data=\"hasData\">\n    <template #loading>\n      <ul class=\"main-skeleton\">\n        <li v-for=\"item in skeletonCount\" :key=\"item\" class=\"item\">\n          <div class=\"avatar\">\n            <skeleton-base />\n          </div>\n          <div class=\"content\">\n            <skeleton-paragraph :lines=\"4\" />\n          </div>\n        </li>\n      </ul>\n    </template>\n    <template #placeholder>\n      <div class=\"list-empty\">\n        <i18n :k=\"LanguageKey.COMMENT_LIST_EMPTY\" />\n      </div>\n    </template>\n    <template #default>\n      <div class=\"main\">\n        <slot name=\"list\"></slot>\n        <slot name=\"pagination\"></slot>\n      </div>\n    </template>\n  </placeholder>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { LanguageKey } from '/@/language'\n\n  export default defineComponent({\n    name: 'CommentMain',\n    props: {\n      fetching: {\n        type: Boolean,\n        default: false\n      },\n      hasData: {\n        type: Boolean,\n        required: true\n      },\n      skeletonCount: {\n        type: Number,\n        default: 6\n      }\n    },\n    setup() {\n      return {\n        LanguageKey\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .main-skeleton {\n    padding: 0;\n\n    .item {\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      margin-bottom: $lg-gap;\n\n      .avatar {\n        width: 5rem;\n        height: 5rem;\n      }\n\n      .content {\n        width: calc((100% - 5rem) * 0.9);\n      }\n    }\n  }\n\n  .list-empty {\n    color: $text-secondary;\n    font-weight: bold;\n    text-align: center;\n    line-height: 4rem;\n  }\n</style>\n","/**\n * @file Avatar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport API_CONFIG from '/@/config/api.config'\nimport { ProxyModule } from '/@/constants/proxy'\nimport { getTargetCDNURL, getTargetProxyURL } from '/@/transforms/url'\nimport { isSPA } from '/@/app/environment'\nimport { isDev } from '/@/environment'\n\nexport const getDefaultAvatar = () => {\n  return getTargetCDNURL('/images/gravatar.png')\n}\n\nexport const getGravatarByHash = (hash?: string | null) => {\n  if (!hash) {\n    return getDefaultAvatar()\n  }\n\n  if (isDev) {\n    return `https://www.gravatar.com/avatar/${hash}`\n  }\n\n  return `${API_CONFIG.STATIC}/avatar/${hash}`\n}\n\nexport const getDisqusAvatarByUsername = (username: string) => {\n  // https://disqus.com/api/docs/images/\n  const target = `https://disqus.com/api/users/avatars/${username}.jpg`\n  return isSPA ? target : getTargetProxyURL(target, ProxyModule.Disqus)\n}\n","<template>\n  <div\n    :class=\"[\n      plain ? 'global-markdown-plain' : 'global-markdown-html',\n      { compact, dark: isDarkTheme }\n    ]\"\n    v-html=\"markdownHTML\"\n  ></div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { TagMap } from '/@/stores/tag'\n  import { markdownToHTML } from '/@/transforms/markdown'\n\n  export default defineComponent({\n    name: 'Markdown',\n    props: {\n      markdown: String,\n      html: String,\n      tagMap: Object as PropType<TagMap>,\n      relink: {\n        type: Boolean,\n        default: false\n      },\n      sanitize: {\n        type: Boolean,\n        default: false\n      },\n      plain: {\n        type: Boolean,\n        default: false\n      },\n      compact: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props) {\n      const { isDarkTheme } = useEnhancer()\n      const markdownHTML = computed<string>(() => {\n        if (!props.markdown) {\n          return props.html || ''\n        }\n        return markdownToHTML(props.markdown, {\n          sanitize: props.sanitize,\n          relink: props.relink,\n          tagMap: props.tagMap\n        })\n      })\n\n      return {\n        isDarkTheme,\n        markdownHTML\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\">\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .global-markdown-plain {\n    p {\n      margin: 0;\n      max-width: 100%;\n      @include text-overflow();\n    }\n\n    a {\n      border-bottom: 1px solid;\n    }\n  }\n\n  .global-markdown-html {\n    font-size: $font-size-base * 1.05;\n\n    /* for google adsense */\n    .google-auto-placed {\n      margin-bottom: $sm-gap;\n    }\n\n    p {\n      line-height: 2.2em;\n      text-indent: 2em;\n      margin-bottom: 1em;\n\n      &.text-center {\n        text-align: center;\n      }\n\n      &.text-right {\n        text-align: right;\n      }\n    }\n\n    a {\n      margin: 0;\n      border-bottom: 1px solid;\n      font-weight: bold;\n      &:hover {\n        text-decoration: none;\n      }\n\n      &.image-link {\n        margin: 0;\n        border: 0;\n      }\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      line-height: 1.8em;\n      font-weight: 700;\n      text-indent: 0;\n    }\n\n    blockquote {\n      border-radius: $xs-radius;\n      p {\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    ul {\n      list-style-type: square;\n    }\n\n    ul:not(.code-lines),\n    ol {\n      > li {\n        line-height: 2em;\n        padding: 0.5em 0.8em;\n        border-radius: $xs-radius;\n        &:hover {\n          background-color: $module-bg-darker-1;\n        }\n\n        > p {\n          text-indent: 0;\n        }\n\n        > ol {\n          list-style: lower-alpha;\n        }\n\n        > ul,\n        > ol {\n          list-style: circle;\n          padding-left: 2em;\n          margin-top: $sm-gap;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n\n        &:last-child {\n          > ul,\n          > ol {\n            margin-bottom: -$sm-gap;\n          }\n        }\n      }\n    }\n\n    table {\n      border-radius: $xs-radius;\n      overflow: hidden;\n    }\n\n    img {\n      max-width: 100%;\n      position: relative;\n      margin: 0 auto;\n      display: block;\n      text-align: center;\n      border-radius: $xs-radius;\n      border: $sm-gap solid $module-bg-darker-1;\n      opacity: 0.9;\n      cursor: pointer;\n      &:hover {\n        opacity: 1;\n        transition: all $transition-time-normal;\n      }\n    }\n\n    iframe {\n      width: 100%;\n      margin-bottom: 1em;\n      border: $sm-gap solid $module-bg-darker-1;\n      border-radius: $xs-radius;\n      background-color: $theme-black;\n    }\n\n    .checkbox {\n      margin: 0 $xs-gap;\n      &.checked {\n        color: $theme-black;\n      }\n    }\n\n    code {\n      vertical-align: middle;\n      padding: 0.2em 0.4em 0.14em;\n      margin: 0;\n      border-radius: $sm-radius;\n      font-size: 95%;\n    }\n\n    pre {\n      $code-header-height: 2.8rem;\n      $code-number-width: 3rem;\n      $code-row-line-height: 1.8rem;\n      $code-padding: 1rem;\n      $code-font-size: $font-size-h6;\n      position: relative;\n      display: flex;\n      margin-bottom: 1em;\n      padding-top: $code-header-height;\n      padding-left: $code-number-width;\n      border-radius: $xs-radius;\n      overflow: hidden;\n      font-size: $code-font-size;\n\n      &::before {\n        content: attr(data-lang) ' CODE';\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        width: 100%;\n        height: $code-header-height;\n        line-height: $code-header-height;\n        text-transform: uppercase;\n        text-align: center;\n        z-index: $z-index-normal + 2;\n      }\n\n      .code-lines {\n        user-select: none;\n        position: absolute;\n        left: 0;\n        top: 0;\n        margin: 0;\n        padding: 0;\n        display: block;\n        padding-top: $code-header-height + $code-padding;\n        width: $code-number-width;\n        height: 100%;\n        text-align: center;\n        z-index: $z-index-normal + 1;\n\n        .code-line-number {\n          padding: 0;\n          border-radius: 0;\n          position: relative;\n          list-style-type: none;\n          height: $code-row-line-height;\n          line-height: $code-row-line-height;\n          transition: none;\n          &:hover {\n            &::before {\n              @include visible();\n            }\n          }\n\n          &::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 66em;\n            height: 100%;\n            background-color: rgba(154, 154, 154, 0.2);\n            @include hidden();\n          }\n        }\n      }\n\n      code {\n        margin: 0;\n        padding: $code-padding;\n        float: left;\n        width: 100%;\n        height: 100%;\n        display: block;\n        line-height: $code-row-line-height;\n        font-size: $font-size-base;\n        cursor: text;\n      }\n    }\n\n    &.compact {\n      line-height: 2em;\n      word-wrap: break-word;\n      font-size: $font-size-base;\n\n      p,\n      pre {\n        margin-bottom: $gap;\n      }\n\n      p {\n        text-indent: 0;\n        line-height: 2em;\n        &:last-child {\n          margin: 0;\n        }\n      }\n\n      a {\n        text-decoration: none;\n        border-bottom: 1px solid;\n      }\n\n      img {\n        margin: 0.5rem 0;\n        max-width: 100%;\n        border-color: $module-bg-darker-2;\n      }\n\n      ul,\n      ol {\n        padding-left: 2em;\n\n        > li {\n          padding: 0.2em 0.5em;\n        }\n      }\n\n      pre {\n        $code-header-height: 2.5rem;\n        margin-top: 1rem;\n        padding-left: 0;\n        padding-top: $code-header-height;\n        &::before {\n          height: $code-header-height;\n          line-height: $code-header-height;\n        }\n\n        .code-lines {\n          display: none;\n        }\n\n        code {\n          line-height: 1.8;\n        }\n      }\n    }\n  }\n\n  .global-markdown-html {\n    code {\n      border: 1px solid $module-bg-darker-2;\n      background-color: $module-bg-darker-1;\n      color: $link-color;\n    }\n\n    pre {\n      background-color: #f3f3f3;\n      &::before {\n        background-color: $module-bg-darker-2;\n      }\n      .code-lines {\n        background-color: $module-bg-darker-1;\n        color: $text-disabled;\n      }\n      code {\n        color: #444;\n        border-radius: 0;\n        border-width: 0 1px 1px 0;\n        border-color: $module-bg-darker-1;\n        background-color: transparent !important;\n      }\n    }\n\n    &.dark {\n      pre {\n        background-color: #1e1e1e;\n        &::before {\n          background-color: $module-bg-darker-1;\n        }\n        .code-lines {\n          background-color: $module-bg-darker-3;\n        }\n        code {\n          color: #c9d1d9;\n          border-color: transparent;\n        }\n      }\n    }\n\n    &.compact {\n      blockquote {\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      code {\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      pre {\n        border: 1px solid $module-bg-darker-3;\n        code {\n          border-color: transparent;\n          background-color: transparent;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <a v-if=\"href\" target=\"_blank\" rel=\"external nofollow noopener\" :href=\"href\" v-bind=\"$attrs\">\n    <slot></slot>\n  </a>\n  <span v-else v-bind=\"$attrs\">\n    <slot></slot>\n  </span>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    name: 'CommentItemLink',\n    props: {\n      href: String\n    }\n  })\n</script>\n","/**\n * @file emoji\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// offset between uppercase ascii and regional indicator symbols\nconst OFFSET = 127397\n\n// fork from: https://github.com/danalloway/react-country-flag/blob/main/src/index.tsx\nexport const countryCodeToEmoji = (countryCode: string): string => {\n  return countryCode\n    .toUpperCase()\n    .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + OFFSET))\n}\n","<template>\n  <span class=\"location\">\n    <span v-if=\"emojiText\" class=\"emoji\">{{ emojiText }}</span>\n    <i v-else class=\"iconfont icon-earth\"></i>\n    <span>{{ countryText }}</span>\n    <span class=\"separator\">•</span>\n    <span class=\"city\">{{ cityText }}</span>\n  </span>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { countryCodeToEmoji } from '/@/transforms/emoji'\n  import { IPLocation } from '/@/stores/comment'\n\n  const municipalitys: string[] = ['Shanghai', 'Beijing', 'Tianjin', 'Chongqing', 'Chungking']\n\n  export default defineComponent({\n    name: 'CommentItemLocation',\n    props: {\n      location: {\n        type: Object as PropType<IPLocation>,\n        required: true\n      }\n    },\n    setup(props) {\n      const countryText = computed(() => props.location.country_code || props.location.country)\n      const emojiText = computed(() => countryCodeToEmoji(props.location.country_code))\n      const cityText = computed(() => {\n        if (props.location.country_code === 'CN') {\n          if (municipalitys.includes(props.location.region)) {\n            return props.location.region\n          }\n        }\n        return props.location.city\n      })\n\n      return {\n        emojiText,\n        countryText,\n        cityText\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .location {\n    display: inline-flex;\n    align-items: center;\n    &:hover {\n      .emoji {\n        color: $text;\n      }\n    }\n\n    .iconfont {\n      margin-right: $xs-gap;\n    }\n\n    .emoji {\n      margin-right: $xs-gap;\n      font-size: 130%;\n    }\n\n    .separator {\n      margin: 0 3px;\n    }\n  }\n</style>\n","<template>\n  <span class=\"user-agent\">\n    <span class=\"os\">\n      <i v-if=\"osIconName\" class=\"iconfont\" :class=\"`icon-${osIconName}`\" />\n      <span>{{ uaResult.result.os.name }}</span>\n      <!-- <span>{{ uaResult.result.os.version }}</span> -->\n    </span>\n    <span class=\"browser\">\n      <i class=\"iconfont\" v-if=\"browserIconName\" :class=\"`icon-${browserIconName}`\" />\n      <span>{{ uaResult.result.browser.name }}</span>\n      <!-- <span>{{ uaResult.result.browser.version }}</span> -->\n    </span>\n  </span>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { uaParser } from '/@/transforms/ua'\n\n  // https://github.com/faisalman/ua-parser-js#methods\n  const osIconsNameMap = {\n    'Mac OS': 'apple',\n    Windows: 'windows',\n    Android: 'android',\n    Ubuntu: 'ubuntu',\n    Linux: 'linux',\n    iOS: 'apple',\n    Unix: 'unix'\n  }\n\n  const browersIconsNameMap = {\n    Chrome: 'chrome',\n    Chromium: 'chrome',\n    WeChat: 'wechat',\n    QQ: 'qq',\n    Safari: 'safari',\n    'Mobile Safari': 'safari',\n    UCBrowser: 'uc',\n    Maxthon: 'maxthon',\n    Firefox: 'firefox',\n    IE: 'ie',\n    Opera: 'opera',\n    Edge: 'edge'\n  }\n\n  export default defineComponent({\n    name: 'CommentItemUserAgent',\n    props: {\n      userAgent: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const uaResult = computed(() => uaParser(props.userAgent))\n      const osIconName = computed(() => {\n        const osName = uaResult.value.result.os.name\n        return osName && osIconsNameMap[osName]\n      })\n      const browserIconName = computed(() => {\n        const browserName = uaResult.value.result.browser.name\n        return browserName ? browersIconsNameMap[browserName] : null\n      })\n\n      return {\n        uaResult,\n        osIconName,\n        browserIconName\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .user-agent {\n    .iconfont {\n      margin-right: $xs-gap;\n    }\n\n    .os {\n      margin-right: $sm-gap;\n    }\n  }\n</style>\n","<template>\n  <li\n    class=\"comment-item\"\n    :key=\"comment.id\"\n    :id=\"getCommentItemElementID(comment.id)\"\n    :class=\"{\n      'hide-avatar': hiddenAvatar,\n      'is-child': isChild,\n      'has-child': hasChild\n    }\"\n  >\n    <div>\n      <div class=\"cm-avatar\" v-if=\"!hiddenAvatar\">\n        <comment-link class=\"link\" :href=\"authorURL\">\n          <img :alt=\"comment.author.name\" :src=\"authorAvatar\" draggable=\"false\" />\n          <span class=\"role\" :class=\"isDisqusAuthor ? 'disqus' : 'anonymous'\">\n            <i class=\"iconfont icon-disqus-logo\" v-if=\"isDisqusAuthor\"></i>\n            <i class=\"iconfont icon-user\" v-else></i>\n          </span>\n        </comment-link>\n      </div>\n      <div class=\"cm-body\">\n        <div class=\"cm-header\">\n          <div class=\"left\">\n            <comment-link class=\"username\" :class=\"{ url: Boolean(authorURL) }\" :href=\"authorURL\">\n              {{ firstUpperCase(comment.author.name) }}\n            </comment-link>\n            <span class=\"moderator\" v-if=\"isAdminAuthor\">\n              <i18n :k=\"LanguageKey.COMMENT_MODERATOR\" />\n            </span>\n            <span class=\"author-info\">\n              <template v-if=\"comment.ip_location\">\n                <comment-location :location=\"comment.ip_location\" />\n              </template>\n              <template v-if=\"comment.agent && !hiddenUa\">\n                <comment-user-agent :user-agent=\"comment.agent\" />\n              </template>\n            </span>\n          </div>\n          <div class=\"right\">\n            <span class=\"flool\">#{{ comment.id }}</span>\n          </div>\n        </div>\n        <div class=\"cm-content\">\n          <p v-if=\"comment.pid\" class=\"reply\">\n            <span class=\"text\">\n              <i18n :k=\"LanguageKey.COMMENT_REPLY\" />\n            </span>\n            <button class=\"parent\" @click=\"scrollToCommentItem(comment.pid)\">\n              {{ getReplyParentCommentText(comment.pid) }}\n            </button>\n            <i18n zh=\"：\" en=\":\" />\n          </p>\n          <div class=\"markdown\">\n            <markdown :markdown=\"comment.content\" :sanitize=\"true\" :compact=\"true\" />\n          </div>\n        </div>\n        <div class=\"cm-footer\">\n          <div class=\"left\">\n            <span class=\"create_at\">\n              <udate to=\"ago\" :date=\"comment.create_at\" />\n            </span>\n            <button\n              class=\"vote\"\n              :class=\"{\n                actived: liked,\n                alived: Boolean(comment.likes)\n              }\"\n              :disabled=\"liked\"\n              @click=\"handleVote(true)\"\n            >\n              <i class=\"iconfont icon-like\" />\n              <i18n :k=\"LanguageKey.COMMENT_UPVOTE\" v-if=\"!plainVote\" />\n              <span class=\"count\">({{ comment.likes }})</span>\n            </button>\n            <button\n              class=\"vote\"\n              :class=\"{\n                actived: disliked,\n                alived: Boolean(comment.dislikes)\n              }\"\n              :disabled=\"disliked\"\n              @click=\"handleVote(false)\"\n            >\n              <i class=\"iconfont icon-dislike\" />\n              <i18n :k=\"LanguageKey.COMMENT_DOWNVOTE\" v-if=\"!plainVote\" />\n              <span class=\"count\">({{ comment.dislikes }})</span>\n            </button>\n            <button class=\"reply\" @click=\"handleCancelReply\" v-if=\"isReply\">\n              <i class=\"iconfont icon-cancel\" />\n              <i18n :k=\"LanguageKey.COMMENT_REPLY_CANCEL\" />\n            </button>\n            <button class=\"reply\" @click=\"handleReply\" v-else>\n              <i class=\"iconfont icon-reply\" />\n              <i18n :k=\"LanguageKey.COMMENT_REPLY\" />\n            </button>\n          </div>\n          <div class=\"right\">\n            <button class=\"delete\" :disabled=\"isDeleting\" @click=\"handleDelete\" v-if=\"isDeleteable\">\n              <i class=\"iconfont icon-delete\" />\n              <i18n :k=\"LanguageKey.COMMENT_DELETE\" />\n            </button>\n          </div>\n        </div>\n        <div class=\"cm-reply\" v-if=\"isReply\">\n          <slot name=\"reply\"></slot>\n        </div>\n        <div class=\"cm-children\">\n          <slot name=\"children\"></slot>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCommentStore, Comment } from '/@/stores/comment'\n  import { useUniversalStore, UserType } from '/@/stores/universal'\n  import { getCommentItemElementID } from '/@/constants/anchor'\n  import { UNDEFINED } from '/@/constants/value'\n  import { LanguageKey } from '/@/language'\n  import { getGravatarByHash, getDisqusAvatarByUsername } from '/@/transforms/avatar'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import Markdown from '/@/components/common/markdown.vue'\n  import CommentLink from './link.vue'\n  import CommentLocation from './location.vue'\n  import CommentUserAgent from './user-agent.vue'\n  import { CommentEvents, getDisqusUserURL } from '../helper'\n\n  export default defineComponent({\n    name: 'CommentItem',\n    components: {\n      Markdown,\n      CommentLink,\n      CommentLocation,\n      CommentUserAgent\n    },\n    props: {\n      comment: {\n        type: Object as PropType<Comment>,\n        required: true\n      },\n      liked: {\n        type: Boolean,\n        default: false\n      },\n      disliked: {\n        type: Boolean,\n        default: false\n      },\n      isReply: {\n        type: Boolean,\n        default: false\n      },\n      isChild: {\n        type: Boolean,\n        default: false\n      },\n      hasChild: {\n        type: Boolean,\n        default: false\n      },\n      hiddenAvatar: {\n        type: Boolean,\n        default: false\n      },\n      hiddenUa: {\n        type: Boolean,\n        default: false\n      },\n      plainVote: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [\n      CommentEvents.Vote,\n      CommentEvents.Delete,\n      CommentEvents.Reply,\n      CommentEvents.CancelReply\n    ],\n    setup(props, context) {\n      const { i18n } = useEnhancer()\n      const commentStore = useCommentStore()\n      const universalStore = useUniversalStore()\n      const isDeleting = computed(() => commentStore.deleting)\n\n      const disqusAuthorID = computed(() => {\n        return getExtendValue(props.comment.extends, 'disqus-author-id')\n      })\n      const disqusUsername = computed<string | void>(() => {\n        return getExtendValue(props.comment.extends, 'disqus-author-username')\n      })\n\n      const isDisqusAuthor = computed(() => Boolean(disqusAuthorID.value))\n      const isAdminAuthor = computed(() => {\n        return (\n          Boolean(disqusUsername.value) &&\n          Boolean(universalStore.disqusConfig) &&\n          disqusUsername.value === universalStore.disqusConfig.admin_username\n        )\n      })\n\n      const authorAvatar = computed(() => {\n        return disqusUsername.value\n          ? getDisqusAvatarByUsername(disqusUsername.value)\n          : getGravatarByHash(props.comment.author.email_hash)\n      })\n\n      const authorURL = computed(() => {\n        if (props.comment.author.site) {\n          return props.comment.author.site\n        }\n        if (disqusUsername.value) {\n          return getDisqusUserURL(disqusUsername.value)\n        }\n        return UNDEFINED\n      })\n\n      const isDeleteable = computed(() => {\n        // 1. Disqus logined\n        if (universalStore.user.type === UserType.Disqus) {\n          // 2. Logined user ID === comment.author.disqus-author-id\n          if (disqusAuthorID.value) {\n            return universalStore.user.disqusProfile?.id === disqusAuthorID.value\n          }\n        }\n\n        return false\n      })\n\n      const getReplyParentCommentText = (parentID: number) => {\n        const authorName = commentStore.comments.find((comment) => comment.id === parentID)?.author\n          .name\n        const nameText = authorName ? `@${authorName}` : ''\n        const idText = `#${parentID}`\n        return `${idText} ${nameText}`\n      }\n\n      const handleReply = () => {\n        context.emit(CommentEvents.Reply, props.comment.id)\n      }\n\n      const handleCancelReply = () => {\n        context.emit(CommentEvents.CancelReply, props.comment.id)\n      }\n\n      const handleVote = (isLike: boolean) => {\n        context.emit(CommentEvents.Vote, props.comment.id, isLike)\n      }\n\n      const handleDelete = () => {\n        if (window.confirm(i18n.t(LanguageKey.COMMENT_DELETE_CONFIRM))) {\n          context.emit(CommentEvents.Delete, props.comment.id)\n        }\n      }\n\n      const scrollToCommentItem = (commentId: number) => {\n        scrollToAnchor(getCommentItemElementID(commentId), -300)\n      }\n\n      return {\n        LanguageKey,\n        isDeleting,\n        isDisqusAuthor,\n        isAdminAuthor,\n        isDeleteable,\n        authorAvatar,\n        authorURL,\n        getCommentItemElementID,\n        getReplyParentCommentText,\n        firstUpperCase,\n        handleVote,\n        handleDelete,\n        handleReply,\n        handleCancelReply,\n        scrollToCommentItem\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .comment-item {\n    position: relative;\n    padding-left: 2rem;\n    margin-top: $lg-gap;\n    &:first-child {\n      margin-top: 0;\n    }\n\n    /* reply */\n    .cm-reply {\n      padding-top: $lg-gap;\n      padding-bottom: $sm-gap;\n      padding-right: $sm-gap;\n    }\n\n    &.has-child {\n      .cm-reply {\n        padding-bottom: 0;\n      }\n    }\n\n    &.is-child {\n      margin-top: $xs-gap;\n      padding-top: $xs-gap;\n      border-top: 1px dashed $module-bg-darker-3;\n      .cm-reply {\n        padding-right: 0;\n        padding-bottom: 0;\n      }\n\n      &:last-child {\n        .cm-body {\n          padding-bottom: 0;\n        }\n        .cm-reply {\n          padding-bottom: $sm-gap;\n        }\n      }\n\n      .cm-avatar {\n        top: $lg-gap * 2;\n      }\n    }\n\n    .cm-avatar {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: $gap * 2;\n\n      .link {\n        $size: 4.8rem;\n        position: relative;\n        display: block;\n        width: $size;\n        height: $size;\n        border: 4px solid $module-bg-lighter;\n        border-radius: $sm-radius;\n        background-color: $module-bg-darker-2;\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: $xs-radius;\n        }\n\n        .role {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          width: 40%;\n          height: 40%;\n          padding-top: 1px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-top-left-radius: $sm-radius;\n          color: $white;\n          &.disqus {\n            background-color: rgba($disqus-primary, 0.5);\n          }\n          &.anonymous {\n            background-color: $module-bg-translucent;\n          }\n        }\n      }\n    }\n\n    .cm-body {\n      display: block;\n      width: 100%;\n      height: 100%;\n      padding: $sm-gap $sm-gap $sm-gap ($lg-gap * 3);\n      background-color: $module-bg-darker-1;\n      border-radius: $xs-radius;\n      @include background-transition();\n\n      > .cm-header {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n\n        .left {\n          display: flex;\n          align-items: center;\n        }\n\n        .username {\n          font-weight: bold;\n          margin-right: $gap;\n          border-bottom: 1px solid transparent;\n          &.url {\n            &:hover {\n              border-color: inherit;\n            }\n          }\n        }\n\n        .moderator {\n          display: inline-block;\n          margin-left: -$sm-gap;\n          margin-right: $sm-gap;\n          padding: 0 $xs-gap 0.1em;\n          font-size: 11px;\n          color: $text-reversal;\n          background-color: $primary-lighter;\n          @include radius-box($xs-radius);\n        }\n\n        .author-info {\n          display: inline-flex;\n          align-items: center;\n          font-size: $font-size-small;\n          color: $text-divider;\n\n          > * {\n            margin-right: $gap;\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n\n        .flool {\n          color: $text-divider;\n          font-size: $font-size-small;\n          font-weight: bold;\n        }\n      }\n\n      > .cm-content {\n        padding-right: $xs-gap;\n        user-select: text;\n\n        .reply {\n          display: flex;\n          align-items: center;\n          margin-top: $sm-gap;\n          margin-bottom: -$xs-gap;\n          font-size: $font-size-h6;\n          font-weight: bold;\n          color: $text-disabled;\n\n          .text {\n            margin-right: $xs-gap;\n          }\n\n          .parent {\n            font-weight: bold;\n            color: $link-color;\n            &:hover {\n              color: $link-hover;\n            }\n          }\n        }\n\n        .markdown {\n          margin: $sm-gap 0;\n        }\n      }\n\n      .cm-footer {\n        display: flex;\n        justify-content: space-between;\n\n        .create_at,\n        .reply,\n        .vote,\n        .delete {\n          color: $text-disabled;\n          font-size: $font-size-small;\n          margin-right: $gap;\n\n          .iconfont {\n            margin-right: $xs-gap;\n          }\n        }\n\n        .reply {\n          &:hover {\n            color: $link-color;\n          }\n        }\n\n        .vote {\n          &:hover,\n          &.actived {\n            color: $red;\n          }\n          &.actived,\n          &.alived {\n            .count {\n              font-weight: bold;\n            }\n          }\n\n          .count {\n            margin-left: 3px;\n          }\n        }\n\n        .delete {\n          color: $text-divider;\n          margin: 0;\n          &:hover {\n            color: $red;\n          }\n        }\n      }\n    }\n\n    &:hover {\n      .cm-body {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    &.hide-avatar {\n      padding: 0;\n      margin-top: $gap;\n      &.is-child {\n        .cm-content {\n          border-left: 6px solid $module-bg-darker-2;\n          padding-left: 1rem;\n        }\n      }\n\n      .cm-body {\n        padding: $sm-gap $gap;\n      }\n    }\n  }\n</style>\n","<template>\n  <ul class=\"comment-list\" :class=\"isChildList ? 'child' : 'root'\" ref=\"listElement\">\n    <transition-group name=\"list-fade\" @after-enter=\"addCommentAnimateDone\">\n      <comment-item\n        v-for=\"item in comments\"\n        :key=\"item.comment.id\"\n        :comment=\"item.comment\"\n        :liked=\"isLikedComment(item.comment.id)\"\n        :disliked=\"isDislikedComment(item.comment.id)\"\n        :has-child=\"Boolean(item.children.length)\"\n        :is-child=\"isChildList\"\n        :is-reply=\"replyPid === item.comment.id\"\n        :hidden-avatar=\"hiddenAvatar\"\n        :hidden-ua=\"hiddenUa\"\n        :plain-vote=\"plainVote\"\n        @vote=\"handleVoteComment\"\n        @delete=\"handleDeleteComment\"\n        @reply=\"handleReplyComment\"\n        @cancel-reply=\"handleCancelReply\"\n      >\n        <template #reply>\n          <slot name=\"reply\" :comment=\"item.comment\" :isChild=\"false\"></slot>\n        </template>\n        <template #children v-if=\"item.children.length\">\n          <comment-list\n            :comments=\"buildeCommentTree(item.children)\"\n            :is-child-list=\"true\"\n            :hidden-avatar=\"hiddenAvatar\"\n            :hidden-ua=\"hiddenUa\"\n            :plain-vote=\"plainVote\"\n            :reply-pid=\"replyPid\"\n            @delete=\"handleDeleteComment\"\n            @reply=\"handleReplyComment\"\n            @cancel-reply=\"handleCancelReply\"\n          >\n            <template #reply>\n              <slot name=\"reply\" :comment=\"item.comment\" :isChild=\"true\"></slot>\n            </template>\n          </comment-list>\n        </template>\n      </comment-item>\n    </transition-group>\n  </ul>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, onMounted, onBeforeUnmount, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { useCommentStore, Comment, CommentTreeItem } from '/@/stores/comment'\n  import { LozadObserver, LOZAD_CLASS_NAME, LOADED_CLASS_NAME } from '/@/effects/lozad'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { CommentEvents } from '../helper'\n  import CommentItem from './item.vue'\n\n  export default defineComponent({\n    name: 'CommentList',\n    components: {\n      CommentItem\n    },\n    props: {\n      comments: {\n        type: Array as PropType<Array<CommentTreeItem>>,\n        required: true\n      },\n      replyPid: {\n        type: Number,\n        required: true\n      },\n      isChildList: {\n        type: Boolean,\n        default: false\n      },\n      hiddenAvatar: {\n        type: Boolean,\n        default: false\n      },\n      hiddenUa: {\n        type: Boolean,\n        default: false\n      },\n      plainVote: {\n        type: Boolean,\n        required: false\n      }\n    },\n    emits: [CommentEvents.Reply, CommentEvents.Delete, CommentEvents.CancelReply],\n    setup(_, context) {\n      const { i18n, gtag } = useEnhancer()\n      const commentStore = useCommentStore()\n      const universalStore = useUniversalStore()\n\n      const listElement = ref<any>()\n      const lozadObserver = ref<LozadObserver | null>(null)\n\n      const observeLozad = () => {\n        const lozadElements = (listElement.value as HTMLElement)?.querySelectorAll(\n          `.${LOZAD_CLASS_NAME}`\n        )\n        if (lozadElements?.length) {\n          lozadObserver.value = window.$lozad(lozadElements, {\n            loaded: (element) => element.classList.add(LOADED_CLASS_NAME)\n          })\n          lozadObserver.value.observe()\n        }\n      }\n\n      const addCommentAnimateDone = () => {\n        observeLozad()\n      }\n\n      const handleReplyComment = (commentID: number) => {\n        context.emit(CommentEvents.Reply, commentID)\n      }\n\n      const handleCancelReply = (commentID: number) => {\n        context.emit(CommentEvents.CancelReply, commentID)\n      }\n\n      const handleDeleteComment = async (commentID: number) => {\n        context.emit(CommentEvents.Delete, commentID)\n      }\n\n      const handleVoteComment = async (commentID: number, isLike: boolean) => {\n        gtag?.event('vote_comment', {\n          event_category: GAEventCategories.Comment,\n          event_label: isLike ? 'like' : 'dislike'\n        })\n        if (isLike && universalStore.isLikedComment(commentID)) {\n          return false\n        }\n        if (!isLike && universalStore.isDislikedComment(commentID)) {\n          return false\n        }\n        try {\n          await commentStore.postCommentVote(commentID, isLike ? 1 : -1)\n          isLike ? universalStore.likeComment(commentID) : universalStore.dislikeComment(commentID)\n        } catch (error) {\n          const message = i18n.t(LanguageKey.POST_ACTION_ERROR)\n          console.warn(message, error)\n          alert(message)\n        }\n      }\n\n      const buildeCommentTree = (comments: Comment[]): Array<CommentTreeItem> => {\n        return comments.map((comment) => ({\n          comment,\n          children: []\n        }))\n      }\n\n      onMounted(() => {\n        observeLozad()\n      })\n      onBeforeUnmount(() => {\n        lozadObserver.value?.observer.disconnect()\n        lozadObserver.value = null\n      })\n\n      return {\n        listElement,\n        addCommentAnimateDone,\n        isLikedComment: universalStore.isLikedComment,\n        isDislikedComment: universalStore.isDislikedComment,\n        handleVoteComment,\n        handleDeleteComment,\n        handleReplyComment,\n        handleCancelReply,\n        buildeCommentTree\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .comment-list {\n    padding: 0;\n    margin: 0;\n    list-style-type: none;\n\n    &.root {\n    }\n\n    &.child {\n      margin-top: $gap;\n    }\n  }\n</style>\n","<template>\n  <transition name=\"module\">\n    <div class=\"loadmore\" :id=\"COMMENT_FOOTER_ELEMENT_ID\">\n      <button class=\"button\" v-if=\"hasMore\" :disabled=\"fetching\" @click=\"handleLoadmore\">\n        <i18n v-if=\"fetching\" zh=\"加载中...\" en=\"Loading...\" />\n        <template v-else>\n          <i18n>\n            <template #zh>加载更多评论（剩 {{ remain }} 条）</template>\n            <template #en>Loadmore (remain {{ remain }})</template>\n          </i18n>\n          <i class=\"iconfont icon-loadmore\"></i>\n        </template>\n      </button>\n      <span class=\"no-more\" v-else>\n        <i18n zh=\"水尽山穷\" en=\"NO MORE\" />\n      </span>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { COMMENT_FOOTER_ELEMENT_ID } from '/@/constants/anchor'\n  import { CommentEvents } from './helper'\n\n  export default defineComponent({\n    name: 'CommentPagination',\n    props: {\n      fetching: {\n        type: Boolean,\n        required: true\n      },\n      remain: {\n        type: Number,\n        required: true\n      },\n      pagination: {\n        type: Object,\n        required: false\n      }\n    },\n    setup(props, context) {\n      const { gtag } = useEnhancer()\n      const hasMore = computed(() => {\n        return (\n          props.pagination?.total_page > 1 &&\n          props.pagination?.current_page !== props.pagination?.total_page\n        )\n      })\n\n      const handleLoadmore = () => {\n        gtag?.event('loadmore', {\n          event_category: GAEventCategories.Comment\n        })\n\n        if (props.pagination) {\n          context.emit(CommentEvents.Page, props.pagination.current_page + 1)\n        }\n      }\n\n      return {\n        COMMENT_FOOTER_ELEMENT_ID,\n        hasMore,\n        handleLoadmore\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .loadmore {\n    margin-top: $lg-gap;\n    margin-bottom: $sm-gap;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .button {\n      min-width: 10rem;\n      height: 2.8rem;\n      padding: 0 $lg-gap;\n      border-radius: $xs-radius;\n      background-color: $module-bg-darker-1;\n      color: $text-disabled;\n      &:not([disabled]):hover {\n        color: $link-color;\n        background-color: $module-bg-hover;\n      }\n\n      .iconfont {\n        margin-left: $sm-gap;\n      }\n    }\n\n    .no-more {\n      padding-top: $xs-gap;\n      color: $text-disabled;\n    }\n  }\n</style>\n","<template>\n  <placeholder :loading=\"fetching\">\n    <template #loading>\n      <div class=\"publisher-skeleton\" key=\"skeleton\">\n        <div class=\"avatar\">\n          <skeleton-base />\n        </div>\n        <div class=\"content\">\n          <skeleton-base />\n        </div>\n      </div>\n    </template>\n    <template #default>\n      <slot></slot>\n    </template>\n  </placeholder>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    name: 'CommentPublisherMain',\n    props: {\n      fetching: {\n        type: Boolean,\n        default: false\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  $avatar-size: 4rem;\n\n  .publisher-skeleton {\n    display: flex;\n    height: $avatar-size;\n\n    .avatar {\n      width: $avatar-size;\n      margin-right: $gap;\n    }\n\n    .content {\n      flex-grow: 1;\n    }\n  }\n</style>\n","<template>\n  <form\n    key=\"publisher\"\n    class=\"publisher\"\n    name=\"comment\"\n    :id=\"id\"\n    :class=\"{\n      'hidden-avatar': hiddenAvatar,\n      'fixed-avatar': fixedAvatar,\n      blossomed,\n      bordered\n    }\"\n  >\n    <transition name=\"module-slow\">\n      <div class=\"profile\" v-if=\"user.type === UserType.Null\" v-show=\"blossomed\">\n        <div class=\"name\">\n          <input\n            :value=\"profile.name\"\n            @input=\"handleUpdateProfile('name', $event)\"\n            required\n            type=\"text\"\n            name=\"name\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"t(LanguageKey.COMMENT_POST_NAME) + ' *'\"\n          />\n        </div>\n        <div class=\"email\">\n          <input\n            :value=\"profile.email\"\n            @input=\"handleUpdateProfile('email', $event)\"\n            required\n            type=\"email\"\n            name=\"email\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"t(LanguageKey.COMMENT_POST_EMAIL) + ' *'\"\n          />\n        </div>\n        <div class=\"site\">\n          <input\n            :value=\"profile.site\"\n            @input=\"handleUpdateProfile('site', $event)\"\n            type=\"url\"\n            name=\"url\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"t(LanguageKey.COMMENT_POST_SITE)\"\n          />\n        </div>\n      </div>\n    </transition>\n    <div class=\"postbox\">\n      <div class=\"avatar\" v-if=\"!hiddenAvatar\">\n        <uimage :alt=\"profile.name\" :src=\"avatar\" />\n      </div>\n      <transition name=\"module-slow\">\n        <div class=\"editor\" v-if=\"blossomed\" key=\"editor\">\n          <slot name=\"pen\"></slot>\n        </div>\n        <div class=\"placeholder\" v-else key=\"placeholder\" @click=\"handleBlossom\">\n          <i18n zh=\"在下有一拙见，不知...\" :en=\"`${total ? 'Join' : 'Start'} the discussion...`\" />\n        </div>\n      </transition>\n    </div>\n  </form>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Author } from '/@/stores/comment'\n  import { useUniversalStore, UserType } from '/@/stores/universal'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import {\n    getGravatarByHash,\n    getDefaultAvatar,\n    getDisqusAvatarByUsername\n  } from '/@/transforms/avatar'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { CommentEvents } from '../helper'\n\n  export enum PublisherEvents {\n    UpdateProfile = 'update:profile'\n  }\n\n  export default defineComponent({\n    name: 'CommentPublisher',\n    props: {\n      id: {\n        type: String,\n        required: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      profile: {\n        type: Object as PropType<Author>,\n        required: true\n      },\n      total: {\n        type: Number,\n        default: 0,\n        required: false\n      },\n      bordered: {\n        type: Boolean,\n        default: false\n      },\n      defaultBlossomed: {\n        type: Boolean,\n        default: true\n      },\n      hiddenAvatar: {\n        type: Boolean,\n        required: false\n      },\n      fixedAvatar: {\n        type: Boolean,\n        required: false\n      }\n    },\n    emits: [CommentEvents.Blossom, PublisherEvents.UpdateProfile],\n    setup(props, context) {\n      const { i18n, gtag } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const user = computed(() => universalStore.user)\n      const avatar = computed(() => {\n        // local user\n        if (user.value.type === UserType.Local) {\n          return getGravatarByHash(user.value.localProfile?.email_hash)\n        }\n        // disqus user\n        if (user.value.type === UserType.Disqus) {\n          return getDisqusAvatarByUsername(user.value.disqusProfile?.username)\n        }\n        // temp user\n        return getDefaultAvatar()\n      })\n\n      const handleUpdateProfile = (key: keyof Author, event: any) => {\n        context.emit(PublisherEvents.UpdateProfile, {\n          ...props.profile,\n          [key]: event.target.value\n        })\n      }\n\n      const blossomed = ref(props.defaultBlossomed)\n      const handleBlossom = () => {\n        blossomed.value = true\n        context.emit(CommentEvents.Blossom)\n        gtag?.event('focus_publisher', {\n          event_category: GAEventCategories.Comment\n        })\n      }\n\n      return {\n        user,\n        avatar,\n        blossomed,\n        UserType,\n        LanguageKey,\n        t: i18n.t,\n        firstUpperCase,\n        handleUpdateProfile,\n        handleBlossom\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  $avatar-size: 4rem;\n\n  .publisher-skeleton {\n    display: flex;\n    height: $avatar-size;\n\n    .avatar {\n      width: $avatar-size;\n      margin-right: $gap;\n    }\n\n    .content {\n      flex-grow: 1;\n    }\n  }\n\n  .publisher {\n    display: block;\n    padding-left: 5.2rem;\n    &.bordered {\n      input {\n        border: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .profile {\n      width: 100%;\n      height: 2em;\n      line-height: 2em;\n      display: flex;\n      margin-bottom: $gap;\n\n      .name,\n      .email,\n      .site {\n        flex-grow: 1;\n\n        input {\n          width: 100%;\n          height: 2em;\n          line-height: 2em;\n          text-indent: 3px;\n          background-color: $module-bg-darker-1;\n          @include radius-box($mini-radius);\n          @include background-transition();\n\n          &:focus,\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n      }\n\n      .name,\n      .email {\n        margin-right: $gap;\n      }\n    }\n\n    .postbox {\n      width: 100%;\n      height: $avatar-size;\n      display: flex;\n      position: relative;\n\n      .avatar {\n        position: absolute;\n        top: 0;\n        left: -($avatar-size + $gap);\n        display: block;\n        width: $avatar-size;\n        height: $avatar-size;\n        background-color: $module-bg-darker-1;\n        @include radius-box($xs-radius);\n\n        img {\n          width: 100%;\n          height: 100%;\n          transition: transform 0.5s ease-out;\n        }\n      }\n\n      .editor {\n        flex-grow: 1;\n        overflow: hidden;\n      }\n\n      .placeholder {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        padding: 0 1em;\n        display: flex;\n        align-items: center;\n        font-size: $font-size-h4;\n        cursor: text;\n        @include radius-box($xs-radius);\n        background-color: $module-bg-darker-1;\n        &:hover {\n          background-color: $module-bg-darker-3;\n        }\n      }\n    }\n\n    &.blossomed {\n      .postbox {\n        height: auto;\n        min-height: 8rem;\n      }\n    }\n\n    &.hidden-avatar {\n      padding-left: 0;\n\n      .profile {\n        padding: 0;\n        margin: 0;\n        height: auto;\n        flex-direction: column;\n\n        .name,\n        .email,\n        .site {\n          width: 80%;\n          margin-left: 0;\n          margin-right: 0;\n          margin-bottom: $gap;\n        }\n      }\n    }\n\n    &.fixed-avatar {\n      padding-left: 0;\n    }\n  }\n</style>\n","/**\n * @file Editable element util\n * @module util.editable\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const focusPosition = (element: HTMLElement, position = 0) => {\n  if (!element) {\n    return\n  }\n\n  // 1. focus\n  element.focus()\n  // 2. position\n  // first text position\n  if (!position) {\n    const range = window.getSelection()?.getRangeAt(0) as Range\n    const clone = range.cloneRange()\n    clone.selectNodeContents(element)\n    clone.setEnd(range.endContainer, range.endOffset)\n    return clone.toString().length\n  }\n  // position\n  let length = 0\n  let abort = false\n\n  const visit = (parentNode: any) => {\n    const nodes = parentNode.childNodes\n    for (let i = 0; i < nodes.length; ++i) {\n      const node = nodes[i]\n      const isNewLine = node.nodeType === 1 && node.tagName === 'BR'\n      // 文本节点且不是换行\n      if (node.nodeType !== 3 && !isNewLine) {\n        visit(node)\n        return\n      }\n\n      length += isNewLine ? 1 : node.textContent.length\n      if (length >= position) {\n        if (abort) {\n          visit(node)\n          return\n        }\n\n        abort = true\n        const selection = document.getSelection() as Selection\n        const range = document.createRange()\n        const sub = length - node.textContent.length\n        range.setStart(node, position - sub)\n        range.setEnd(node, position - sub)\n        selection.removeAllRanges()\n        selection.addRange(range)\n        break\n      }\n    }\n  }\n  visit(element)\n}\n\nexport interface IncertOption {\n  element: HTMLElement | void\n  content: string | [string, string]\n}\nexport const insertContent = (option: IncertOption) => {\n  const { element, content } = option\n  const [before, after] = Array.isArray(content) ? content : [content]\n\n  if (!element || (!before && !after)) {\n    return false\n  }\n\n  // 如果选中了内容，则把选中的内容替换，\n  const currentText = element.innerText\n  const selection = (window.getSelection || document.getSelection)() as Selection\n  const selectedText = selection?.toString()\n  if (selectedText) {\n    // TODO: 正则可能会匹配到重复的前面的字符，故不可靠\n    // 替换所有选中文本 -> 然后定位到所替换文本的最后一个字符\n    // 对于选中逻辑来说，既定的任何单个字符都理解为替换\n    const isInsertReplace = !!before && !after\n    const newSelectedText = isInsertReplace ? before : before + selectedText + after\n    const newText = currentText.replace(selectedText, newSelectedText)\n    // console.log('选中插入', newText)\n    element.innerText = newText\n    focusPosition(element, newText.indexOf(newSelectedText) + newSelectedText.length - 1)\n  } else {\n    // 否则追加新内容\n    const newInsertText = before + after\n    const selectedRange = (() => {\n      // eslint-disable-next-line no-empty\n      try {\n        return selection.getRangeAt(0)\n      } catch (error) {}\n    })() as Range\n    const startPoint = selectedRange?.startOffset\n    const endPoint = selectedRange?.endOffset\n\n    // 若拿到了光标，则在光标位置插入新内容 -> 然后定位到新内容的最后一个字符\n    if (selectedRange && startPoint === endPoint && startPoint > 0) {\n      const newTexts = [\n        currentText.slice(0, startPoint),\n        newInsertText,\n        currentText.slice(startPoint)\n      ]\n      // console.log('光标插入', startPoint, newTexts)\n      element.innerText = newTexts.join('')\n      focusPosition(element, newTexts[0].length + newTexts[1].length - 1)\n    } else {\n      // 否则末端追加内容，并定位到最后一个字符\n      const newText = currentText + newInsertText\n      // console.log('尾部插入', newText)\n      element.innerText = newText\n      focusPosition(element, newText.length - 1)\n      // TODO:????\n      // element.scrollIntoView()\n      // element?.scrollTop = element?.scrollHeight\n    }\n  }\n}\n","<template>\n  <div class=\"pen\" :class=\"{ bordered }\">\n    <div class=\"markdown\">\n      <div\n        ref=\"inputElement\"\n        class=\"markdown-input\"\n        :contenteditable=\"!disabled\"\n        :placeholder=\"t(LanguageKey.COMMENT_POST_PLACEHOLDER)\"\n        @focus=\"disableCopyrighter\"\n        @blur=\"enableCopyrighter\"\n      />\n      <transition name=\"list-fade\">\n        <div class=\"preview-content\" v-if=\"isPreviewed\">\n          <markdown :markdown=\"content\" :sanitize=\"true\" :compact=\"true\" />\n        </div>\n      </transition>\n    </div>\n    <div class=\"pencilbox\">\n      <div class=\"stationery\">\n        <ulink class=\"markdown\" title=\"markdown\" :href=\"VALUABLE_LINKS.MARKDOWN\">\n          <i class=\"iconfont icon-markdown\" />\n        </ulink>\n        <template v-if=\"!hiddenStationery\">\n          <button class=\"emoji\" title=\"emoji\" type=\"button\" :disabled=\"disabled || isPreviewed\">\n            <i class=\"iconfont icon-emoji\" />\n            <div class=\"emoji-box\">\n              <ul class=\"emoji-list\">\n                <li\n                  v-for=\"(emoji, index) in EMOJIS\"\n                  v-once\n                  :key=\"index\"\n                  class=\"item\"\n                  @click=\"insertEmoji(emoji)\"\n                >\n                  {{ emoji }}\n                </li>\n              </ul>\n            </div>\n          </button>\n          <button\n            class=\"image\"\n            title=\"image\"\n            :disabled=\"disabled || isPreviewed\"\n            @click.prevent=\"insertImage\"\n          >\n            <i class=\"iconfont icon-image\" />\n          </button>\n          <button\n            class=\"link\"\n            title=\"link\"\n            :disabled=\"disabled || isPreviewed\"\n            @click.prevent=\"insertLink\"\n          >\n            <i class=\"iconfont icon-link\" />\n          </button>\n          <button\n            class=\"code\"\n            title=\"code\"\n            :disabled=\"disabled || isPreviewed\"\n            @click.prevent=\"insertCode\"\n          >\n            <i class=\"iconfont icon-code\" />\n          </button>\n          <button\n            class=\"preview\"\n            title=\"preview\"\n            :class=\"{ actived: isPreviewed }\"\n            :disabled=\"disabled\"\n            @click.prevent=\"handleTogglePreview\"\n          >\n            <i class=\"iconfont\" :class=\"isPreviewed ? 'icon-eye-close' : 'icon-eye'\" />\n          </button>\n        </template>\n      </div>\n      <button type=\"submit\" class=\"submit\" :disabled=\"disabled\" @click=\"handleSubmit\">\n        <i18n zh=\"发布中...\" en=\"Posting...\" v-if=\"posting\" />\n        <i18n v-else-if=\"user.type === UserType.Local\">\n          <template #zh>以 {{ user.localProfile?.name }} 的身份发布</template>\n          <template #en>Post as {{ user.localProfile?.name }}</template>\n        </i18n>\n        <i18n v-else-if=\"user.type === UserType.Disqus\">\n          <template #zh>以 {{ user.disqusProfile?.name }} 的身份发布</template>\n          <template #en>Post as {{ user.disqusProfile?.name }}</template>\n        </i18n>\n        <i18n zh=\"发布\" en=\"Publish\" v-else />\n        <i class=\"iconfont icon-mail-plane\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, watch, onMounted, onBeforeUnmount, nextTick } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalStore, UserType } from '/@/stores/universal'\n  import { enableCopyrighter, disableCopyrighter } from '/@/effects/copyright'\n  import { focusPosition } from '/@/utils/editable'\n  import { insertContent } from '/@/utils/editable'\n  import { CommentEvents, EMOJIS } from '../helper'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  export enum PenEvents {\n    Update = 'update:modelValue',\n    UpdatePreviewed = 'update:previewed'\n  }\n\n  export default defineComponent({\n    name: 'CommentPen',\n    components: {\n      Markdown\n    },\n    props: {\n      modelValue: {\n        type: String,\n        required: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      previewed: {\n        type: Boolean,\n        default: false\n      },\n      posting: {\n        type: Boolean,\n        required: true\n      },\n      bordered: {\n        type: Boolean,\n        required: false\n      },\n      autoFocus: {\n        type: Boolean,\n        default: false\n      },\n      hiddenStationery: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [PenEvents.Update, PenEvents.UpdatePreviewed, CommentEvents.Submit],\n    setup(props, context) {\n      const { i18n } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const content = ref(props.modelValue || '')\n      const isPreviewed = ref(props.previewed || false)\n      const inputElement = ref<HTMLElement>()\n      let inputElementObserver: MutationObserver | null = null\n\n      const handleTogglePreview = () => {\n        isPreviewed.value = !isPreviewed.value\n        context.emit(PenEvents.UpdatePreviewed, isPreviewed.value)\n      }\n\n      const handleInputChange = () => {\n        const text = inputElement.value?.innerText as string\n        if (text !== content.value) {\n          content.value = text\n          context.emit(PenEvents.Update, text)\n        }\n      }\n\n      const handleSubmit = (event) => {\n        event.preventDefault()\n        context.emit(CommentEvents.Submit, content.value)\n      }\n\n      const insertContentToInput = (before: string, after = '') => {\n        insertContent({\n          element: inputElement.value,\n          content: [before, after]\n        })\n        handleInputChange()\n      }\n\n      const insertEmoji = (emoji: any) => {\n        insertContentToInput(` ${emoji} `)\n      }\n      const insertImage = () => {\n        insertContentToInput(` ![`, `](https://) `)\n      }\n      const insertLink = () => {\n        insertContentToInput(` [`, `](https://) `)\n      }\n      const insertCode = () => {\n        insertContentToInput('\\n```javascript\\n', '\\n```\\n')\n      }\n\n      watch(\n        () => props.modelValue,\n        (value = '') => {\n          if (value !== content.value) {\n            content.value = value\n            if (inputElement.value) {\n              inputElement.value.innerText = value\n            }\n          }\n        }\n      )\n\n      watch(\n        () => props.previewed,\n        (_preview) => {\n          if (_preview !== isPreviewed.value) {\n            isPreviewed.value = _preview\n          }\n        }\n      )\n\n      onMounted(() => {\n        // auto focus\n        if (props.autoFocus) {\n          nextTick().then(() => {\n            if (inputElement.value) {\n              focusPosition(inputElement.value)\n            }\n          })\n        }\n        // watch element\n        inputElementObserver = new MutationObserver(() => handleInputChange())\n        inputElementObserver.observe(inputElement.value!, {\n          attributes: true,\n          characterData: true,\n          childList: true,\n          subtree: true\n        })\n      })\n      onBeforeUnmount(() => {\n        inputElementObserver?.disconnect()\n      })\n\n      return {\n        t: i18n.t,\n        user: universalStore.user,\n        UserType,\n        EMOJIS,\n        VALUABLE_LINKS,\n        LanguageKey,\n        inputElement,\n        content,\n        isPreviewed,\n        insertEmoji,\n        insertImage,\n        insertLink,\n        insertCode,\n        handleInputChange,\n        handleTogglePreview,\n        handleSubmit,\n        enableCopyrighter,\n        disableCopyrighter\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .pen {\n    position: relative;\n    @include radius-box($xs-radius);\n    &.bordered {\n      border: 1px solid $module-bg-darker-3;\n      .pencilbox {\n        border-top: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .markdown {\n      position: relative;\n      overflow: hidden;\n\n      .markdown-input {\n        min-height: 6em;\n        max-height: 36em;\n        overflow: auto;\n        outline: none;\n        padding: 0.5em;\n        cursor: auto;\n        font-size: $font-size-h6;\n        line-height: 1.8em;\n        background-color: $module-bg-darker-1;\n        @include background-transition();\n\n        &:empty:before {\n          content: attr(placeholder);\n          color: $text-disabled;\n        }\n        &:focus {\n          content: none;\n        }\n        &:hover {\n          background-color: $module-bg-hover;\n        }\n      }\n\n      .preview-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        margin: 0;\n        padding: 0.5em;\n        background-color: $module-bg-darker-1;\n      }\n    }\n\n    .pencilbox {\n      $size: 30px;\n      height: $size;\n      line-height: $size;\n      display: flex;\n      justify-content: space-between;\n      background-color: $module-bg-darker-2;\n\n      .stationery {\n        display: flex;\n\n        .emoji,\n        .image,\n        .link,\n        .code,\n        .preview {\n          width: $size;\n          height: $size;\n          text-align: center;\n          display: block;\n          @include background-transition();\n\n          &[disabled] {\n            opacity: 0.7;\n          }\n\n          &:not([disabled]) {\n            &.actived,\n            &:hover {\n              background-color: $module-bg-darker-4;\n            }\n          }\n        }\n\n        .markdown {\n          width: 4rem;\n          text-align: center;\n          background-color: $module-bg-darker-3;\n        }\n\n        .emoji {\n          &:not([disabled]):hover {\n            .emoji-box {\n              display: block;\n            }\n          }\n\n          .emoji-box {\n            display: none;\n            position: absolute;\n            bottom: $size;\n            left: 0;\n            top: 0;\n            width: 100%;\n            overflow-y: auto;\n            background-color: $module-bg;\n\n            .emoji-list {\n              list-style: none;\n              padding: 0;\n              margin: 0;\n              font-size: $font-size-h3;\n              display: grid;\n              grid-template-columns: repeat(auto-fill, 45px);\n\n              .item {\n                cursor: pointer;\n                padding: $xs-gap 0;\n                font-size: $font-size-h2;\n                border-radius: $sm-radius;\n                @include background-transition();\n                &:hover {\n                  background-color: $module-bg-hover;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      .submit {\n        min-width: 8rem;\n        height: $size;\n        padding: 0 $gap;\n        font-weight: bold;\n        font-size: $font-size-small;\n        color: $text-disabled;\n        background-color: $module-bg-darker-3;\n        @include background-transition();\n        &:hover {\n          color: $text-secondary;\n          background-color: $module-bg-darker-4;\n        }\n\n        .iconfont {\n          margin-left: $sm-gap;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div :id=\"ANCHOR.COMMENT_ELEMENT_ID\" class=\"comment-box\">\n    <comment-topbar\n      :total=\"commentStore.pagination?.total\"\n      :loaded=\"commentStore.comments.length\"\n      :post-id=\"postId\"\n      :fetching=\"fetching\"\n      :loading=\"isLoading\"\n      :plain=\"plain\"\n      :sort=\"commentState.sort\"\n      @sort=\"fetchSortComments\"\n    />\n    <divider class=\"divider\" size=\"lg\" />\n    <comment-publisher-main :fetching=\"fetching\">\n      <comment-publisher\n        v-model:profile=\"guestProfile\"\n        :id=\"ANCHOR.COMMENT_PUBLISHER_ELEMENT_ID\"\n        :disabled=\"isLoading || isRootPosting\"\n        :total=\"commentStore.pagination?.total\"\n        :default-blossomed=\"plain ? true : false\"\n        :hidden-avatar=\"plain\"\n      >\n        <template #pen>\n          <comment-pen\n            v-model=\"rootPenState.content\"\n            v-model:previewed=\"rootPenState.previewed\"\n            :auto-focus=\"plain ? false : true\"\n            :hidden-stationery=\"plain\"\n            :disabled=\"isRootPosting || isLoading\"\n            :posting=\"isRootPosting\"\n            @submit=\"handleRootSubmit\"\n          />\n        </template>\n      </comment-publisher>\n    </comment-publisher-main>\n    <divider class=\"divider\" size=\"lg\" />\n    <comment-main\n      :fetching=\"isLoading\"\n      :skeleton-count=\"plain ? 3 : 5\"\n      :has-data=\"Boolean(commentStore.commentTreeList.length)\"\n    >\n      <template #list>\n        <comment-list\n          :comments=\"commentStore.commentTreeList\"\n          :reply-pid=\"commentState.replyPID\"\n          :hidden-avatar=\"plain\"\n          :hidden-ua=\"plain\"\n          :plain-vote=\"plain\"\n          @delete=\"handleDeleteComment\"\n          @reply=\"replyComment\"\n          @cancel-reply=\"cancelCommentReply\"\n        >\n          <template #reply=\"payload\">\n            <comment-publisher\n              v-model:profile=\"guestProfile\"\n              :id=\"ANCHOR.COMMENT_REPLY_PUBLISHER_ELEMENT_ID\"\n              :disabled=\"false\"\n              :bordered=\"true\"\n              :default-blossomed=\"true\"\n              :hidden-avatar=\"plain\"\n              :fixed-avatar=\"payload.isChild\"\n            >\n              <template #pen>\n                <comment-pen\n                  :posting=\"isReplyPosting\"\n                  :bordered=\"true\"\n                  :auto-focus=\"true\"\n                  :hidden-stationery=\"plain\"\n                  @submit=\"handleReplySubmit\"\n                />\n              </template>\n            </comment-publisher>\n          </template>\n        </comment-list>\n      </template>\n      <template #pagination>\n        <comment-loadmore\n          :fetching=\"isFetching\"\n          :pagination=\"commentStore.pagination\"\n          :remain=\"commentStore.pagination?.total - commentStore.comments.length\"\n          @page=\"fetchPageComments\"\n        />\n      </template>\n    </comment-main>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import {\n    defineComponent,\n    ref,\n    reactive,\n    computed,\n    watch,\n    toRaw,\n    onBeforeUnmount,\n    onUnmounted,\n    nextTick\n  } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalStore, UserType } from '/@/stores/universal'\n  import { useCommentStore, CommentFetchParams, Author } from '/@/stores/comment'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import * as ANCHOR from '/@/constants/anchor'\n  import { UNDEFINED } from '/@/constants/value'\n  import { SortType } from '/@/constants/state'\n  import { LanguageKey } from '/@/language'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { luanchEmojiRain } from './helper'\n  import CommentTopbar from './topbar.vue'\n  import CommentMain from './list/main.vue'\n  import CommentList from './list/list.vue'\n  import CommentLoadmore from './loadmore.vue'\n  import CommentPublisherMain from './publisher/main.vue'\n  import CommentPublisher from './publisher/publisher.vue'\n  import CommentPen from './publisher/pen.vue'\n\n  export default defineComponent({\n    name: 'Dsiqus',\n    components: {\n      CommentTopbar,\n      CommentMain,\n      CommentList,\n      CommentLoadmore,\n      CommentPublisherMain,\n      CommentPublisher,\n      CommentPen\n    },\n    props: {\n      postId: {\n        type: Number,\n        required: true\n      },\n      fetching: {\n        type: Boolean,\n        default: false\n      },\n      plain: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props) {\n      const { i18n, gtag, globalState } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const commentStore = useCommentStore()\n\n      const isPosting = computed(() => commentStore.posting)\n      const isFetching = computed(() => commentStore.fetching)\n      const isLoading = computed(() => {\n        return props.fetching || (!commentStore.comments.length && commentStore.fetching)\n      })\n\n      enum PostKey {\n        Root = 'root',\n        Reply = 'reply'\n      }\n      const postingKey = ref<PostKey>()\n      const isRootPosting = computed(() => isPosting.value && postingKey.value === PostKey.Root)\n      const isReplyPosting = computed(() => isPosting.value && postingKey.value === PostKey.Reply)\n\n      const commentState = reactive({\n        sort: SortType.Desc,\n        replyPID: 0\n      })\n\n      const guestProfile = ref<Author>({\n        name: '',\n        email: '',\n        site: ''\n      })\n\n      const rootPenState = reactive({\n        content: '',\n        previewed: false\n      })\n\n      const clearRootPenContent = () => {\n        rootPenState.content = ''\n      }\n      const closeRootPenPreview = () => {\n        rootPenState.previewed = false\n      }\n\n      const cancelCommentReply = () => {\n        commentState.replyPID = 0\n      }\n      const replyComment = (commentID: number) => {\n        commentState.replyPID = commentID\n        gtag?.event('reply_comment', {\n          event_category: GAEventCategories.Comment\n        })\n      }\n\n      const fetchCommentList = (params: CommentFetchParams = {}) => {\n        return commentStore.fetchList({\n          ...params,\n          sort: commentState.sort,\n          post_id: props.postId\n        })\n      }\n\n      const fetchSortComments = (sort: SortType) => {\n        if (commentState.sort !== sort) {\n          commentState.sort = sort\n          fetchCommentList()\n          scrollToAnchor(ANCHOR.COMMENT_ELEMENT_ID)\n        }\n      }\n\n      const fetchPageComments = (page: number) => {\n        const comments = commentStore.comments\n        const lastCommentID = ANCHOR.getCommentItemElementID(comments[comments.length - 2].id)\n        fetchCommentList({ page, loadmore: true }).then(() => {\n          nextTick().then(() => {\n            scrollToAnchor(lastCommentID)\n          })\n        })\n      }\n\n      const handleDeleteComment = (commentID: number) => {\n        commentStore.deleteComment(commentID).catch((error) => {\n          console.warn('delete comment failed', error)\n          alert(error.message)\n        })\n      }\n\n      const createComment = async (payload: { content: string; pid: number }) => {\n        gtag?.event('submit_comment', {\n          event_category: GAEventCategories.Comment\n        })\n\n        // content length\n        if (!payload.content || !payload.content.trim()) {\n          throw `${i18n.t(LanguageKey.COMMENT_POST_CONTENT)} ?`\n        }\n        if (payload.content.length > 3000) {\n          throw `${i18n.t(LanguageKey.COMMENT_POST_ERROR_CONTENT)} ?`\n        }\n\n        // temp user profile\n        const isGuest = universalStore.user.type === UserType.Null\n        const guestProfileValue = guestProfile.value\n        if (isGuest) {\n          if (!guestProfileValue.name) {\n            throw i18n.t(LanguageKey.COMMENT_POST_NAME) + '?'\n          }\n          if (!guestProfileValue.email) {\n            throw i18n.t(LanguageKey.COMMENT_POST_EMAIL) + '?'\n          }\n        }\n\n        const author: Author = isGuest\n          ? toRaw(guestProfileValue)\n          : universalStore.user.type === UserType.Local\n          ? universalStore.user.localProfile!\n          : {\n              name: universalStore.user.disqusProfile.name,\n              site: universalStore.user.disqusProfile.url\n            }\n        if (!author.email) {\n          Reflect.deleteProperty(author, 'email')\n        }\n        if (!author.site) {\n          Reflect.deleteProperty(author, 'site')\n        }\n\n        try {\n          const newComment = await commentStore.postComment({\n            pid: payload.pid,\n            post_id: props.postId,\n            content: payload.content,\n            agent: globalState.userAgent.original,\n            author\n          })\n          // set user profile\n          if (isGuest) {\n            universalStore.saveLocalUser({\n              ...author,\n              email_hash: newComment.author.email_hash\n            })\n          }\n          // random emoji rain\n          luanchEmojiRain(payload.content)\n        } catch (error: any) {\n          console.warn('submit comment failed:', error)\n          throw error.message\n        }\n      }\n\n      const validateFormByID = (formID: string) => {\n        const formElement = document.getElementById(formID)! as HTMLFormElement\n        const check_status = formElement.checkValidity()\n        formElement.reportValidity()\n        return check_status ? Promise.resolve() : Promise.reject()\n      }\n\n      const handleRootSubmit = async (content: string) => {\n        await validateFormByID(ANCHOR.COMMENT_PUBLISHER_ELEMENT_ID)\n        postingKey.value = PostKey.Root\n        try {\n          await createComment({ content, pid: 0 })\n          closeRootPenPreview()\n          clearRootPenContent()\n        } catch (error: any) {\n          alert(error)\n        } finally {\n          postingKey.value = UNDEFINED\n        }\n      }\n\n      const handleReplySubmit = async (content: string) => {\n        await validateFormByID(ANCHOR.COMMENT_REPLY_PUBLISHER_ELEMENT_ID)\n        postingKey.value = PostKey.Reply\n        try {\n          await createComment({ content, pid: commentState.replyPID })\n          cancelCommentReply()\n        } catch (error: any) {\n          alert(error)\n        } finally {\n          postingKey.value = UNDEFINED\n        }\n      }\n\n      watch(isLoading, (isFetching) => {\n        if (isFetching) {\n          cancelCommentReply()\n        }\n      })\n\n      onBeforeUnmount(() => {\n        cancelCommentReply()\n      })\n      onUnmounted(() => {\n        commentStore.clearList()\n      })\n\n      return {\n        ANCHOR,\n        isFetching,\n        isLoading,\n        isRootPosting,\n        isReplyPosting,\n        commentStore,\n        commentState,\n        rootPenState,\n        guestProfile,\n        replyComment,\n        handleDeleteComment,\n        handleRootSubmit,\n        handleReplySubmit,\n        cancelCommentReply,\n        fetchSortComments,\n        fetchPageComments\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .comment-box {\n    padding: $gap;\n    @include common-bg-module();\n    @include radius-box($lg-radius);\n\n    .divider {\n      border-color: $module-bg-darker-1 !important;\n    }\n  }\n</style>\n","<template>\n  <div class=\"article-skeleton\">\n    <div class=\"module\">\n      <div class=\"content-skeleton\">\n        <skeleton-line class=\"title\" />\n        <skeleton-paragraph class=\"content\" :lines=\"9\" line-height=\"1.3em\" />\n      </div>\n    </div>\n    <div class=\"module\">\n      <div class=\"share-skeleton\">\n        <skeleton-base class=\"item\" v-for=\"item in socialCount\" :key=\"item\" />\n      </div>\n    </div>\n    <div class=\"module\">\n      <ul\n        class=\"related-skeleton\"\n        :style=\"{ 'grid-template-columns': `repeat(${relatedCount}, 1fr)` }\"\n      >\n        <skeleton-base v-for=\"item in relatedCount\" :key=\"item\" class=\"item\" />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    name: 'ArticleDetailSkeleton',\n    props: {\n      socialCount: {\n        type: Number,\n        required: true\n      },\n      relatedCount: {\n        type: Number,\n        required: true\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .article-skeleton {\n    .module {\n      margin-bottom: $lg-gap;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n    }\n\n    .content-skeleton {\n      padding: 1rem 2rem;\n\n      .title {\n        width: 60% !important;\n        height: 26px !important;\n        margin: 2rem auto !important;\n      }\n\n      .content {\n        margin-top: 3rem;\n        margin-bottom: 1rem;\n      }\n    }\n\n    .share-skeleton {\n      padding: $gap;\n      display: flex;\n      justify-content: space-between;\n\n      .item {\n        height: 3rem !important;\n        margin-right: $gap;\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n\n    .related-skeleton {\n      padding: $gap;\n      margin: 0;\n      display: grid;\n      grid-gap: $gap;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n\n      .item {\n        width: auto !important;\n        height: 8rem !important;\n      }\n    }\n  }\n</style>\n","<template>\n  <div ref=\"element\" class=\"detail\">\n    <transition name=\"module\">\n      <div\n        class=\"oirigin\"\n        :class=\"{\n          original: isOriginal,\n          reprint: isReprint,\n          hybrid: isHybrid\n        }\"\n      >\n        <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n        <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n        <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n      </div>\n    </transition>\n    <div class=\"knowledge\" key=\"knowledge\">\n      <div class=\"title\">\n        <h2 class=\"text\">{{ article.title }}</h2>\n        <div class=\"meta\">\n          <i class=\"iconfont icon-t\"></i>\n          <i18n>\n            <template #zh>\n              <span\n                >共 {{ articleDetailStore.contentLength }} 字，需阅读\n                {{ articleDetailStore.readMinutes }} 分钟</span\n              >\n            </template>\n            <template #en>\n              <span\n                >{{ articleDetailStore.contentLength }} words,\n                {{ articleDetailStore.readMinutes }} min read</span\n              >\n            </template>\n          </i18n>\n          <divider type=\"vertical\" class=\"vertical\" />\n          <span>\n            <i class=\"iconfont icon-clock-outline\"></i>\n            <udate to=\"YMDm\" :date=\"article.create_at\" separator=\"/\" />\n          </span>\n          <divider type=\"vertical\" class=\"vertical\" />\n          <span>\n            <i class=\"iconfont icon-eye\"></i>\n            <span>{{ article.meta.views }}&nbsp;</span>\n            <i18n :k=\"LanguageKey.ARTICLE_VIEWS\" />\n          </span>\n        </div>\n      </div>\n      <markdown\n        :id=\"ARTICLE_CONTENT_ELEMENT_IDS.default\"\n        :html=\"articleDetailStore.defaultContent?.html\"\n      />\n      <transition name=\"module\" mode=\"out-in\" @after-enter=\"handleRenderMoreAnimateDone\">\n        <div :id=\"readmoreId\" v-if=\"isRenderMoreEnabled\" class=\"readmore\">\n          <button class=\"readmore-btn\" :disabled=\"isRenderMoreContent\" @click=\"handleRenderMore\">\n            <i18n\n              :k=\"\n                isRenderMoreContent ? LanguageKey.ARTICLE_RENDERING : LanguageKey.ARTICLE_READ_ALL\n              \"\n            />\n            <i class=\"iconfont icon-loadmore\"></i>\n          </button>\n        </div>\n        <markdown\n          v-else-if=\"articleDetailStore.renderedFullContent\"\n          :id=\"ARTICLE_CONTENT_ELEMENT_IDS.more\"\n          :html=\"articleDetailStore.moreContent?.html\"\n        />\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, nextTick, onMounted, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { Article, useArticleDetailStore } from '/@/stores/article'\n  import { LOZAD_CLASS_NAME, LOADED_CLASS_NAME } from '/@/effects/lozad'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const ARTICLE_CONTENT_ELEMENT_IDS = {\n    default: 'article_content_default',\n    more: 'article_content_more'\n  }\n\n  export default defineComponent({\n    name: 'ArticleContent',\n    components: { Markdown },\n    props: {\n      article: {\n        type: Object as PropType<Article>,\n        required: true\n      },\n      readmoreId: {\n        type: String,\n        required: true\n      }\n    },\n    setup(props) {\n      const { i18n } = useEnhancer()\n      const articleDetailStore = useArticleDetailStore()\n      const isHybrid = computed(() => isHybridType(props.article.origin!))\n      const isReprint = computed(() => isReprintType(props.article.origin!))\n      const isOriginal = computed(() => isOriginalType(props.article.origin!))\n\n      const element = ref<HTMLElement>()\n      const isRenderMoreContent = ref(false)\n      const isRenderMoreEnabled = computed(() => {\n        return articleDetailStore.isLongContent && !articleDetailStore.renderedFullContent\n      })\n\n      const handleRenderMore = () => {\n        isRenderMoreContent.value = true\n        nextTick(() => {\n          setTimeout(() => {\n            articleDetailStore.renderFullContent()\n            isRenderMoreContent.value = false\n          }, 0)\n        })\n      }\n\n      const observeLozad = (elementID: string) => {\n        const contentElement = element.value?.querySelector(`#${elementID}`)\n        const lozadElements =\n          contentElement && contentElement.querySelectorAll(`.${LOZAD_CLASS_NAME}`)\n        if (lozadElements?.length) {\n          const lozadObserver = window.$lozad(lozadElements, {\n            loaded: (element) => element.classList.add(LOADED_CLASS_NAME)\n          })\n          lozadObserver.observe()\n        }\n      }\n\n      const handleRenderMoreAnimateDone = () => observeLozad(ARTICLE_CONTENT_ELEMENT_IDS.more)\n\n      onMounted(() => {\n        observeLozad(ARTICLE_CONTENT_ELEMENT_IDS.default)\n      })\n\n      return {\n        LanguageKey,\n        i18n,\n        element,\n        isHybrid,\n        isReprint,\n        isOriginal,\n        articleDetailStore,\n        isRenderMoreEnabled,\n        isRenderMoreContent,\n        ARTICLE_CONTENT_ELEMENT_IDS,\n        handleRenderMore,\n        handleRenderMoreAnimateDone\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .detail {\n    padding: 1rem 2rem;\n    position: relative;\n    overflow: hidden;\n    height: auto;\n    transition: height $transition-time-normal;\n\n    .oirigin {\n      position: absolute;\n      position: absolute;\n      top: 0.6rem;\n      left: -2.4rem;\n      transform: rotate(-45deg);\n      width: 8rem;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n      transform-origin: center;\n      color: $white;\n      font-weight: bold;\n      font-size: $font-size-small;\n      background-color: var(--color);\n      &.original {\n        --color: #{rgba($surmon, 0.7)};\n      }\n      &.hybrid {\n        --color: #{rgba($accent, 0.7)};\n      }\n      &.reprint {\n        --color: #{rgba($red, 0.7)};\n      }\n    }\n\n    .knowledge {\n      user-select: text;\n      position: relative;\n\n      .title {\n        margin: 1em 0 1.5em 0;\n        text-align: center;\n\n        .text {\n          font-weight: 700;\n          font-size: $font-size-h2 * 0.95;\n          margin-bottom: $gap;\n        }\n\n        .meta {\n          display: inline-block;\n          color: $text-disabled;\n          font-size: $font-size-small;\n          user-select: none;\n          line-height: 2;\n          .iconfont {\n            margin-right: $xs-gap;\n          }\n          .vertical {\n            top: -1px;\n          }\n        }\n      }\n\n      .readmore {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 18rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: linear-gradient(to top, $module-bg-hover, transparent);\n\n        .readmore-btn {\n          width: 80%;\n          height: 3rem;\n          margin-top: 2rem;\n          line-height: 3rem;\n          text-align: center;\n          color: $text-reversal;\n          background-color: $primary-lighter;\n          @include background-transition();\n          @include radius-box($xs-radius);\n\n          &[disabled] {\n            cursor: no-drop;\n          }\n\n          &:hover {\n            background-color: $primary;\n          }\n\n          .iconfont {\n            margin-left: $sm-gap;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"share-box\">\n    <base-share class=\"share\" :socials=\"socials\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import BaseShare, { SocialMedia } from '/@/components/widget/share.vue'\n\n  export default defineComponent({\n    name: 'ArticleLikeShare',\n    components: {\n      BaseShare\n    },\n    props: {\n      socials: {\n        type: Array as PropType<SocialMedia[]>,\n        default: () => []\n      }\n    },\n    setup(props) {\n      const skeletonCount = props.socials.length\n        ? props.socials.length\n        : Object.keys(SocialMedia).length\n\n      return {\n        skeletonCount,\n        VALUABLE_LINKS\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  $share-size: 3rem;\n\n  .share-box {\n    padding: $gap;\n\n    .share {\n      width: 100%;\n      opacity: 0.8;\n      display: flex;\n      justify-content: space-between;\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        flex-grow: 1;\n        width: auto;\n        height: $share-size;\n        line-height: $share-size;\n        margin-right: $gap;\n        font-size: $font-size-h4;\n        border-radius: $xs-radius;\n        background-color: $module-bg-darker-1;\n\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"meta\" :class=\"{ plain }\">\n    <div class=\"actions\">\n      <slot name=\"action\"></slot>\n    </div>\n    <div class=\"line\">\n      <i18n zh=\"本文于\" en=\"Published at\" />\n      <router-link\n        class=\"link date\"\n        :title=\"article.create_at\"\n        :to=\"getDateLink(article.create_at)\"\n      >\n        <udate to=\"YMDm\" :date=\"article.create_at\" separator=\"/\" />\n      </router-link>\n      <i18n zh=\"发布在\" en=\"in\" />\n      <span v-for=\"(category, index) in article.category\" :key=\"index\">\n        <router-link\n          class=\"link category\"\n          :title=\"`${firstUpperCase(category.slug)} | ${category.description}`\"\n          :to=\"getCategoryFlowRoute(category.slug)\"\n        >\n          <i18n :zh=\"category.name\" :en=\"firstUpperCase(category.slug)\" />\n        </router-link>\n        <span v-if=\"article.category[index + 1]\">\n          <i18n zh=\"、\" en=\",\" />\n        </span>\n      </span>\n      <span v-if=\"!article.category.length\">\n        <i18n zh=\"未知分类下\" en=\"(no catgory)\" />\n      </span>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" size=\"sm\" /></template>\n      <span v-for=\"(tag, index) in article.tag\" :key=\"index\">\n        <router-link\n          class=\"link tag\"\n          :title=\"`${tagEnName(tag)} | ${tag.description}`\"\n          :to=\"getTagFlowRoute(tag.slug)\"\n        >\n          <i18n :zh=\"`#${tag.name}`\" :en=\"`#${tagEnName(tag)}`\" />\n        </router-link>\n        <span v-if=\"article.tag[index + 1]\">\n          <i18n zh=\"、\" en=\",\" />\n        </span>\n      </span>\n    </div>\n    <div class=\"line\">\n      <i class=\"icon iconfont icon-copyright\"></i>\n      <i18n>\n        <template #zh>\n          <ulink\n            class=\"link copyright\"\n            href=\"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.zh\"\n            >自由转载 - 署名 - 非商业性使用</ulink\n          >\n        </template>\n        <template #en>\n          <ulink\n            class=\"link copyright\"\n            href=\"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.en\"\n            >Creative Commons BY-NC 3.0 CN</ulink\n          >\n        </template>\n      </i18n>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" /></template>\n      <span class=\"link permalink\" @click=\"copy(articleURL)\">\n        {{ articleURL }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { useArticleDetailStore, Article } from '/@/stores/article'\n  import { tagEnName } from '/@/stores/tag'\n  import { dateToYMD } from '/@/transforms/moment'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getPageURL } from '/@/transforms/url'\n  import {\n    getArticleDetailRoute,\n    getTagFlowRoute,\n    getCategoryFlowRoute,\n    getDateFlowRoute\n  } from '/@/transforms/route'\n  import { copy } from '/@/utils/clipboard'\n\n  export default defineComponent({\n    name: 'ArticleMeta',\n    props: {\n      article: {\n        type: Object as PropType<Article>,\n        required: true\n      },\n      plain: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props) {\n      const { i18n, gtag, globalState } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const articleDetailStore = useArticleDetailStore()\n      const isLiked = computed(() => universalStore.isLikedPage(props.article.id))\n      const articleURL = computed(() => getPageURL(getArticleDetailRoute(props.article.id)))\n      const likes = computed(() => props.article.meta.likes)\n\n      const handleOpenSponsor = () => {\n        globalState.toggleSwitcher('sponsor', true)\n        gtag?.event('article_sponsor', {\n          event_category: GAEventCategories.Article\n        })\n      }\n\n      const handleLike = async () => {\n        if (isLiked.value) {\n          return false\n        }\n\n        gtag?.event('article_like', {\n          event_category: GAEventCategories.Article\n        })\n\n        try {\n          await articleDetailStore.postArticleLike(props.article.id)\n          universalStore.likePage(props.article.id)\n        } catch (error) {\n          const message = i18n.t(LanguageKey.POST_ACTION_ERROR)\n          console.warn(message, error)\n          alert(message)\n        }\n      }\n\n      const getDateLink = (date: string) => {\n        return getDateFlowRoute(dateToYMD(new Date(date)))\n      }\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        articleURL,\n        likes,\n        copy,\n        isLiked,\n        tagEnName,\n        firstUpperCase,\n        handleLike,\n        handleOpenSponsor,\n        getDateLink,\n        getTagFlowRoute,\n        getCategoryFlowRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .meta {\n    position: relative;\n    padding: 2rem;\n    text-align: center;\n    &.plain {\n      .line {\n        height: auto;\n        line-height: 2;\n      }\n    }\n\n    .actions {\n      margin-top: $sm-gap;\n      margin-bottom: 2rem;\n    }\n\n    .line {\n      $size: 2rem;\n      height: $size;\n      line-height: $size;\n      margin-bottom: $lg-gap;\n      font-weight: bold;\n      color: $text-secondary;\n      &:last-child {\n        margin: 0;\n      }\n\n      .icon {\n        font-weight: normal;\n        font-size: $font-size-small;\n        margin-right: $xs-gap;\n      }\n\n      .link {\n        border-bottom: 1px solid transparent;\n        &:hover {\n          text-decoration: none;\n          border-color: initial;\n        }\n\n        &.date,\n        &.category,\n        &.tag {\n          margin: 0 $xs-gap;\n          color: $text;\n          &:hover {\n            color: $link-hover;\n          }\n        }\n\n        &.date {\n          text-transform: uppercase;\n        }\n\n        &.copyright,\n        &.permalink {\n          color: $text-secondary;\n          &:hover {\n            color: $text;\n          }\n        }\n\n        &.permalink {\n          border-bottom: 1px solid;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"upvote\">\n    <div class=\"wrapper\">\n      <button\n        class=\"button like\"\n        :class=\"{ liked: isLiked, parkinson: enabledParkinson, newliked: newliked }\"\n        :disabled=\"isLiked\"\n        @click=\"handleLike\"\n      >\n        <i class=\"icon iconfont icon-like\"></i>\n        <span class=\"text\">\n          <i18n>\n            <template #zh>真棒！{{ likes }}</template>\n            <template #en>{{ isLiked ? 'Upvoted' : 'Upvote' }} {{ likes }}</template>\n          </i18n>\n        </span>\n        <template v-if=\"enabledParkinson\">\n          <span class=\"parkinson-mask\">\n            <i class=\"iconfont\" :class=\"newliked ? 'icon-like' : 'icon-like-pre'\"></i>\n          </span>\n          <div class=\"parkinson-likes\">+ 1</div>\n        </template>\n      </button>\n      <button v-if=\"!hiddenSponsor\" class=\"button sponsor\" @click=\"handleSponsor\">\n        <i class=\"icon iconfont icon-heart\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n\n  enum ArticleUpvoteEvents {\n    Like = 'like',\n    Sponsor = 'sponsor'\n  }\n\n  export default defineComponent({\n    name: 'ArticleUpvote',\n    props: {\n      likes: {\n        type: Number,\n        required: true\n      },\n      isLiked: {\n        type: Boolean,\n        required: true\n      },\n      hiddenSponsor: {\n        type: Boolean,\n        default: false\n      },\n      enabledParkinson: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [ArticleUpvoteEvents.Like, ArticleUpvoteEvents.Sponsor],\n    setup(props, context) {\n      const handleSponsor = () => {\n        context.emit(ArticleUpvoteEvents.Sponsor)\n      }\n\n      const newliked = ref(false)\n      const handleLiked = () => {\n        newliked.value = true\n      }\n\n      const handleLike = () => {\n        if (!props.isLiked) {\n          context.emit(ArticleUpvoteEvents.Like, handleLiked)\n        }\n      }\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        handleLike,\n        handleSponsor,\n        newliked\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .upvote {\n    display: flex;\n    justify-content: center;\n    $button-size: 3rem;\n    $button-radius: $sm-radius;\n    $like-icon-size: $font-size-h2;\n    /* https://github.com/ant-design/ant-design/blob/master/components/style/themes/variable.less#L121 */\n    $lighter-red: mix($white, $red, 10%);\n\n    .wrapper {\n      position: relative;\n\n      .button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: $button-size;\n        line-height: $button-size;\n        padding: 0 $gap;\n        border-width: 1px 0;\n        border-color: $lighter-red;\n        color: $lighter-red;\n        transition: background-color $transition-time-fast, color $transition-time-fast;\n        &[disabled] {\n          color: $white;\n          background-color: $lighter-red;\n          &:not(.newliked) {\n            opacity: 0.8;\n          }\n        }\n        &:not([disabled]):not(.parkinson):hover {\n          color: $white;\n          background-color: $lighter-red;\n        }\n        &:first-of-type {\n          border-left-width: 1px;\n          border-top-left-radius: $button-radius;\n          border-bottom-left-radius: $button-radius;\n        }\n        &:last-of-type {\n          border-right-width: 1px;\n          border-top-right-radius: $button-radius;\n          border-bottom-right-radius: $button-radius;\n        }\n        & + button {\n          border-left-width: 1px;\n        }\n\n        &.sponsor {\n          font-size: $font-size-h4;\n        }\n        &.like {\n          min-width: 8rem;\n          .icon {\n            font-size: $like-icon-size;\n          }\n          .text {\n            margin-left: $sm-gap;\n            font-weight: bold;\n          }\n        }\n      }\n\n      .button.like.parkinson {\n        .parkinson-mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          line-height: $button-size;\n          padding: 0 $gap;\n          border-radius: $button-radius;\n          font-size: $like-icon-size + 1;\n          background-color: $red;\n          color: $white;\n          @include hidden();\n        }\n\n        .parkinson-likes {\n          position: absolute;\n          bottom: 0;\n          left: 10%;\n          color: $red;\n          font-size: 100px;\n          font-weight: bold;\n          transition: all $transition-time-normal;\n          @include hidden();\n        }\n\n        &:not([disabled]):hover,\n        &.newliked {\n          /* parkinson animate */\n          .parkinson-mask {\n            transition: opacity $transition-time-normal, visibility $transition-time-normal;\n            transition-delay: $transition-time-fast;\n            @include visible();\n            @keyframes pre-like-icon {\n              0% {\n                transform: rotate(6deg) translateY(-2px) translateX(-40%);\n              }\n              20% {\n                transform: rotate(8deg) translateY(0px) translateX(-43%);\n              }\n              40% {\n                transform: rotate(8deg) translateY(-3px) translateX(-48%);\n              }\n              60% {\n                transform: rotate(6deg) translateY(0px) translateX(-43%);\n              }\n              80% {\n                transform: rotate(10deg) translateY(2px) translateX(-50%);\n              }\n              100% {\n                transform: rotate(6deg) translateY(-2px) translateX(-42%);\n              }\n            }\n            .iconfont {\n              transition: transform $transition-time-normal, margin $transition-time-normal;\n              transition-delay: $transition-time-normal * 2;\n              transform: rotate(6deg) translateY(-2px) translateX(-50%);\n              animation: pre-like-icon 0.2s infinite;\n              animation-delay: $transition-time-normal * 3;\n              margin-left: 50%;\n            }\n          }\n\n          /* liked animate */\n          &.newliked {\n            .parkinson-mask {\n              transition-delay: 1s;\n              @include hidden();\n              /* icon animate */\n              @keyframes liked-icon {\n                0% {\n                  transform: rotate(0deg) translateX(-50%);\n                }\n                40% {\n                  transform: rotate(-5deg) translateX(-50%) translateY(-10%);\n                }\n                50% {\n                  transform: rotate(-8deg) translateX(-50%) translateY(-66%) scale(1.6);\n                }\n                70%,\n                80% {\n                  transform: rotate(0deg) translateX(-50%) translateY(-66%) scale(1.3);\n                  margin-left: 50%;\n                }\n                85% {\n                  transform: rotate(0deg) translateX(-50%) translateY(0);\n                  margin-left: 50%;\n                }\n                100% {\n                  transform: rotate(0deg) translateX(0%);\n                  margin-left: 0;\n                }\n              }\n              .iconfont {\n                text-stroke: 1px $red;\n                -webkit-text-stroke: 1px $red;\n                transform-origin: left center;\n                transform: rotate(0deg) translateX(-50%);\n                animation: liked-icon 1s forwards;\n              }\n            }\n            /* likes animate */\n            @keyframes likes-count {\n              0% {\n                opacity: 0;\n                transform: scale(1);\n              }\n              20% {\n                @include visible();\n                bottom: 100px;\n                transform: scale(1);\n              }\n              100% {\n                opacity: 0;\n                bottom: 120px;\n                transform: scale(0.8);\n              }\n            }\n            .parkinson-likes {\n              animation: likes-count 0.5s forwards;\n              animation-delay: 0.5s;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"related\">\n    <ul class=\"articles\" :style=\"{ gridTemplateColumns: `repeat(${columns}, 1fr)` }\">\n      <li\n        v-for=\"(article, index) in articleList\"\n        :class=\"{ disabled: !article.id }\"\n        :key=\"index\"\n        class=\"item\"\n      >\n        <router-link\n          class=\"item-article\"\n          :title=\"article.title\"\n          :to=\"getArticleDetailRoute(article.id)\"\n        >\n          <div\n            class=\"thumb\"\n            :style=\"{\n              backgroundImage: `url(${getMobileArticleListThumbnailURL(article.thumb)})`\n            }\"\n          ></div>\n          <div class=\"title\">{{ article.title }}</div>\n          <div class=\"description\">{{ article.description }}</div>\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, PropType } from 'vue'\n  import { Article } from '/@/stores/article'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getMobileArticleListThumbnailURL } from '/@/transforms/thumbnail'\n\n  export default defineComponent({\n    name: 'ArticleRelated',\n    props: {\n      articles: {\n        type: Array as PropType<Article[]>,\n        default: () => []\n      },\n      columns: {\n        type: Number,\n        default: 4\n      },\n      count: {\n        type: Number,\n        default: 8\n      }\n    },\n    setup(props) {\n      const articleList = computed<Article[]>(() => {\n        const articles = [...props.articles].slice(0, props.count)\n        if (articles.length >= props.count) {\n          return articles\n        }\n        return [\n          ...articles,\n          ...new Array(props.count - articles.length).fill({\n            title: '',\n            id: null,\n            _id: '',\n            thumb: ''\n          })\n        ]\n      })\n\n      return {\n        articleList,\n        getArticleDetailRoute,\n        getMobileArticleListThumbnailURL\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .related {\n    overflow: hidden;\n\n    .articles {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap;\n      width: 100%;\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        width: auto;\n        @include common-bg-module();\n        @include radius-box($sm-radius);\n\n        &.disabled {\n          pointer-events: none;\n          opacity: 0.6;\n        }\n\n        .item-article {\n          display: block;\n          position: relative;\n          overflow: hidden;\n\n          .thumb {\n            position: relative;\n            opacity: 0.88;\n            width: 100%;\n            height: 7rem;\n            background-color: $module-bg-darker-2;\n            background-size: cover;\n            background-position: 50% 46%;\n            transition: all $transition-time-fast;\n            display: flex;\n            flex-direction: column;\n            justify-content: end;\n\n            &::before {\n              content: '';\n              position: absolute;\n              background: linear-gradient(\n                to top,\n                rgba($black, 0.2) 20%,\n                rgba($black, 0.1) 50%,\n                transparent 90%\n              );\n              width: 100%;\n              height: 100%;\n              top: 0;\n              left: 0;\n            }\n          }\n\n          .title,\n          .description {\n            display: block;\n            width: 100%;\n            padding: 0 $sm-gap;\n            transition: color $transition-time-fast;\n            @include text-overflow();\n          }\n\n          .title {\n            font-size: $font-size-h6;\n            margin-top: $sm-gap;\n            margin-bottom: $xs-gap;\n            font-weight: bold;\n            color: $text;\n          }\n\n          .description {\n            margin-bottom: $sm-gap;\n            font-size: $font-size-small;\n            color: $text-disabled;\n          }\n\n          &:hover {\n            .thumb {\n              opacity: 1;\n              background-position: 50% 50%;\n            }\n\n            .title {\n              color: $link-color;\n            }\n            .description {\n              color: $text-secondary;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"neighbour\">\n    <div class=\"item-article prev\" :class=\"{ disabled: !prev }\">\n      <router-link\n        v-if=\"prev\"\n        class=\"link\"\n        :title=\"prev.title\"\n        :to=\"getArticleDetailRoute(prev.id)\"\n      >\n        <div class=\"icon\">\n          <i class=\"iconfont icon-prev\"></i>\n        </div>\n        <div class=\"content\">\n          <p class=\"title\">{{ prev.title }}</p>\n          <p class=\"description\">{{ prev.description }}</p>\n        </div>\n      </router-link>\n      <div v-else class=\"nomore\">\n        <i18n zh=\"已是最早\" en=\"NULL\" />\n      </div>\n    </div>\n    <div class=\"item-article next\" :class=\"{ disabled: !next }\">\n      <router-link\n        v-if=\"next\"\n        class=\"link\"\n        :title=\"next.title\"\n        :to=\"getArticleDetailRoute(next.id)\"\n      >\n        <div class=\"content\">\n          <p class=\"title\">{{ next.title }}</p>\n          <p class=\"description\">{{ next.description }}</p>\n        </div>\n        <div class=\"icon\">\n          <i class=\"iconfont icon-next\"></i>\n        </div>\n      </router-link>\n      <div v-else class=\"nomore\">\n        <i18n zh=\"无有更多\" en=\"NULL\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { Article } from '/@/stores/article'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n\n  export default defineComponent({\n    name: 'ArticleNeighbour',\n    props: {\n      prev: Object as PropType<Article | null>,\n      next: Object as PropType<Article | null>\n    },\n    setup() {\n      return {\n        getArticleDetailRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .neighbour {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: $gap;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    overflow: hidden;\n\n    .item-article {\n      display: block;\n      position: relative;\n      overflow: hidden;\n      @include common-bg-module();\n      @include radius-box($sm-radius);\n      &.disabled {\n        opacity: 0.7;\n        pointer-events: none;\n      }\n      &.prev {\n        .link {\n          justify-content: flex-start;\n        }\n      }\n      &.next {\n        .link {\n          justify-content: space-between;\n        }\n      }\n\n      .link {\n        display: flex;\n        width: 100%;\n        height: 100%;\n\n        &:hover {\n          .icon {\n            color: $text;\n          }\n          .content {\n            .title {\n              color: $link-color;\n            }\n            .description {\n              color: $text-secondary;\n            }\n          }\n        }\n\n        .icon {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 3rem;\n          height: 100%;\n          color: $text-secondary;\n          background-color: $module-bg-lighter;\n          transition: all $transition-time-fast;\n        }\n\n        .content {\n          width: calc(100% - 3rem);\n          padding: $sm-gap $gap;\n\n          .title,\n          .description {\n            display: block;\n            width: 100%;\n            transition: color $transition-time-fast;\n            @include text-overflow();\n          }\n\n          .title {\n            font-size: $font-size-h6;\n            margin-top: 0;\n            margin-bottom: $xs-gap;\n            font-weight: bold;\n            color: $text;\n          }\n\n          .description {\n            margin-bottom: 0;\n            font-size: $font-size-small;\n            color: $text-disabled;\n          }\n        }\n      }\n\n      .nomore {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n        color: $text-disabled;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"article-page\">\n    <placeholder :loading=\"fetching\">\n      <template #loading>\n        <article-skeleton :social-count=\"isMobile ? 3 : 8\" :related-count=\"isMobile ? 2 : 3\" />\n      </template>\n      <template #default>\n        <div v-if=\"article\">\n          <div class=\"module margin background overflow\">\n            <article-content\n              :id=\"ANCHORS.ARTICLE_CONTENT_ELEMENT_ID\"\n              :readmore-id=\"ANCHORS.ARTICLE_READMORE_ELEMENT_ID\"\n              :article=\"article\"\n            />\n            <div class=\"divider\"></div>\n            <article-meta\n              :id=\"ANCHORS.ARTICLE_META_ELEMENT_ID\"\n              :article=\"article\"\n              :plain=\"isMobile\"\n            >\n              <template #action>\n                <article-upvote\n                  :likes=\"article.meta.likes\"\n                  :is-liked=\"isLiked\"\n                  :hidden-sponsor=\"isMobile\"\n                  :enabled-parkinson=\"!isMobile && (userAgent.isChrome || userAgent.isFirefox)\"\n                  @like=\"handleLike\"\n                  @sponsor=\"handleSponsor\"\n                />\n              </template>\n            </article-meta>\n          </div>\n          <div class=\"module margin background\">\n            <div class=\"bridge left\"></div>\n            <div class=\"bridge right\"></div>\n            <article-share\n              :id=\"ANCHORS.ARTICLE_SHARE_ELEMENT_ID\"\n              :article-id=\"articleId\"\n              :likes=\"article?.meta?.likes || 0\"\n              :socials=\"\n                isMobile ? [SocialMedia.Wechat, SocialMedia.Weibo, SocialMedia.Twitter] : []\n              \"\n            />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-neighbour :prev=\"store.prevArticle\" :next=\"store.nextArticle\" />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-related\n              :id=\"ANCHORS.ARTICLE_RELATED_ELEMENT_ID\"\n              :columns=\"isMobile ? 2 : 3\"\n              :count=\"isMobile ? 4 : 6\"\n              :articles=\"store.relatedArticles\"\n            />\n          </div>\n        </div>\n      </template>\n    </placeholder>\n    <div class=\"comment\">\n      <comment :plain=\"isMobile\" :fetching=\"fetching\" :post-id=\"articleId\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, watch, onBeforeMount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { useArticleDetailStore } from '/@/stores/article'\n  import { useCommentStore } from '/@/stores/comment'\n  import * as ANCHORS from '/@/constants/anchor'\n  import { UNDEFINED } from '/@/constants/value'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { SocialMedia } from '/@/components/widget/share.vue'\n  import Comment from '/@/components/comment/index.vue'\n  import ArticleSkeleton from './skeleton.vue'\n  import ArticleContent from './content.vue'\n  import ArticleShare from './share.vue'\n  import ArticleMeta from './meta.vue'\n  import ArticleUpvote from './upvote.vue'\n  import ArticleRelated from './related.vue'\n  import ArticleNeighbour from './neighbour.vue'\n\n  export default defineComponent({\n    name: 'ArticleDetail',\n    components: {\n      Comment,\n      ArticleSkeleton,\n      ArticleContent,\n      ArticleShare,\n      ArticleMeta,\n      ArticleUpvote,\n      ArticleRelated,\n      ArticleNeighbour\n    },\n    props: {\n      articleId: {\n        type: Number,\n        required: true\n      },\n      isMobile: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props) {\n      const { i18n, meta, gtag, globalState } = useEnhancer()\n      const universalStore = useUniversalStore()\n      const commentStore = useCommentStore()\n      const articleDetailStore = useArticleDetailStore()\n      const article = computed(() => articleDetailStore.article || UNDEFINED)\n      const fetching = computed(() => articleDetailStore.fetching)\n      const isLiked = computed(() =>\n        Boolean(article.value && universalStore.isLikedPage(article.value.id))\n      )\n\n      const handleSponsor = () => {\n        globalState.toggleSwitcher('sponsor', true)\n        gtag?.event('article_sponsor', {\n          event_category: GAEventCategories.Article\n        })\n      }\n\n      const handleLike = async (callback) => {\n        if (isLiked.value) {\n          return false\n        }\n\n        gtag?.event('article_like', {\n          event_category: GAEventCategories.Article\n        })\n        try {\n          await articleDetailStore.postArticleLike(article.value!.id)\n          universalStore.likePage(article.value!.id)\n          callback?.()\n        } catch (error) {\n          const message = i18n.t(LanguageKey.POST_ACTION_ERROR)\n          console.warn(message, error)\n          alert(message)\n        }\n      }\n\n      meta(() => ({\n        pageTitle: article.value?.title,\n        description: article.value?.description || '',\n        keywords: article.value?.keywords?.join(',') || article.value?.title\n      }))\n\n      const fetchArticleDetail = (articleID: number) => {\n        return Promise.all([\n          articleDetailStore.fetchCompleteArticle({ articleID }),\n          commentStore.fetchList({ post_id: articleID })\n        ])\n      }\n\n      onBeforeMount(() => {\n        watch(\n          () => props.articleId,\n          (articleId) => fetchArticleDetail(articleId),\n          { flush: 'post' }\n        )\n      })\n\n      useUniversalFetch(() => fetchArticleDetail(props.articleId))\n\n      return {\n        ANCHORS,\n        SocialMedia,\n        userAgent: globalState.userAgent,\n        store: articleDetailStore,\n        article,\n        fetching,\n        isLiked,\n        handleLike,\n        handleSponsor\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .article-page {\n    .module {\n      position: relative;\n\n      &.margin {\n        margin-bottom: $lg-gap;\n      }\n\n      &.background {\n        border-radius: $sm-radius;\n        @include common-bg-module();\n      }\n\n      &.overflow {\n        overflow: hidden;\n      }\n\n      .divider {\n        border-top: 2px solid $module-bg-darker-1;\n      }\n\n      .bridge {\n        $distance: 3rem;\n        position: absolute;\n        top: -$lg-gap;\n        width: $lg-gap;\n        height: $lg-gap;\n        background: linear-gradient(to bottom, $module-bg, $module-bg-darker-1);\n        &.left {\n          left: $distance;\n        }\n        &.right {\n          right: $distance;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div\n    class=\"banner\"\n    :class=\"{ dark: isDarkTheme, mobile: isMobile }\"\n    :style=\"{ backgroundImage: `url(${imageURL})`, backgroundPositionY: `${position}%` }\"\n  >\n    <div class=\"content\" :class=\"{ blur }\">\n      <h2 class=\"title\">\n        <slot name=\"title\"></slot>\n      </h2>\n      <div class=\"description\">\n        <slot name=\"description\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { getTargetCDNURL } from '/@/transforms/url'\n  import { useEnhancer } from '/@/app/enhancer'\n\n  export default defineComponent({\n    name: 'FullPageBanner',\n    props: {\n      position: {\n        type: Number,\n        default: 20\n      },\n      image: {\n        type: String,\n        required: true\n      },\n      blur: {\n        type: Boolean,\n        default: true\n      },\n      isMobile: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup(props) {\n      const { isDarkTheme } = useEnhancer()\n      return {\n        isDarkTheme,\n        imageURL: getTargetCDNURL(props.image)\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .banner {\n    height: $full-column-page-banner-height;\n    background-color: $module-bg-darker-1;\n    background-size: cover;\n    background-position-x: center;\n    &.dark {\n      /* background-blend-mode: difference; */\n    }\n    .content {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      color: $white;\n      &.blur {\n        @include backdrop-blur(3px);\n      }\n\n      .title {\n        font-size: 3em;\n        margin-top: 0;\n        margin-bottom: $lg-gap * 2;\n      }\n\n      .description {\n        font-size: $font-size-h4;\n      }\n    }\n\n    &.mobile {\n      height: $mobile-banner-height;\n      margin-top: -$lg-gap;\n      margin-left: -$gap;\n      margin-right: -$gap;\n\n      .title {\n        font-size: 2em;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"title\" :class=\"`heading-${level}`\">\n    <div class=\"left\">\n      <slot name=\"left\"></slot>\n    </div>\n    <div class=\"center\">\n      <slot></slot>\n    </div>\n    <div class=\"right\">\n      <slot name=\"right\"></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n\n  export default defineComponent({\n    name: 'FullPageTitle',\n    props: {\n      level: {\n        type: Number,\n        default: 3\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .title {\n    margin: ($gap * 2) 0;\n    height: 5rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 2rem;\n    text-transform: uppercase;\n    letter-spacing: 5px;\n    color: $text;\n    @include radius-box($xs-radius);\n    &.heading-1 {\n      font-size: $font-size-h1;\n    }\n    &.heading-2 {\n      font-size: $font-size-h2;\n    }\n    &.heading-3 {\n      font-size: $font-size-h3;\n    }\n    &.heading-4 {\n      font-size: $font-size-h4;\n    }\n\n    .left,\n    .right,\n    .center {\n      display: inline-flex;\n      align-items: center;\n    }\n\n    .center {\n      font-weight: bold;\n    }\n  }\n</style>\n","<template>\n  <div class=\"archive-page\" :class=\"{ mobile: isMobile }\">\n    <page-banner\n      :blur=\"false\"\n      :position=\"75\"\n      :is-mobile=\"isMobile\"\n      image=\"/images/page-archive/banner.jpg\"\n    >\n      <template #title>\n        <i18n zh=\"万物之中，希望至美\" en=\"Hope is a good thing\" />\n      </template>\n      <template #description>\n        <i18n zh=\"至美之物，永不凋零\" en=\"Maybe the best of things and no good thing ever dies\" />\n      </template>\n    </page-banner>\n    <div class=\"container\">\n      <div class=\"archive-content\">\n        <placeholder\n          :data=\"archiveStore.archive?.articles.length && archiveStore.archive?.tags.length\"\n          :loading=\"isFetching\"\n        >\n          <template #placeholder>\n            <empty class=\"archive-empty\" key=\"empty\">\n              <i18n :k=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n            </empty>\n          </template>\n          <template #loading>\n            <ul class=\"archive-skeleton\" key=\"skeleton\">\n              <li v-for=\"item in 4\" :key=\"item\" class=\"item\">\n                <div class=\"content\">\n                  <div class=\"title\">\n                    <skeleton-line />\n                  </div>\n                  <div class=\"description\">\n                    <skeleton-paragraph :lines=\"6\" />\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </template>\n          <template #default>\n            <div class=\"content-warpper\" key=\"content\">\n              <page-title class=\"root-title\" :level=\"1\" v-if=\"archiveStore.statistic\">\n                <span class=\"text\">\n                  <i18n zh=\"万象星盘\" en=\"Statistic\" />\n                </span>\n              </page-title>\n              <div class=\"statistic\" v-if=\"archiveStore.statistic\">\n                <div class=\"item\" :key=\"index\" v-for=\"(s, index) in statistics\">\n                  <p class=\"title\">\n                    <i class=\"iconfont\" :class=\"s.icon\" v-if=\"!isMobile\"></i>\n                    <span class=\"text\">{{ s.title }}</span>\n                  </p>\n                  <span class=\"content\">{{ s.content }}</span>\n                </div>\n              </div>\n              <ul class=\"year-list\">\n                <li v-for=\"node in articleTree\" :key=\"node.year\" class=\"year-item\">\n                  <page-title class=\"root-title\" :level=\"1\">\n                    <span class=\"text\">\n                      <i18n :zh=\"numberToChinese(node.year)\" :en=\"node.year\" />\n                    </span>\n                  </page-title>\n                  <ul class=\"month-list\">\n                    <li v-for=\"mn in node.months\" :key=\"mn.month\" class=\"month\">\n                      <h4 class=\"month-title\">\n                        <span class=\"text\">\n                          <i18n v-bind=\"getMonthNameI18n(mn.month)\" />\n                        </span>\n                      </h4>\n                      <ul class=\"article-list\">\n                        <li v-for=\"(article, index) in mn.articles\" :key=\"index\" class=\"article\">\n                          <div class=\"left\">\n                            <h4 class=\"article-title\">\n                              <span class=\"date\"> D{{ article.createAt.day }} </span>\n                              <a\n                                class=\"link\"\n                                target=\"_blank\"\n                                :title=\"article.title\"\n                                :href=\"getArticleDetailRoute(article.id)\"\n                              >\n                                {{ article.title }}\n                              </a>\n                            </h4>\n                            <p class=\"description\" v-html=\"article.description\" />\n                          </div>\n                          <div class=\"metas\" v-if=\"!isMobile\">\n                            <span class=\"item views\">\n                              <i class=\"iconfont icon-eye\"></i>\n                              <span>{{ article.meta.views }}</span>\n                            </span>\n                            <divider type=\"vertical\" />\n                            <span class=\"item likes\">\n                              <i class=\"like-icon iconfont icon-like\"></i>\n                              <span>{{ article.meta.likes }}</span>\n                            </span>\n                            <divider type=\"vertical\" />\n                            <span class=\"item comments\">\n                              <i class=\"iconfont icon-comment\"></i>\n                              <span>{{ article.meta.comments }}</span>\n                            </span>\n                          </div>\n                        </li>\n                      </ul>\n                    </li>\n                  </ul>\n                </li>\n              </ul>\n            </div>\n          </template>\n        </placeholder>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { META } from '/@/config/app.config'\n  import { Language, LanguageKey } from '/@/language'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArchiveStore } from '/@/stores/archive'\n  import { I18nLanguageMap } from '/@/composables/i18n'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { numberToChinese, firstUpperCase, numberToKilo, numberSplit } from '/@/transforms/text'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n  import PageTitle from '/@/components/common/fullpage/title.vue'\n\n  export default defineComponent({\n    name: 'ArchivePage',\n    components: {\n      PageBanner,\n      PageTitle\n    },\n    props: {\n      isMobile: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup() {\n      const { i18n, meta, isZhLang } = useEnhancer()\n      const archiveStore = useArchiveStore()\n      const articleTree = computed(() => archiveStore.tree)\n      const isFetching = computed(() => archiveStore.fetching)\n      const statistics = computed(() => [\n        {\n          title: 'Articles',\n          content: numberSplit(archiveStore.statistic?.articles || 0),\n          icon: 'icon-quill'\n        },\n        {\n          title: 'Total upvotes',\n          content: numberSplit(archiveStore.statistic?.totalLikes || 0),\n          icon: 'icon-heart'\n        },\n        {\n          title: 'Today Views · Total',\n          content: `${archiveStore.statistic?.todayViews} · ${numberToKilo(\n            archiveStore.statistic?.totalViews || 0\n          )}`,\n          icon: 'icon-eye'\n        },\n        {\n          title: 'Comments',\n          content: numberSplit(archiveStore.statistic?.comments || 0),\n          icon: 'icon-comment'\n        },\n        {\n          title: 'Tags',\n          content: archiveStore.statistic?.tags,\n          icon: 'icon-tag'\n        }\n      ])\n\n      const monthNameI18ns: Array<I18nLanguageMap<Language>> = [\n        {\n          [Language.Chinese]: '首阳',\n          [Language.English]: 'January'\n        },\n        {\n          [Language.Chinese]: '绀香',\n          [Language.English]: 'February'\n        },\n        {\n          [Language.Chinese]: '莺时',\n          [Language.English]: 'March'\n        },\n        {\n          [Language.Chinese]: '槐序',\n          [Language.English]: 'April'\n        },\n        {\n          [Language.Chinese]: '鸣蜩',\n          [Language.English]: 'May'\n        },\n        {\n          [Language.Chinese]: '季夏',\n          [Language.English]: 'June'\n        },\n        {\n          [Language.Chinese]: '兰秋',\n          [Language.English]: 'July'\n        },\n        {\n          [Language.Chinese]: '南宫',\n          [Language.English]: 'August'\n        },\n        {\n          [Language.Chinese]: '菊月',\n          [Language.English]: 'September'\n        },\n        {\n          [Language.Chinese]: '子春',\n          [Language.English]: 'October'\n        },\n        {\n          [Language.Chinese]: '葭月',\n          [Language.English]: 'November'\n        },\n        {\n          [Language.Chinese]: '季冬',\n          [Language.English]: 'December'\n        }\n      ]\n\n      const getMonthNameI18n = (number: number) => {\n        return monthNameI18ns[number - 1]\n      }\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_ARCHIVE, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_ARCHIVE), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `${META.title} 数据归档` }\n      })\n\n      useUniversalFetch(() =>\n        Promise.all([archiveStore.fetchArchive(), archiveStore.fetchStatistic()])\n      )\n\n      return {\n        LanguageKey,\n        numberToChinese,\n        getArticleDetailRoute,\n        getMonthNameI18n,\n        statistics,\n        archiveStore,\n        articleTree,\n        isFetching\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .archive-page {\n    &.mobile {\n      .statistic {\n        flex-wrap: wrap;\n        margin-bottom: 2rem !important;\n\n        .item {\n          width: 100%;\n          margin-bottom: $gap;\n          align-items: center;\n        }\n      }\n    }\n\n    .archive-content {\n      margin-top: 2rem;\n      margin-bottom: 3rem;\n      min-height: $normal-page-active-content-height;\n\n      .archive-empty {\n        @include radius-box($lg-radius);\n        height: $normal-page-active-content-height;\n        font-size: $font-size-h1;\n        font-weight: bold;\n      }\n\n      .archive-skeleton {\n        list-style: none;\n        padding: 3rem;\n        background-color: $module-bg;\n        @include radius-box($lg-radius);\n\n        .item {\n          width: 100%;\n          margin-bottom: 2rem;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .content {\n            .title {\n              width: 8rem;\n              height: 2rem;\n              margin-bottom: $gap;\n            }\n          }\n        }\n      }\n\n      .content-warpper {\n        font-size: 1em;\n\n        .statistic {\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n          margin-top: 3rem;\n          margin-bottom: 4rem;\n\n          .item {\n            display: inline-flex;\n            flex-direction: column;\n\n            .title {\n              text-transform: uppercase;\n              margin-bottom: 0;\n              color: $text-disabled;\n\n              .iconfont {\n                margin-right: $xs-gap;\n                color: $text-divider;\n              }\n            }\n\n            .content {\n              font-size: $font-size-h1 * 1.4;\n              font-weight: bold;\n            }\n          }\n        }\n\n        .year-item {\n          margin: 0;\n          overflow: hidden;\n        }\n\n        .root-title {\n          .text {\n            padding-bottom: $xs-gap;\n            border-bottom: 1px solid;\n          }\n        }\n\n        .year-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n\n        .month-list {\n          padding-left: 2em;\n          list-style: circle;\n\n          .month-title {\n            .text {\n              color: $text-disabled;\n            }\n          }\n        }\n\n        .article-list {\n          list-style: none;\n          padding-left: $gap;\n\n          .article {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: $gap;\n            padding-left: $gap * 2;\n            margin-bottom: $xs-gap;\n            border-left: 4px dotted $text-divider;\n\n            .left {\n              .article-title {\n                margin: $gap 0;\n\n                .date {\n                  display: inline-block;\n                  width: 2rem;\n                  margin-right: $sm-gap;\n                  font-size: $font-size-h5;\n                  color: $text-disabled;\n                }\n\n                .link {\n                  padding-bottom: $xs-gap;\n                  border-bottom: 1px solid $text-secondary;\n                }\n              }\n\n              .description {\n                margin-bottom: $gap;\n                padding-left: 2.2em;\n              }\n            }\n\n            .metas {\n              z-index: 1;\n              margin-left: 2rem;\n              display: inline-flex;\n              flex-shrink: 0;\n              align-items: center;\n              font-size: $font-size-h4;\n              color: $text-disabled;\n\n              .item {\n                width: 6rem;\n                text-align: center;\n\n                .iconfont {\n                  margin-right: $sm-gap;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","import { useEnhancer } from '/@/app/enhancer'\nimport { Language, LanguageKey } from '/@/language'\nimport { I18nLanguageMap } from '/@/composables/i18n'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { getDefaultAvatar } from '/@/transforms/avatar'\nimport { META } from '/@/config/app.config'\n\nexport const getAdminAvatar = (avatar?: string) => {\n  return avatar || getDefaultAvatar()\n}\n\nexport interface AboutI18nConfig {\n  [Language.Chinese]: string\n  [Language.English]: string\n}\n\nexport const i18ns: { [key: string]: I18nLanguageMap<Language> } = {\n  biography: {\n    [Language.Chinese]: `本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中`,\n    [Language.English]: `Either write something worth reading, Do something worth writing.`\n  },\n  roadmap: {\n    [Language.Chinese]: `路为纸，地成册，行作笔，心当墨；思无界，行有疆`,\n    [Language.English]: `Every path I went astray built up my Rome.`\n  },\n  findJob: {\n    [Language.Chinese]: `找我内推`,\n    [Language.English]: `Find job`\n  },\n  hireMe: {\n    [Language.Chinese]: `与我合作`,\n    [Language.English]: `Hire me`\n  },\n  myArchive: {\n    [Language.Chinese]: `我的创作`,\n    [Language.English]: `My articles`\n  },\n  myVlogs: {\n    [Language.Chinese]: `我的行摄`,\n    [Language.English]: `My albums`\n  },\n  merchBar: {\n    [Language.Chinese]: `我的周边`,\n    [Language.English]: `Merch bar`\n  },\n  guestbook: {\n    [Language.Chinese]: `给我留言`,\n    [Language.English]: `Guestbook`\n  },\n  DiscordGroup: {\n    [Language.Chinese]: `国际联谊`,\n    [Language.English]: `Discord`\n  },\n  TelegramGroup: {\n    [Language.Chinese]: `自由报社`,\n    [Language.English]: `TG group`\n  },\n  livingNow: {\n    [Language.Chinese]: `暂居上海，养两条狗`,\n    [Language.English]: `I'm living in Shanghai now`\n  }\n}\n\nexport const useAboutPageMeta = () => {\n  const { i18n, meta, isZhLang } = useEnhancer()\n  return meta(() => {\n    const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_ABOUT, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_ABOUT), enTitle] : [enTitle]\n    return { pageTitle: titles.join(' | '), description: `关于 ${META.author}` }\n  })\n}\n","/**\n * @file Aggregate state\n * @module store.aggregate\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport nodepress from '/@/services/nodepress'\nimport tunnel from '/@/services/tunnel'\n\ntype CalendarDay = { date: string; count: number }\n\nexport const useArticleCalendarStore = defineStore('articleCalendar', {\n  state: () => ({\n    fetching: false,\n    data: [] as Array<CalendarDay>\n  }),\n  actions: {\n    fetch() {\n      if (this.data.length) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return nodepress\n        .get('/article/calendar', {\n          params: { timezone: Intl.DateTimeFormat().resolvedOptions().timeZone }\n        })\n        .then((response) => {\n          this.data = response.result\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n\nexport const useTwitterCalendarStore = defineStore('twitterCalendar', {\n  state: () => ({\n    fetching: false,\n    data: [] as Array<CalendarDay>\n  }),\n  actions: {\n    fetch() {\n      if (this.data.length) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.TwitterCalendar)\n        .then((response) => {\n          this.data = response\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n\nexport const useInstagramCalendarStore = defineStore('instagramCalendar', {\n  state: () => ({\n    fetching: false,\n    data: [] as Array<CalendarDay>\n  }),\n  actions: {\n    fetch() {\n      if (this.data.length) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.InstagramCalendar)\n        .then((response) => {\n          this.data = response\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n\nexport const useGitHubCalendarStore = defineStore('githubCalendar', {\n  state: () => ({\n    fetching: false,\n    data: null as any\n  }),\n  getters: {\n    days(): Array<{ date: string; count: number; color: string }> {\n      if (!this.data) {\n        return []\n      }\n\n      return this.data.weeks\n        .map((week) => week.contributionDays)\n        .flat()\n        .map((day) => ({\n          date: day.date,\n          count: day.contributionCount,\n          color: day.color\n        }))\n    }\n  },\n  actions: {\n    fetch() {\n      if (this.data) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.GitHubContributions)\n        .then((response) => {\n          this.data = response\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","<template>\n  <div\n    class=\"day\"\n    :class=\"{ dark: isDarkTheme }\"\n    :data-date=\"date\"\n    :data-total-count=\"total\"\n    :data-article-count=\"articles\"\n    :data-tweet-count=\"tweets\"\n    :data-instagram-count=\"instagrams\"\n    :data-contribution-count=\"contributions\"\n  >\n    <div class=\"point\">\n      <div class=\"item article\" :style=\"{ height: getPointHeightStyle(articles / total) }\" />\n      <div class=\"item tweet\" :style=\"{ height: getPointHeightStyle(tweets / total) }\" />\n      <div class=\"item instagram\" :style=\"{ height: getPointHeightStyle(instagrams / total) }\" />\n      <div\n        class=\"item contribution\"\n        :style=\"{\n          height: getPointHeightStyle(contributions / total),\n          backgroundColor: githubColor\n        }\"\n      />\n    </div>\n    <div class=\"tooltip\" v-if=\"total\">\n      <p class=\"date\">{{ date }}</p>\n      <ul class=\"counts\">\n        <li class=\"item article\">\n          <i class=\"iconfont icon-quill\"></i>\n          <span class=\"count\">{{ articles }}</span>\n          articles\n        </li>\n        <li class=\"item tweet\">\n          <i class=\"iconfont icon-twitter\"></i>\n          <span class=\"count\">{{ tweets }}</span>\n          tweets\n        </li>\n        <li class=\"item instagram\">\n          <i class=\"iconfont icon-instagram\"></i>\n          <span class=\"count\">{{ instagrams }}</span>\n          instagrams\n        </li>\n        <li class=\"item contribution\">\n          <i class=\"iconfont icon-github\"></i>\n          <span class=\"count\">{{ contributions }}</span>\n          contributions\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n\n  export default defineComponent({\n    name: 'AggregateCalendarDay',\n    props: {\n      date: {\n        type: String,\n        required: true\n      },\n      tweets: {\n        type: Number,\n        required: true\n      },\n      instagrams: {\n        type: Number,\n        required: true\n      },\n      articles: {\n        type: Number,\n        required: true\n      },\n      contributions: {\n        type: Number,\n        required: true\n      },\n      githubColor: String\n    },\n    setup(props) {\n      const { isDarkTheme } = useEnhancer()\n      const total = computed(\n        () => props.articles + props.tweets + props.contributions + props.instagrams\n      )\n      const getPointHeightStyle = (value: number) => {\n        return isNaN(value) ? 0 : `${Math.floor(value * 100)}%`\n      }\n\n      return {\n        isDarkTheme,\n        total,\n        getPointHeightStyle\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .day {\n    $size: 10px;\n    $radius: 1px;\n    position: relative;\n    width: $size;\n    height: $size;\n    border-radius: $radius;\n    background-color: $module-bg-darker-2;\n    &.dark {\n      background-color: $module-bg-darker-1;\n      .point {\n        filter: brightness(86%);\n      }\n      .tooltip {\n        color: $text-reversal;\n        #{--background}: rgba($white, 0.9);\n      }\n    }\n\n    &:not([data-total-count='0']) {\n      &:hover {\n        outline: 1px solid $theme-black;\n      }\n      .point:hover {\n        & + .tooltip {\n          @include visible();\n        }\n      }\n    }\n\n    .point {\n      display: block;\n      width: $size;\n      height: $size;\n      border-radius: $radius;\n      overflow: hidden;\n\n      .item {\n        width: 100%;\n        &.article {\n          background-color: $rss-primary;\n        }\n        &.tweet {\n          background-color: $twitter-primary;\n        }\n        &.instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n\n    .tooltip {\n      #{--background}: rgba($black, 0.9);\n      position: absolute;\n      left: 22px;\n      top: 0;\n      transform: translateY(-50%);\n      white-space: nowrap;\n      z-index: $z-index-normal + 1;\n      padding: $sm-gap $gap;\n      padding-right: $lg-gap;\n      background-color: var(--background);\n      border-radius: $xs-radius;\n      color: $text-reversal;\n      @include hidden();\n      &::before {\n        $size: 4px;\n        content: '';\n        position: absolute;\n        left: -$size * 2;\n        top: 50%;\n        margin-top: -1px;\n        width: 0;\n        height: 0;\n        border-top: $size * 1.5 solid transparent;\n        border-right: $size * 2 solid var(--background);\n        border-bottom: $size * 1.5 solid transparent;\n      }\n\n      .date {\n        font-weight: bold;\n        margin-bottom: $xs-gap;\n      }\n\n      .counts {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n\n        .item {\n          line-height: 1.8em;\n          font-size: $font-size-small;\n          &.article {\n            color: $rss-primary;\n          }\n          &.tweet {\n            color: $twitter-primary;\n          }\n          &.instagram {\n            color: $instagram-primary;\n          }\n\n          .count {\n            margin-left: $sm-gap;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    /* articles */\n    /* 5+ */\n    &:not([data-article-count='0']) {\n      .point {\n        .article {\n          background-color: $rss-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-article-count='1'] {\n      .point {\n        .article {\n          background-color: lighten($rss-primary, 20%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-article-count='2'],\n    &[data-article-count='3'],\n    &[data-article-count='4'] {\n      .point {\n        .article {\n          background-color: lighten($rss-primary, 10%);\n        }\n      }\n    }\n\n    /* instagrams */\n    /* 3+ */\n    &:not([data-instagram-count='0']) {\n      .point {\n        .instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-instagram-count='1'] {\n      .point {\n        .instagram {\n          background-color: lighten($instagram-primary, 20%);\n        }\n      }\n    }\n    /* 2 */\n    &[data-instagram-count='2'],\n    &[data-instagram-count='3'] {\n      .point {\n        .instagram {\n          background-color: lighten($instagram-primary, 10%);\n        }\n      }\n    }\n\n    /* tweets */\n    /* 8+ */\n    &:not([data-tweet-count='0']) {\n      .point {\n        .tweet {\n          background-color: $twitter-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-tweet-count='1'] {\n      .point {\n        .tweet {\n          background-color: lighten($twitter-primary, 22%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-tweet-count='2'],\n    &[data-tweet-count='3'],\n    &[data-tweet-count='4'] {\n      .point {\n        .tweet {\n          background-color: lighten($twitter-primary, 16%);\n        }\n      }\n    }\n    /* 5-8 */\n    &[data-tweet-count='5'],\n    &[data-tweet-count='6'],\n    &[data-tweet-count='7'],\n    &[data-tweet-count='8'] {\n      .point {\n        .tweet {\n          background-color: lighten($twitter-primary, 8%);\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <ul class=\"aggregate-calendar\" @mouseenter=\"handleHover\">\n    <li class=\"month\" v-for=\"(month, index) in months\" :key=\"index\">\n      <calendar-day\n        v-for=\"(day, i) in month\"\n        :key=\"i\"\n        :date=\"day\"\n        :articles=\"getDayArticles(day)\"\n        :tweets=\"getDayTweets(day)\"\n        :instagrams=\"getDayInstagrams(day)\"\n        :contributions=\"getDayContributions(day)\"\n        :github-color=\"getDayGitHubColor(day)\"\n      />\n    </li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import {\n    useArticleCalendarStore,\n    useTwitterCalendarStore,\n    useInstagramCalendarStore,\n    useGitHubCalendarStore\n  } from '/@/stores/aggregate'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { dateToHuman, HumanDate, humanDateToYMD } from '/@/transforms/moment'\n  import CalendarDay from './day.vue'\n\n  export default defineComponent({\n    name: 'AggregateCalendar',\n    components: {\n      CalendarDay\n    },\n    setup() {\n      const { gtag } = useEnhancer()\n      const articleCalendar = useArticleCalendarStore()\n      const twitterCalendar = useTwitterCalendarStore()\n      const instagramCalendar = useInstagramCalendarStore()\n      const githubCalendar = useGitHubCalendarStore()\n      const githubContributionsMap = computed(\n        () => new Map(githubCalendar.days.map((day) => [day.date, day]))\n      )\n      const getDayTweets = (date: string) => {\n        return twitterCalendar.data.find((i) => i.date === date)?.count || 0\n      }\n      const getDayInstagrams = (date: string) => {\n        return instagramCalendar.data.find((i) => i.date === date)?.count || 0\n      }\n      const getDayArticles = (date: string) => {\n        return articleCalendar.data.find((i) => i.date === date)?.count || 0\n      }\n      const getDayContributions = (date: string) => {\n        return githubContributionsMap.value.get(date)?.count || 0\n      }\n      const getDayGitHubColor = (date: string) => {\n        return githubContributionsMap.value.get(date)?.color\n      }\n\n      const handleHover = () => {\n        gtag?.event('aggregate_calendar', {\n          event_category: GAEventCategories.About\n        })\n      }\n\n      // current month | day\n      const today = new Date()\n      const todayHuman = dateToHuman(today)\n      const currentMonthDays = Array.from({ length: todayHuman.day }).map((_, i) => {\n        return humanDateToYMD({ ...todayHuman, day: i + 1 })\n      })\n      const getPrevMonthFullDays = (date: HumanDate, prevMonths: number) => {\n        const targetMonth = new Date(date.year, date.month - prevMonths, 0)\n        const daysCount = targetMonth.getDate()\n        return Array.from({ length: daysCount }).map((d, i) => {\n          return humanDateToYMD({ ...dateToHuman(targetMonth), day: i + 1 })\n        })\n      }\n\n      const months = [\n        getPrevMonthFullDays(todayHuman, 12),\n        getPrevMonthFullDays(todayHuman, 11),\n        getPrevMonthFullDays(todayHuman, 10),\n        getPrevMonthFullDays(todayHuman, 9),\n        getPrevMonthFullDays(todayHuman, 8),\n        getPrevMonthFullDays(todayHuman, 7),\n        getPrevMonthFullDays(todayHuman, 6),\n        getPrevMonthFullDays(todayHuman, 5),\n        getPrevMonthFullDays(todayHuman, 4),\n        getPrevMonthFullDays(todayHuman, 3),\n        getPrevMonthFullDays(todayHuman, 2),\n        getPrevMonthFullDays(todayHuman, 1),\n        currentMonthDays\n      ]\n\n      onMounted(() => {\n        articleCalendar.fetch()\n        twitterCalendar.fetch()\n        instagramCalendar.fetch()\n        githubCalendar.fetch()\n      })\n\n      return {\n        months,\n        handleHover,\n        getDayTweets,\n        getDayArticles,\n        getDayInstagrams,\n        getDayContributions,\n        getDayGitHubColor\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .aggregate-calendar {\n    display: flex;\n    justify-content: space-between;\n    padding: 0;\n    margin: 0;\n\n    .month {\n      width: auto;\n      display: grid;\n      grid-template-rows: repeat(7, 1fr);\n      grid-auto-flow: column;\n      grid-auto-columns: min-content;\n      grid-gap: 4px;\n      @include scroll-snap-item();\n    }\n  }\n</style>\n","<template>\n  <div class=\"about-page\" :class=\"{ dark: isDarkTheme }\">\n    <div class=\"banner\">\n      <div class=\"background\">\n        <video class=\"video\" loop muted autoplay :controls=\"false\">\n          <source :src=\"backgroundVideo\" type=\"video/mp4\" />\n        </video>\n      </div>\n      <div class=\"avatar\">\n        <uimage class=\"image\" :src=\"getAdminAvatar(adminInfo?.avatar)\" />\n        <h2 class=\"name\">{{ adminInfo?.name || '-' }}</h2>\n        <p class=\"role\">{{ adminInfo?.slogan || '-' }}</p>\n        <div class=\"bio-text\" :class=\"language\">\n          <i18n v-bind=\"i18ns.biography\" />\n        </div>\n        <div class=\"socials\">\n          <span class=\"normal\">\n            <ulink class=\"item github\" :href=\"VALUABLE_LINKS.GITHUB\">\n              <i class=\"iconfont icon-github\" />\n              <span class=\"text\">GitHub</span>\n            </ulink>\n            <ulink class=\"item twitter\" :href=\"VALUABLE_LINKS.TWITTER\">\n              <i class=\"iconfont icon-twitter\" />\n              <span class=\"text\">Twitter</span>\n            </ulink>\n            <ulink class=\"item instagram\" :href=\"VALUABLE_LINKS.INSTAGRAM\">\n              <i class=\"iconfont icon-instagram\" />\n              <span class=\"text\">Instagram</span>\n            </ulink>\n            <ulink class=\"item youtube\" :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\">\n              <i class=\"iconfont icon-youtube\" />\n              <span class=\"text\">YouTube</span>\n            </ulink>\n          </span>\n          <span class=\"mini\">\n            <ulink class=\"item telegram\" :href=\"VALUABLE_LINKS.TELEGRAM\">\n              <i class=\"iconfont icon-telegram\" />\n            </ulink>\n            <ulink class=\"item linkedin\" :href=\"VALUABLE_LINKS.LINKEDIN\">\n              <i class=\"iconfont icon-linkedin\" />\n            </ulink>\n            <ulink class=\"item douban\" :href=\"VALUABLE_LINKS.DOUBAN\">\n              <i class=\"iconfont icon-douban\" />\n            </ulink>\n            <ulink class=\"item zhihu\" :href=\"VALUABLE_LINKS.ZHIHU\">\n              <i class=\"iconfont icon-zhihu\" />\n            </ulink>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"links\">\n        <router-link\n          class=\"item\"\n          v-for=\"(item, index) in links\"\n          :key=\"index\"\n          :to=\"getPageRoute(item.to)\"\n        >\n          <i class=\"iconfont\" :class=\"item.icon\"></i>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span class=\"text\"><i18n v-bind=\"item.i18n\" /></span>\n        </router-link>\n      </div>\n      <div class=\"discussion\">\n        <ulink class=\"item telegram\" :href=\"VALUABLE_LINKS.TELEGRAM_GROUP\">\n          <i class=\"iconfont icon-telegram\"></i>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span class=\"text\"><i18n v-bind=\"i18ns.TelegramGroup\" /></span>\n        </ulink>\n        <ulink class=\"item discord\" :href=\"VALUABLE_LINKS.DISCORD_GROUP\">\n          <i class=\"iconfont icon-discord\"></i>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span class=\"text\"><i18n v-bind=\"i18ns.DiscordGroup\" /></span>\n        </ulink>\n        <div class=\"center\">\n          <button class=\"mini statement\" @click=\"handleStatement\">\n            <i class=\"iconfont icon-faq\" />\n          </button>\n          <div class=\"bridge\"></div>\n          <button class=\"mini sponsor\" @click=\"handleSponsor\">\n            <i class=\"iconfont icon-heart\" />\n          </button>\n          <div class=\"bridge\"></div>\n          <button class=\"mini feedback\" @click=\"handleFeedback\">\n            <i class=\"iconfont icon-mail-plane\" />\n          </button>\n        </div>\n        <ulink class=\"item spotify\" :href=\"VALUABLE_LINKS.SPOTIFY\">\n          <i class=\"iconfont icon-spotify\" />\n          <divider class=\"divider\" type=\"vertical\" />\n          <span class=\"text\">My Spotify</span>\n        </ulink>\n        <ulink class=\"item music-163\" :href=\"VALUABLE_LINKS.MUSIC_163\">\n          <i class=\"iconfont icon-163music-logo\" />\n          <divider class=\"divider\" type=\"vertical\" />\n          <span class=\"text\">BGM list</span>\n        </ulink>\n      </div>\n      <div class=\"qrcodes\">\n        <div\n          class=\"item\"\n          :class=\"item.class\"\n          :key=\"index\"\n          v-for=\"(item, index) in qrcodes\"\n          @mouseenter=\"handleGTagEvent(item.class.replace('-', '_') + '_qrcode')\"\n        >\n          <div class=\"background\"></div>\n          <div class=\"icon\">\n            <i class=\"iconfont\" :class=\"item.icon\"></i>\n          </div>\n          <span class=\"qrcode\">\n            <uimage class=\"image\" cdn :src=\"item.qrcode\" />\n          </span>\n          <ulink class=\"link\" :href=\"item.link\">{{ item.text }}</ulink>\n        </div>\n      </div>\n      <div class=\"calendar\">\n        <aggregate-calendar />\n      </div>\n      <div class=\"maps\">\n        <div class=\"location\">\n          <div class=\"map\">\n            <iframe class=\"iframe\" src=\"/partials/location.html\" />\n          </div>\n          <div class=\"living\">\n            <i class=\"iconfont icon-location\"></i>\n            <div class=\"text\"><i18n v-bind=\"i18ns.livingNow\" /></div>\n          </div>\n        </div>\n        <div class=\"roadmap\" :placeholder=\"isZhLang ? i18ns.roadmap.zh : i18ns.roadmap.en\">\n          <div class=\"wrapper\">\n            <button class=\"fullscreen\" @click=\"handleOpenMap\">\n              <i class=\"iconfont icon-fullscreen\"></i>\n            </button>\n            <iframe class=\"iframe\" :src=\"VALUABLE_LINKS.GOOGLE_LIVE_MAP\" frameborder=\"0\" />\n            <client-only>\n              <popup v-model:visible=\"isOnRoadMap\">\n                <iframe\n                  :src=\"VALUABLE_LINKS.GOOGLE_LIVE_MAP\"\n                  allowfullscreen\n                  frameborder=\"0\"\n                  class=\"roadmap-modal\"\n                />\n              </popup>\n            </client-only>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer-links\">\n        <div class=\"friendlinks\">\n          <template v-for=\"(link, index) in appOptions?.friend_links || []\" :key=\"index\">\n            <divider type=\"vertical\" size=\"lg\" v-if=\"index !== 0\" />\n            <a :href=\"link.value\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n              {{ link.name }}\n            </a>\n          </template>\n        </div>\n        <div class=\"speciallinks\">\n          <template v-for=\"(item, index) in SPECIAL_LINKS\" :key=\"index\">\n            <divider type=\"vertical\" size=\"lg\" v-if=\"index !== 0\" />\n            <a :href=\"item.url\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n              {{ item.name }}\n            </a>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { useMetaStore } from '/@/stores/meta'\n  import { useUniversalFetch } from '/@/universal'\n  import { getPageRoute } from '/@/transforms/route'\n  import { getTargetStaticURL } from '/@/transforms/url'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { VALUABLE_LINKS, SPECIAL_LINKS } from '/@/config/app.config'\n  import { useAboutPageMeta, getAdminAvatar, i18ns } from './helper'\n  import AggregateCalendar from './calendar/index.vue'\n\n  export default defineComponent({\n    name: 'PCAboutPage',\n    components: {\n      AggregateCalendar\n    },\n    setup() {\n      const { i18n, gtag, globalState, isZhLang, isDarkTheme } = useEnhancer()\n      const metaStore = useMetaStore()\n      const adminInfo = computed(() => metaStore.adminInfo.data)\n      const appOptions = computed(() => metaStore.appOptions.data)\n\n      const links = [\n        {\n          to: RouteName.Lens,\n          icon: `icon-lens`,\n          i18n: i18ns.myVlogs\n        },\n        {\n          to: RouteName.Merch,\n          icon: `icon-rubik`,\n          i18n: i18ns.merchBar\n        },\n        {\n          to: RouteName.Archive,\n          icon: `icon-peachblossom`,\n          i18n: i18ns.myArchive\n        },\n        {\n          to: RouteName.Freelancer,\n          icon: `icon-coin-s`,\n          i18n: i18ns.hireMe\n        },\n        {\n          to: RouteName.Guestbook,\n          icon: `icon-comment`,\n          i18n: i18ns.guestbook\n        }\n      ]\n\n      const qrcodes = [\n        {\n          class: 'douban',\n          qrcode: `/images/qrcodes/douban.png`,\n          icon: 'icon-douban',\n          link: VALUABLE_LINKS.DOUBAN,\n          text: `Douban Archive`\n        },\n        {\n          class: 'wechat-channel',\n          qrcode: `/images/qrcodes/wechat-channel.png`,\n          icon: 'icon-wechat-channel',\n          text: 'WeChat Channel'\n        },\n        {\n          class: 'wechat',\n          qrcode: `/images/qrcodes/wechat.jpg`,\n          icon: 'icon-wechat',\n          text: 'Friend me on WeChat'\n        },\n        {\n          class: 'instagram',\n          qrcode: `/images/qrcodes/instagram.png`,\n          icon: 'icon-instagram',\n          link: VALUABLE_LINKS.INSTAGRAM,\n          text: `Instagram Plogs`\n        },\n        {\n          class: 'youtube',\n          qrcode: `/images/qrcodes/youtube.png`,\n          icon: 'icon-youtube',\n          link: VALUABLE_LINKS.YOUTUBE_CHANNEL,\n          text: 'YouTube Channel'\n        }\n      ]\n\n      const handleGTagEvent = (event: string) => {\n        gtag?.event(event, {\n          event_category: GAEventCategories.About\n        })\n      }\n\n      const isOnRoadMap = ref(false)\n      const handleOpenMap = () => {\n        isOnRoadMap.value = true\n        handleGTagEvent('roadmap_modal')\n      }\n\n      const handleSponsor = () => {\n        globalState.toggleSwitcher('sponsor', true)\n        handleGTagEvent('sponsor_modal')\n      }\n\n      const handleStatement = () => {\n        globalState.toggleSwitcher('statement', true)\n        handleGTagEvent('statement_modal')\n      }\n\n      const handleFeedback = () => {\n        globalState.toggleSwitcher('feedback', true)\n        handleGTagEvent('feedback_modal')\n      }\n\n      // MARK: 非常有必要，vite 对 video.source.src 的解析有问题，会将其认为是 asset，而非 static resource，从而编译失败\n      const backgroundVideo = getTargetStaticURL('/assets/page-about-background.mp4')\n\n      // meta\n      useAboutPageMeta()\n      // prefetch\n      useUniversalFetch(() =>\n        Promise.all([metaStore.fetchAdminInfo(), metaStore.fetchAppOptions()])\n      )\n\n      return {\n        i18ns,\n        qrcodes,\n        links,\n        language: i18n.language,\n        VALUABLE_LINKS,\n        SPECIAL_LINKS,\n        getAdminAvatar,\n        getPageRoute,\n        isZhLang,\n        isDarkTheme,\n        isOnRoadMap,\n        backgroundVideo,\n        adminInfo,\n        appOptions,\n        handleGTagEvent,\n        handleSponsor,\n        handleFeedback,\n        handleStatement,\n        handleOpenMap\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .roadmap-modal {\n    width: 88vw;\n    height: 88vh;\n  }\n\n  .about-page {\n    width: 100%;\n    overflow: hidden;\n\n    &.dark {\n      .maps {\n        .location {\n          .iframe {\n            filter: invert(1) hue-rotate(200deg) brightness(0.5) contrast(0.9);\n          }\n        }\n        .roadmap {\n          .iframe {\n            filter: invert(1) hue-rotate(200deg) grayscale(60%) contrast(0.9);\n          }\n        }\n      }\n    }\n\n    .banner {\n      $banner-height: 22rem;\n      margin-bottom: $gap * 2;\n\n      .background {\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: $banner-height;\n        top: 0;\n        left: 0;\n        overflow: hidden;\n        z-index: $z-index-normal + 1;\n        background-color: $module-bg-darker-1;\n\n        &::before {\n          content: '';\n          position: absolute;\n          display: block;\n          height: 1rem;\n          bottom: -0.5rem;\n          left: 0;\n          right: 0;\n          background-image: radial-gradient(circle, transparent 70%, $text-reversal 70%);\n          background-size: 0.7em 1em;\n          background-position: 0 -0.5em;\n        }\n\n        .video {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          object-position: 0% 30%;\n          pointer-events: none;\n        }\n      }\n\n      .avatar {\n        position: relative;\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        justify-content: flex-start;\n        width: 100%;\n        background-color: $module-bg;\n        @include radius-box($lg-radius);\n        background-image: cdn-url('/images/page-about/background.png'),\n          linear-gradient($module-bg-opaque 40%, #00000000 100%);\n        background-size: contain;\n        background-repeat: repeat-x;\n        background-blend-mode: lighten;\n\n        > .image {\n          $size: 8rem;\n          width: $size;\n          height: $size;\n          z-index: $z-index-normal + 2;\n          margin-top: $banner-height - 4rem;\n          max-width: 100%;\n          border-radius: 100%;\n          border: 5px solid $module-bg;\n          box-sizing: content-box;\n          transition: transform $transition-time-slow;\n          &:hover {\n            transform: rotate(360deg);\n          }\n        }\n\n        .name,\n        .role {\n          text-align: center;\n          color: $text;\n        }\n\n        .bio-text {\n          line-height: 5rem;\n          font-size: $font-size-h3;\n          font-family: 'webfont-bolder', DINRegular;\n          &.en {\n            font-weight: bold;\n          }\n        }\n\n        .socials {\n          $button-size: 3rem;\n          display: flex;\n          justify-content: center;\n          height: $button-size;\n          margin-top: $lg-gap;\n          margin-bottom: $gap * 2;\n\n          .normal {\n            display: inline-flex;\n            align-items: center;\n            margin-right: $gap;\n\n            .item {\n              padding: 0 $gap;\n              margin-right: $gap;\n              height: 100%;\n              display: inline-flex;\n              align-items: center;\n              border-radius: $sm-radius;\n              color: $white;\n              transition: all $transition-time-fast;\n\n              .iconfont {\n                font-size: $font-size-h4;\n                margin-right: $sm-gap;\n              }\n\n              .text {\n                font-weight: bold;\n              }\n\n              &.github {\n                background-color: $github-primary;\n                &:hover {\n                  background-color: $github-primary-hover;\n                }\n              }\n              &.twitter {\n                background-color: $twitter-primary;\n                &:hover {\n                  background-color: $twitter-primary-hover;\n                }\n              }\n              &.youtube {\n                margin: 0;\n                background-color: $youtube-primary;\n                &:hover {\n                  background-color: mix($black, $youtube-primary, 8%);\n                }\n              }\n              &.instagram {\n                opacity: 0.8;\n                background: $instagram-primary;\n                background: $instagram-gradient;\n                &:hover {\n                  opacity: 1;\n                }\n              }\n            }\n          }\n\n          > .mini {\n            > .item {\n              display: inline-block;\n              width: $button-size;\n              height: $button-size;\n              line-height: $button-size;\n              margin-right: $gap;\n              text-align: center;\n              border-radius: $sm-radius;\n              color: $white;\n              opacity: 0.8;\n              transition: all $transition-time-fast;\n\n              &:hover {\n                opacity: 1;\n              }\n\n              .iconfont {\n                font-size: $font-size-h4;\n              }\n\n              &.telegram {\n                background-color: $telegram-primary;\n              }\n              &.douban {\n                background-color: $douban-primary;\n              }\n              &.zhihu {\n                background-color: $zhihu-primary;\n              }\n              &.stackoverflow {\n                background-color: $stackoverflow-primary;\n              }\n              &.algorithm {\n                background-color: $leetcode-primary;\n              }\n              &.quora {\n                background-color: $quora-primary;\n              }\n              &.linkedin {\n                background-color: $linkedin-primary;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .links,\n    .discussion {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      grid-gap: $gap * 2;\n      width: 100%;\n      margin-bottom: 2rem;\n\n      .item {\n        height: 5rem;\n        display: flex;\n        justify-content: start;\n        align-items: center;\n        @include common-bg-module($transition-time-fast);\n        @include radius-box($lg-radius);\n\n        .iconfont {\n          margin-left: 2.8rem;\n          font-size: $font-size-h3;\n        }\n\n        .divider {\n          opacity: 0.6;\n          border-color: initial;\n        }\n\n        .text {\n          font-size: $font-size-h4;\n          font-weight: bold;\n        }\n      }\n\n      .center {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        .bridge {\n          width: $lg-gap;\n          height: 2rem;\n          background: linear-gradient(\n            to right,\n            $module-bg-darker-1,\n            $module-bg,\n            $module-bg-darker-1\n          );\n        }\n\n        .mini {\n          &.sponsor {\n            --item-primary: #{$red};\n          }\n          &.feedback,\n          &.statement {\n            --item-primary: #{$surmon};\n          }\n\n          flex: 1;\n          height: 100%;\n          color: var(--item-primary);\n          font-size: $font-size-h2;\n          @include common-bg-module($transition-time-fast);\n          @include radius-box($lg-radius);\n          &:hover {\n            color: $white;\n            background-color: var(--item-primary);\n          }\n        }\n      }\n    }\n\n    .links {\n      .item {\n        color: $text-secondary;\n        &:hover {\n          color: $text-reversal;\n          background-color: $primary;\n        }\n      }\n    }\n\n    .discussion {\n      .item {\n        color: var(--item-primary);\n        &:hover {\n          color: $white;\n          background-color: var(--item-primary);\n        }\n\n        &.discord {\n          --item-primary: #{$discord-primary};\n        }\n        &.telegram {\n          --item-primary: #{$telegram-primary};\n        }\n        &.spotify {\n          --item-primary: #{$spotify-primary};\n        }\n        &.music-163 {\n          --item-primary: #{$music163-primary};\n        }\n      }\n    }\n\n    .qrcodes {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      grid-gap: $gap * 2;\n      width: 100%;\n      height: 18rem;\n      margin-bottom: 2rem;\n\n      .item {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        align-items: center;\n        width: 100%;\n        @include common-bg-module();\n        @include radius-box($lg-radius);\n        &.wechat {\n          --item-primary: #{$wechat-primary};\n          .background {\n            height: 45%;\n          }\n        }\n        &.douban {\n          --item-primary: #{$douban-primary};\n        }\n        &.instagram {\n          --item-primary: #{$instagram-primary};\n          .background {\n            background: $instagram-primary;\n            background: $instagram-gradient;\n          }\n        }\n        &.youtube {\n          --item-primary: #{$youtube-primary};\n        }\n        &.wechat-channel {\n          --item-primary: #{$wechat-channel-primary};\n        }\n\n        .background {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 6px;\n          text-align: right;\n          background: var(--item-primary);\n          filter: opacity(0.8);\n        }\n\n        .icon {\n          $size: $font-size-h1 * 8;\n          position: absolute;\n          left: -50%;\n          bottom: -45%;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          display: block;\n          text-align: center;\n          opacity: 0.1;\n\n          .iconfont {\n            font-size: $size;\n            color: var(--item-primary);\n          }\n        }\n\n        .qrcode {\n          margin-top: $lg-gap;\n          z-index: $z-index-normal + 1;\n          .image {\n            width: 12rem;\n            @include radius-box($sm-radius);\n          }\n        }\n\n        .link {\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          margin-bottom: $sm-gap;\n          padding-bottom: 2px;\n          border-bottom: 2px solid;\n          font-weight: bold;\n          color: var(--item-primary);\n          opacity: 0.8;\n          transition: opacity $transition-time-fast;\n          &:hover {\n            opacity: 1;\n          }\n        }\n      }\n    }\n\n    .calendar {\n      margin-bottom: $gap * 2;\n      padding: $gap;\n      border-radius: $lg-radius;\n      @include common-bg-module();\n    }\n\n    .maps {\n      $size: 210px;\n      position: relative;\n      display: flex;\n      width: 100%;\n      margin-bottom: $gap * 2;\n\n      .location .map,\n      .location .living,\n      .roadmap {\n        padding: $sm-gap;\n        @include common-bg-module();\n        @include radius-box($lg-radius);\n      }\n\n      .location {\n        display: flex;\n        flex-direction: column;\n        flex-shrink: 1;\n        margin-right: $gap * 2;\n        height: calc(#{$size} + #{$sm-gap * 2});\n\n        .map {\n          width: calc(#{$size} + #{$sm-gap});\n\n          .iframe {\n            width: 100%;\n            height: 100%;\n            @include radius-box($xs-radius);\n          }\n        }\n\n        .living {\n          flex-shrink: 0;\n          display: inline-flex;\n          margin-top: $lg-gap;\n          padding: 0 1em;\n          width: 100%;\n          height: 4em;\n          line-height: 4em;\n          color: $text-secondary;\n\n          .iconfont {\n            margin-right: $sm-gap;\n          }\n          .text {\n            font-weight: bold;\n          }\n        }\n      }\n\n      .roadmap {\n        flex: 1;\n        overflow: hidden;\n        @extend .center-placeholder;\n\n        .wrapper {\n          $google-bar: 54px;\n          position: relative;\n          height: $size;\n          border-radius: $xs-radius;\n          overflow: hidden;\n\n          .fullscreen {\n            position: absolute;\n            top: $gap;\n            right: $gap;\n            z-index: $z-index-normal + 1;\n            display: block;\n            width: 2em;\n            height: 2em;\n            border-radius: $xs-radius;\n            background-color: $module-bg;\n            font-size: $font-size-h4;\n            color: $text-secondary;\n            @include background-transition();\n            @include backdrop-blur(1px);\n            &:hover {\n              color: $text;\n              background-color: $module-bg-opaque;\n            }\n          }\n\n          .iframe {\n            width: 100%;\n            height: $size + $google-bar;\n            margin-top: -$google-bar;\n          }\n        }\n      }\n    }\n\n    .footer-links {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: $gap * 2;\n      padding: 2rem;\n      @include common-bg-module();\n      @include radius-box($lg-radius);\n\n      .item {\n        font-weight: bold;\n        border-bottom: 1px solid;\n      }\n\n      .speciallinks {\n        .item {\n          color: $text-disabled;\n          &:hover {\n            color: $text;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"about-page\">\n    <page-banner\n      :position=\"70\"\n      :blur=\"false\"\n      :is-mobile=\"true\"\n      image=\"/images/page-lens/banner-1.jpg\"\n    >\n      <template #title>\n        <i18n :k=\"LanguageKey.PAGE_ABOUT\" />\n      </template>\n    </page-banner>\n    <div class=\"profile\">\n      <div class=\"avatar\">\n        <uimage class=\"image\" :src=\"getAdminAvatar(adminInfo?.avatar)\" />\n      </div>\n      <h2 class=\"name\">{{ adminInfo?.name || '-' }}</h2>\n      <h5 class=\"slogan\">{{ adminInfo?.slogan || '-' }}</h5>\n      <divider dashed />\n      <h4 class=\"bio\" :class=\"language\">\n        <i18n v-bind=\"i18ns.biography\" />\n      </h4>\n    </div>\n    <div class=\"links\">\n      <div class=\"list col-2\">\n        <router-link class=\"item text-only\" :to=\"getPageRoute(RouteName.Archive)\">\n          <i class=\"iconfont icon-peachblossom\" />\n          <i18n v-bind=\"i18ns.myArchive\" />\n        </router-link>\n        <router-link class=\"item text-only\" :to=\"getPageRoute(RouteName.Lens)\">\n          <i class=\"iconfont icon-lens\" />\n          <i18n v-bind=\"i18ns.myVlogs\" />\n        </router-link>\n        <router-link class=\"item text-only\" :to=\"getPageRoute(RouteName.Merch)\">\n          <i class=\"iconfont icon-rubik\" />\n          <i18n v-bind=\"i18ns.merchBar\" />\n        </router-link>\n        <router-link class=\"item text-only\" :to=\"getPageRoute(RouteName.Freelancer)\">\n          <i class=\"iconfont icon-coin-s\" />\n          <i18n v-bind=\"i18ns.hireMe\" />\n        </router-link>\n      </div>\n      <divider dashed />\n      <div class=\"list col-2\">\n        <ulink class=\"item discord\" :href=\"VALUABLE_LINKS.DISCORD_GROUP\">\n          <i class=\"iconfont icon-discord\" />\n          <i18n v-bind=\"i18ns.DiscordGroup\" />\n        </ulink>\n        <ulink class=\"item telegram\" :href=\"VALUABLE_LINKS.TELEGRAM_GROUP\">\n          <i class=\"iconfont icon-telegram\" />\n          <i18n v-bind=\"i18ns.TelegramGroup\" />\n        </ulink>\n      </div>\n    </div>\n    <div class=\"links\">\n      <div class=\"list col-3\">\n        <ulink class=\"item center github\" :href=\"VALUABLE_LINKS.GITHUB\">\n          <i class=\"iconfont icon-github\" />\n          <span class=\"text\">GitHub</span>\n        </ulink>\n        <ulink class=\"item center twitter\" :href=\"VALUABLE_LINKS.TWITTER\">\n          <i class=\"iconfont icon-twitter\" />\n          <span class=\"text\">Twitter</span>\n        </ulink>\n        <ulink class=\"item center instagram\" :href=\"VALUABLE_LINKS.INSTAGRAM\">\n          <i class=\"iconfont icon-instagram\" />\n          <span class=\"text\">Instagram</span>\n        </ulink>\n      </div>\n      <divider dashed />\n      <div class=\"list col-5\">\n        <ulink class=\"item telegram icon-only\" :href=\"VALUABLE_LINKS.TELEGRAM\">\n          <i class=\"iconfont icon-telegram\" />\n        </ulink>\n        <ulink class=\"item linkedin icon-only\" :href=\"VALUABLE_LINKS.LINKEDIN\">\n          <i class=\"iconfont icon-linkedin\" />\n        </ulink>\n        <ulink class=\"item youtube icon-only\" :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\">\n          <i class=\"iconfont icon-youtube\" />\n        </ulink>\n        <ulink class=\"item douban icon-only\" :href=\"VALUABLE_LINKS.DOUBAN\">\n          <i class=\"iconfont icon-douban\" />\n        </ulink>\n        <ulink class=\"item zhihu icon-only\" :href=\"VALUABLE_LINKS.ZHIHU\">\n          <i class=\"iconfont icon-zhihu\" />\n        </ulink>\n      </div>\n    </div>\n    <div class=\"links\">\n      <div class=\"list col-2\">\n        <uimage cdn class=\"image-item\" src=\"/images/qrcodes/wechat.jpg\" />\n        <uimage cdn class=\"image-item\" src=\"/images/qrcodes/wechat-channel.png\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n  import { RouteName } from '/@/app/router'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMetaStore } from '/@/stores/meta'\n  import { useUniversalFetch } from '/@/universal'\n  import { getPageRoute } from '/@/transforms/route'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n  import { useAboutPageMeta, getAdminAvatar, i18ns } from './helper'\n\n  export default defineComponent({\n    name: 'MobileAboutPage',\n    components: {\n      PageBanner\n    },\n    setup() {\n      const { i18n } = useEnhancer()\n      const metaStore = useMetaStore()\n      const adminInfo = computed(() => metaStore.adminInfo.data)\n\n      useAboutPageMeta()\n      useUniversalFetch(() => metaStore.fetchAdminInfo())\n\n      return {\n        i18ns,\n        language: i18n.language,\n        adminInfo,\n        RouteName,\n        getAdminAvatar,\n        getPageRoute,\n        LanguageKey,\n        VALUABLE_LINKS\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .about-page {\n    .profile {\n      position: relative;\n      padding: $lg-gap;\n      padding-top: $gap * 6;\n      border-bottom-left-radius: $lg-radius;\n      border-bottom-right-radius: $lg-radius;\n      background-color: $module-bg-opaque;\n      &::before {\n        content: '';\n        position: absolute;\n        display: block;\n        height: 1rem;\n        bottom: -0.5rem;\n        left: 0;\n        right: 0;\n        background-image: radial-gradient(circle, transparent 70%, $module-bg-opaque 70%);\n        background-size: 0.7em 1em;\n        background-position: 0 -0.5em;\n      }\n\n      .avatar {\n        width: 100%;\n        position: absolute;\n        top: -$gap * 3;\n        left: 0;\n        text-align: center;\n\n        .image {\n          $size: 7rem;\n          width: $size;\n          height: $size;\n          z-index: $z-index-normal + 2;\n          border-radius: 100%;\n          border: 4px solid $module-bg-opaque;\n          box-sizing: content-box;\n        }\n      }\n\n      .name,\n      .slogan {\n        text-align: center;\n        margin-top: 0;\n        margin-bottom: $gap;\n      }\n\n      .bio {\n        margin: 0;\n        font-family: 'webfont-bolder', DINRegular;\n        line-height: $line-height-base * 1.4;\n        text-align: center;\n        &.en {\n          font-weight: bold;\n        }\n      }\n    }\n\n    .links {\n      margin-top: $lg-gap;\n      padding: $gap;\n      border-radius: $lg-radius;\n      background-color: $module-bg-opaque;\n      overflow: hidden;\n\n      .list {\n        display: grid;\n        grid-gap: $lg-gap;\n        &.col-2 {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        &.col-3 {\n          grid-template-columns: repeat(3, 1fr);\n        }\n        &.col-5 {\n          grid-template-columns: repeat(5, 1fr);\n        }\n\n        .image-item {\n          max-width: 100%;\n        }\n\n        .item {\n          display: inline-flex;\n          align-items: center;\n          height: 3rem;\n          padding: 0 $gap;\n          border-radius: $sm-radius;\n          color: $white;\n          &.center {\n            justify-content: center;\n          }\n\n          &.text-only {\n            background-color: $surmon;\n          }\n          &.icon-only {\n            justify-content: center;\n            .iconfont {\n              font-size: $font-size-h3;\n              margin: 0;\n            }\n          }\n\n          .iconfont {\n            margin-right: $sm-gap;\n          }\n\n          .text {\n            font-weight: bold;\n          }\n\n          &.github {\n            background-color: $github-primary;\n          }\n          &.twitter {\n            background-color: $twitter-primary;\n          }\n          &.instagram {\n            background: $instagram-primary;\n            background: $instagram-gradient;\n            @include visibility-transition();\n          }\n          &.discord {\n            background-color: $discord-primary;\n          }\n          &.telegram {\n            background-color: $telegram-primary;\n          }\n          &.douban {\n            background-color: $douban-primary;\n          }\n          &.zhihu {\n            background-color: $zhihu-primary;\n          }\n          &.youtube {\n            background-color: $youtube-primary;\n          }\n          &.linkedin {\n            background-color: $linkedin-primary;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"guestbook-page\" :class=\"{ dark: isDarkTheme }\">\n    <!-- mobile-banner -->\n    <page-banner\n      v-if=\"isMobile\"\n      class=\"mobile-banner\"\n      :is-mobile=\"true\"\n      :position=\"70\"\n      :blur=\"false\"\n      :image=\"bannerImage\"\n    >\n      <template #title>\n        <i18n :k=\"LanguageKey.PAGE_GUESTBOOK\" />\n      </template>\n      <template #description>\n        <i18n :k=\"LanguageKey.GUESTBOOK_SLOGAN\" />\n      </template>\n    </page-banner>\n    <!-- desktop-banner -->\n    <div class=\"desktop-banner\" v-else>\n      <uimage cdn class=\"image\" :src=\"bannerImage\" />\n      <button class=\"like\" :class=\"{ liked: isLiked }\" :disabled=\"isLiked\" @click=\"handleLike\">\n        <i class=\"icon iconfont icon-heart\"></i>\n        <span class=\"count\">{{ isLiked ? `${siteLikes - 1} + 1` : siteLikes }}</span>\n      </button>\n      <span class=\"slogan\">\n        <span class=\"text\">\n          <i18n :k=\"LanguageKey.GUESTBOOK_SLOGAN\" />\n        </span>\n      </span>\n    </div>\n    <div class=\"comment\">\n      <comment :post-id=\"0\" :plain=\"isMobile\" :fetching=\"mockCommentLoading\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { isClient } from '/@/app/environment'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useMetaStore } from '/@/stores/meta'\n  import { useCommentStore } from '/@/stores/comment'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { CommentPostType } from '/@/constants/state'\n  import { Language, LanguageKey } from '/@/language'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { META } from '/@/config/app.config'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n  import Comment from '/@/components/comment/index.vue'\n\n  export default defineComponent({\n    name: 'GuestbookPage',\n    components: {\n      PageBanner,\n      Comment\n    },\n    props: {\n      isMobile: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup() {\n      const GUESTBOOK_POST_ID = CommentPostType.Guestbook\n      const { i18n, meta, gtag, globalState, isDarkTheme, isZhLang } = useEnhancer()\n      const metaStore = useMetaStore()\n      const commentStore = useCommentStore()\n      const universalStore = useUniversalStore()\n      const isLiked = computed(() => universalStore.isLikedPage(GUESTBOOK_POST_ID))\n      const siteLikes = computed(() => metaStore.appOptions.data?.meta.likes || 0)\n      const bannerImage = `/images/page-guestbook/banner.jpg`\n      // MARK: [SSR & not first page] only\n      const mockCommentLoading = ref(isClient && globalState.isHydrated.value)\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_GUESTBOOK, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_GUESTBOOK), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `给 ${META.author} 留言` }\n      })\n\n      const fetchAllData = () => {\n        return Promise.all([\n          metaStore.fetchAppOptions(true),\n          commentStore.fetchList({ post_id: GUESTBOOK_POST_ID })\n        ]).then(() => {\n          mockCommentLoading.value = false\n        })\n      }\n\n      const handleLike = async () => {\n        if (isLiked.value) {\n          return false\n        }\n        gtag?.event('like_site', {\n          event_category: GAEventCategories.Universal\n        })\n\n        try {\n          await metaStore.postSiteLike()\n          universalStore.likePage(GUESTBOOK_POST_ID)\n        } catch (error) {\n          const message = i18n.t(LanguageKey.POST_ACTION_ERROR)\n          console.warn(message, error)\n          alert(message)\n        }\n      }\n\n      useUniversalFetch(() => fetchAllData())\n\n      return {\n        LanguageKey,\n        bannerImage,\n        mockCommentLoading,\n        isDarkTheme,\n        isLiked,\n        siteLikes,\n        handleLike\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .guestbook-page {\n    .mobile-banner {\n      margin-bottom: $lg-gap;\n    }\n\n    .desktop-banner {\n      position: relative;\n      margin-bottom: $lg-gap;\n      width: 100%;\n      height: 19rem;\n      border: 0;\n      background-color: $module-bg;\n      @include radius-box($lg-radius);\n\n      .image {\n        margin-top: -($gap * 6);\n        transition: all $transition-time-slow;\n\n        &:hover {\n          transform: rotate(2deg) scale(1.1);\n        }\n      }\n\n      .like {\n        position: absolute;\n        left: $lg-gap * 2;\n        bottom: $gap * 2;\n        display: inline-flex;\n        align-items: center;\n\n        &.liked,\n        &:hover {\n          .icon {\n            color: $red;\n          }\n        }\n\n        .icon {\n          margin-right: $sm-gap;\n          color: rgba($red, 0.6);\n          font-size: $font-size-h2;\n          @include color-transition();\n        }\n\n        .count {\n          color: rgba($white, 0.8);\n          font-weight: bold;\n        }\n      }\n\n      .slogan {\n        $size: 2em;\n        display: block;\n        position: absolute;\n        right: $lg-gap * 2;\n        bottom: $gap * 2;\n        height: $size;\n        line-height: $size;\n        padding: 0 $sm-gap;\n        padding-left: 3rem;\n        border-top-right-radius: $mini-radius;\n        border-bottom-right-radius: $mini-radius;\n        opacity: 0.8;\n        font-weight: 700;\n        cursor: progress;\n        background: linear-gradient(to left, $module-bg-lighter, $module-bg, transparent);\n\n        .text {\n          letter-spacing: 0.3px;\n          font-weight: bold;\n          color: $text;\n          background-clip: text;\n          background-image: cdn-url('/images/page-guestbook/banner.jpg');\n          background-position: 100% 80%;\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n        }\n      }\n    }\n\n    &.dark {\n      .desktop-banner {\n        .slogan {\n          .text {\n            -webkit-text-fill-color: $text !important;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"app-page\" :class=\"{ mobile: isMobile }\">\n    <div class=\"app\">\n      <div class=\"logo\">\n        <uimage cdn alt=\"app-logo\" src=\"/images/page-app/logo.png\" />\n      </div>\n      <h2 class=\"title\">{{ META.title }}</h2>\n      <p class=\"description\">\n        <i18n :k=\"LanguageKey.APP_SLOGAN\" />\n      </p>\n      <p class=\"rss\">\n        <span class=\"prefix\"><i18n zh=\"（\" en=\"[\" /></span>\n        <span class=\"deprecated\"><i18n zh=\"此项目已废弃！\" en=\"DEPRECATED!\" /></span>\n        <i18n zh=\"建议使用\" en=\"Recommend\" />\n        <a class=\"link\" :href=\"VALUABLE_LINKS.RSS\" target=\"_blank\">\n          <i18n zh=\"RSS 订阅\" en=\"RSS subscription\" />\n        </a>\n        <span class=\"suffix\"><i18n zh=\"）\" en=\"]\" /></span>\n      </p>\n      <div class=\"screen\">\n        <uimage cdn alt=\"app-hot\" class=\"screen-img\" src=\"/images/page-app/hot.png\" />\n        <div class=\"download\">\n          <uimage cdn class=\"qrcode\" alt=\"qrcode\" src=\"/images/page-app/qrcode.png\" />\n          <ulink\n            class=\"button\"\n            :href=\"VALUABLE_LINKS.APP_APK_FILE\"\n            @mousedown=\"handleAppEvent('download_android_app')\"\n          >\n            <i class=\"icon iconfont icon-android\"></i>\n            <span class=\"text\">Android</span>\n            <i class=\"new-window iconfont icon-new-window-s\"></i>\n          </ulink>\n          <ulink\n            class=\"button\"\n            :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE + '#ios'\"\n            @mousedown=\"handleAppEvent('download_ios_app')\"\n          >\n            <i class=\"icon iconfont icon-apple\"></i>\n            <span class=\"text\">iOS</span>\n            <i class=\"new-window iconfont icon-new-window-s\"></i>\n          </ulink>\n          <ulink\n            class=\"source-code\"\n            :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE\"\n            @mousedown=\"handleAppEvent('app_source_code')\"\n          >\n            <i class=\"iconfont icon-git\"></i>\n            Source Code\n          </ulink>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Language, LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n\n  export default defineComponent({\n    name: 'AppPage',\n    props: {\n      isMobile: {\n        type: Boolean,\n        default: false\n      }\n    },\n    setup() {\n      const { i18n, meta, gtag, isZhLang } = useEnhancer()\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_APP, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_APP), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `${META.title} App 下载` }\n      })\n\n      const handleAppEvent = (name: string) => {\n        gtag?.event(name, {\n          event_category: GAEventCategories.App\n        })\n      }\n\n      return {\n        META,\n        VALUABLE_LINKS,\n        LanguageKey,\n        handleAppEvent\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .app-page {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    min-height: 68rem;\n    height: $full-page-active-content-height;\n\n    .app {\n      text-align: center;\n\n      .logo {\n        margin-bottom: $lg-gap * 2;\n\n        img {\n          width: 6rem;\n          border-radius: 1em;\n        }\n      }\n\n      .title {\n        margin-bottom: 1rem;\n        color: $primary;\n        font-weight: bold;\n        text-transform: uppercase;\n      }\n\n      .version {\n        color: $text-divider;\n        text-decoration: line-through;\n      }\n\n      .rss {\n        .deprecated {\n          font-weight: bold;\n          margin-right: $xs-gap;\n        }\n\n        .link {\n          margin-left: $xs-gap;\n          border-bottom: 1px solid;\n        }\n\n        .prefix {\n          margin-right: $xs-gap;\n        }\n        .suffix {\n          margin-left: $xs-gap;\n        }\n      }\n\n      .screen {\n        margin-top: 5rem;\n        width: 36rem;\n        position: relative;\n\n        &:hover {\n          .screen-img {\n            opacity: 0.4;\n          }\n\n          .download {\n            @include visible();\n          }\n        }\n\n        .screen-img {\n          width: 100%;\n          @include visibility-transition($transition-time-normal);\n        }\n\n        .download {\n          $size: 12rem;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          @include hidden();\n          @include backdrop-blur(3px);\n          @include visibility-transition($transition-time-normal);\n\n          .qrcode {\n            width: $size;\n            height: auto;\n            @include radius-box($sm-radius);\n          }\n\n          .button {\n            width: $size;\n            height: 3rem;\n            display: flex;\n            align-items: center;\n            margin-top: 2rem;\n            padding: 0 1em;\n            border: 1px solid $primary;\n            border-radius: $xs-radius;\n            background: $module-bg;\n            color: $primary;\n            transition: all $transition-time-fast;\n            &:hover {\n              color: $text-reversal;\n              border-color: $primary-translucent;\n              background: $primary-lighter;\n            }\n\n            .icon {\n              font-size: $font-size-h4;\n              margin-right: $sm-gap;\n            }\n\n            .new-window {\n              margin-left: $xs-gap;\n              font-size: $font-size-small;\n            }\n          }\n\n          .source-code {\n            margin-top: 2rem;\n            border-bottom: 1px solid;\n            color: $text;\n            &:hover {\n              color: $primary;\n            }\n\n            .iconfont {\n              margin-right: $xs-gap;\n            }\n          }\n        }\n      }\n    }\n\n    &.mobile {\n      min-height: 53rem;\n      height: calc(100vh - #{$mobile-header-height + $lg-gap + $lg-gap + $mobile-footer-height});\n\n      .app {\n        .screen {\n          width: 100%;\n          margin-top: 3rem;\n          margin-bottom: 1rem;\n          text-align: center;\n\n          .screen-img {\n            opacity: 0.4;\n            width: 90%;\n          }\n\n          .download {\n            @include visible();\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Lens state\n * @module store.lens\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { isClient } from '/@/app/environment'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport type { InstagramMediaItem } from '/@/server/getters/instagram'\nimport { delayPromise } from '/@/utils/delayer'\nimport tunnel from '/@/services/tunnel'\n\nconst LENS_NORMAL_DELAY = 480\n\nexport const useLensStore = defineStore('lens', {\n  state: () => ({\n    instagram: {\n      fetching: false,\n      data: [] as Array<InstagramMediaItem>\n    },\n    youtube: {\n      fetching: false,\n      data: [] as Array<any>\n    }\n  }),\n  actions: {\n    fetchInstagramMedias() {\n      this.instagram.fetching = true\n      const fetch = tunnel.dispatch(TunnelModule.InstagramMedias)\n      const delayed = isClient ? delayPromise(LENS_NORMAL_DELAY, fetch) : fetch\n      return delayed\n        .then((response) => {\n          this.instagram.data = response\n        })\n        .finally(() => {\n          this.instagram.fetching = false\n        })\n    },\n    fetchYouTubePlaylist() {\n      if (this.youtube.data.length) {\n        return Promise.resolve()\n      }\n\n      this.youtube.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.YouTubePlaylist)\n        .then((response) => {\n          response.sort((a, b) => a.snippet.position - b.snippet.position)\n          this.youtube.data = response\n        })\n        .finally(() => {\n          this.youtube.fetching = false\n        })\n    },\n    fetchYouTubeVideoList(playlistID: string) {\n      const fetch = tunnel.dispatch(TunnelModule.YouTubeVideoList, { id: playlistID })\n      return isClient ? delayPromise(LENS_NORMAL_DELAY, fetch) : fetch\n    }\n  }\n})\n","/**\n * @file Random number\n * @module util.random\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const randomNumber = (max: number): number => {\n  return Math.floor(Math.random() * max) + 1\n}\n","<template>\n  <ul class=\"skeletons\" :style=\"{ gridTemplateColumns: `repeat(${columns}, 1fr)` }\">\n    <div class=\"item\" :style=\"{ height: `${height}px` }\" v-for=\"item in columns * rows\" :key=\"item\">\n      <skeleton-base />\n    </div>\n  </ul>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    name: 'LensSkeleton',\n    props: {\n      columns: {\n        type: Number,\n        required: true\n      },\n      rows: {\n        type: Number,\n        default: 2\n      },\n      height: {\n        type: Number,\n        required: true\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .skeletons {\n    padding: 0;\n    display: grid;\n    grid-gap: $gap * 2;\n\n    .item {\n      padding: $gap;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n    }\n  }\n</style>\n","<template>\n  <popup :visible=\"visible\" @close=\"handleGalleryClose\">\n    <div class=\"instagram-gallery\">\n      <div class=\"topbar\">\n        <div class=\"left\">\n          <span class=\"timestamp\">\n            <i class=\"iconfont icon-clock\"></i>\n            <span class=\"text\">\n              <udate to=\"YMDm\" :date=\"galleryActiveMedia.timestamp\" separator=\"/\" />\n            </span>\n          </span>\n        </div>\n        <div class=\"center\">\n          <span class=\"pagination\">{{ galleryActiveIndex + 1 }} / {{ medias.length }}</span>\n        </div>\n        <div class=\"right\">\n          <span class=\"caption\" v-if=\"galleryActiveMedia.caption\">\n            <i class=\"iconfont icon-camera\"></i>\n            <span class=\"text\">{{ galleryActiveMedia.caption }}</span>\n            <divider type=\"vertical\" />\n          </span>\n          <ulink class=\"link\" :href=\"galleryActiveMedia.permalink\">\n            <i class=\"iconfont instagram icon-instagram\"></i>\n            <span class=\"text\">On Instagram</span>\n            <i class=\"iconfont window icon-new-window-s\"></i>\n          </ulink>\n        </div>\n      </div>\n      <button\n        class=\"navigation prev\"\n        :disabled=\"galleryActiveIndex === 0\"\n        @click=\"galleryPrevSlide\"\n      >\n        <i class=\"iconfont icon-prev\" />\n      </button>\n      <button\n        class=\"navigation next\"\n        :disabled=\"galleryActiveIndex === medias.length - 1\"\n        @click=\"galleryNextSlide\"\n      >\n        <i class=\"iconfont icon-next\" />\n      </button>\n      <swiper\n        effect=\"fade\"\n        :fade-effect=\"{ crossFade: true }\"\n        :initial-slide=\"index\"\n        :mousewheel=\"true\"\n        :observe-parents=\"true\"\n        :grab-cursor=\"false\"\n        :preload-images=\"false\"\n        :lazy=\"true\"\n        :simulate-touch=\"false\"\n        @swiper=\"handleGallerySwiperReady\"\n        @transition-start=\"handleGallerySwiperTransitionStart\"\n      >\n        <swiper-slide v-for=\"(media, i) in medias\" :key=\"i\">\n          <div\n            class=\"image swiper-lazy\"\n            :data-background=\"getInstagramImage(media)\"\n            :alt=\"media.caption\"\n          />\n          <div class=\"swiper-lazy-preloader swiper-lazy-preloader-white\"></div>\n        </swiper-slide>\n      </swiper>\n    </div>\n  </popup>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType } from 'vue'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import { getInstagramImage } from '/@/transforms/media'\n\n  enum GalleryEvents {\n    Close = 'close'\n  }\n\n  export default defineComponent({\n    name: 'LensInstagramGallery',\n    components: {\n      Swiper,\n      SwiperSlide\n    },\n    props: {\n      medias: {\n        type: Array as PropType<Array<InstagramMediaItem>>,\n        required: true\n      },\n      index: {\n        type: Number,\n        default: 0\n      },\n      visible: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [GalleryEvents.Close],\n    setup(props, context) {\n      const galleryActiveIndex = ref<number>(props.index)\n      const gallerySwiper = ref<SwiperClass>()\n      const galleryActiveMedia = computed(() => props.medias[galleryActiveIndex.value])\n      const galleryPrevSlide = () => gallerySwiper.value?.slidePrev()\n      const galleryNextSlide = () => gallerySwiper.value?.slideNext()\n      const handleGallerySwiperReady = (_swiper: SwiperClass) => {\n        gallerySwiper.value = _swiper\n      }\n      const handleGallerySwiperTransitionStart = () => {\n        galleryActiveIndex.value = gallerySwiper.value?.activeIndex || 0\n      }\n      const handleGalleryClose = () => {\n        context.emit(GalleryEvents.Close)\n      }\n\n      return {\n        galleryActiveIndex,\n        galleryActiveMedia,\n        getInstagramImage,\n        handleGalleryClose,\n        handleGallerySwiperReady,\n        handleGallerySwiperTransitionStart,\n        galleryPrevSlide,\n        galleryNextSlide\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .instagram-gallery {\n    width: 88vw;\n    height: 76vh;\n    position: relative;\n    background: $black !important;\n\n    .swiper {\n      height: 100%;\n\n      .image {\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n        background-size: contain;\n        background-position: center;\n      }\n    }\n\n    .topbar {\n      position: absolute;\n      top: 0;\n      left: 0;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 4rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: $font-size-h4;\n      background-color: rgba($black, 0.4);\n      color: $white;\n      z-index: $z-index-normal + 2;\n\n      .left,\n      .right,\n      .center {\n        display: inline-flex;\n        align-items: center;\n      }\n      .left {\n        width: 40%;\n        justify-content: start;\n      }\n      .center {\n        width: 20%;\n        justify-content: center;\n      }\n      .right {\n        width: 40%;\n        justify-content: end;\n      }\n\n      .pagination {\n        font-weight: bold;\n      }\n\n      .timestamp,\n      .caption {\n        .iconfont {\n          margin-right: $sm-gap;\n        }\n      }\n\n      .timestamp {\n        margin-left: $lg-gap;\n        color: rgba($white, 0.6);\n      }\n\n      .caption {\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .link {\n        display: inline-flex;\n        align-items: center;\n        height: 28px;\n        padding: 0 $sm-gap;\n        margin-right: $gap;\n        border-radius: $xs-radius;\n        color: $white;\n        background: $instagram-gradient;\n\n        .instagram {\n          margin-right: $sm-gap;\n        }\n        .text {\n          font-size: $font-size-base;\n          font-weight: bold;\n        }\n        .window {\n          margin-left: $sm-gap;\n        }\n      }\n    }\n\n    .navigation {\n      display: inline-block;\n      position: absolute;\n      top: 33%;\n      height: 33%;\n      width: 4rem;\n      z-index: $z-index-normal + 2;\n      font-size: $font-size-h1 * 2;\n      color: $module-bg;\n      &[disabled] {\n        opacity: 0.4;\n      }\n      &:not([disabled]):hover {\n        color: $module-bg-lighter;\n      }\n\n      &.prev {\n        left: $gap;\n      }\n      &.next {\n        right: $gap;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"instagram-grid\">\n    <ul class=\"medias\" ref=\"listElement\">\n      <li\n        class=\"media\"\n        :key=\"index\"\n        v-for=\"(media, index) in medias\"\n        :title=\"media.caption\"\n        @click=\"handleGalleryOpen(index)\"\n      >\n        <div class=\"mask\">\n          <span class=\"icon\">\n            <i class=\"iconfont icon-magnifier\"></i>\n          </span>\n        </div>\n        <div class=\"background lozad\" :data-background-image=\"getInstagramImage(media, 'm')\" />\n      </li>\n    </ul>\n    <client-only>\n      <gallery\n        :medias=\"medias\"\n        :index=\"galleryActiveIndex\"\n        :visible=\"isOnGallery\"\n        @close=\"handleGalleryClose\"\n      />\n    </client-only>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType, onMounted, onBeforeUnmount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { UNDEFINED } from '/@/constants/value'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LozadObserver, LOZAD_CLASS_NAME, LOADED_CLASS_NAME } from '/@/effects/lozad'\n  import { getInstagramImage } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import Gallery from './gallery.vue'\n\n  export default defineComponent({\n    name: 'LensInstagramGrid',\n    components: {\n      Gallery\n    },\n    props: {\n      medias: {\n        type: Array as PropType<Array<InstagramMediaItem>>,\n        required: true\n      }\n    },\n    setup() {\n      const { gtag } = useEnhancer()\n      const galleryActiveIndex = ref<number>()\n      const isOnGallery = computed(() => galleryActiveIndex.value !== UNDEFINED)\n      const handleGalleryClose = () => {\n        galleryActiveIndex.value = UNDEFINED\n      }\n      const handleGalleryOpen = (index: number) => {\n        galleryActiveIndex.value = index\n        gtag?.event('instagram_view', {\n          event_category: GAEventCategories.Lens\n        })\n      }\n\n      const listElement = ref<HTMLElement>()\n      const lozadObserver = ref<LozadObserver | null>(null)\n      const observeLozad = () => {\n        const lozadElements = listElement.value?.querySelectorAll(`.${LOZAD_CLASS_NAME}`)\n        if (lozadElements?.length) {\n          lozadObserver.value = window.$lozad(lozadElements, {\n            loaded: (element) => element.classList.add(LOADED_CLASS_NAME)\n          })\n          lozadObserver.value.observe()\n        }\n      }\n\n      onMounted(() => {\n        observeLozad()\n      })\n\n      onBeforeUnmount(() => {\n        lozadObserver.value?.observer.disconnect()\n        lozadObserver.value = null\n      })\n\n      return {\n        listElement,\n        isOnGallery,\n        galleryActiveIndex,\n        getInstagramImage,\n        handleGalleryOpen,\n        handleGalleryClose\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n  $size: 155px;\n\n  .medias {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    grid-gap: $gap * 2;\n\n    .media {\n      position: relative;\n      display: block;\n      height: $size;\n      overflow: hidden;\n      cursor: pointer;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n      &:hover {\n        .background {\n          transform: scale(1.15);\n        }\n\n        .mask {\n          @include visible();\n          .icon {\n            transform: scale(1);\n          }\n        }\n      }\n\n      .background {\n        width: 100%;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n        transform: scale(1.05);\n        @include transform-transition($transition-time-normal);\n      }\n\n      .length {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        z-index: $z-index-normal + 1;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        width: 4rem;\n        height: 2rem;\n        border-top-left-radius: $xs-radius;\n        background-color: $text-divider;\n        color: $white;\n      }\n\n      .mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        z-index: $z-index-normal + 1;\n        background-color: rgba(#000, 0.3);\n        color: rgba($white, 0.8);\n        @include backdrop-blur(2px);\n        @include hidden();\n        @include visibility-transition();\n\n        .icon {\n          font-size: 3em;\n          transform: scale(1.2);\n          @include transform-transition($transition-time-normal);\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"list-swiper\">\n    <div class=\"navigation prev\">\n      <button class=\"button\" :disabled=\"!listSwiperState.canPrev\" @click=\"listPrevSlide\">\n        <i class=\"iconfont icon-prev\" />\n      </button>\n    </div>\n    <div class=\"navigation next\">\n      <button class=\"button\" :disabled=\"!listSwiperState.canNext\" @click=\"listNextSlide\">\n        <i class=\"iconfont icon-next\" />\n      </button>\n    </div>\n    <swiper\n      class=\"swiper\"\n      :autoplay=\"true\"\n      :mousewheel=\"false\"\n      :grab-cursor=\"false\"\n      :allow-touch-move=\"false\"\n      :slides-per-view=\"columns\"\n      :slides-per-group=\"columns\"\n      :grid=\"{ rows: rows, fill: 'row' }\"\n      :space-between=\"24\"\n      @swiper=\"handleListSwiperReady\"\n      @slide-change=\"handleListSlideChange\"\n    >\n      <swiper-slide class=\"slide-item\" :key=\"index\" v-for=\"(item, index) in data\">\n        <slot name=\"item\" v-bind=\"{ item, index }\"></slot>\n      </swiper-slide>\n    </swiper>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, reactive, onMounted, onBeforeUnmount, PropType } from 'vue'\n  import { LozadObserver, LOZAD_CLASS_NAME, LOADED_CLASS_NAME } from '/@/effects/lozad'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  export default defineComponent({\n    name: 'LensListSwiper',\n    components: {\n      Swiper,\n      SwiperSlide\n    },\n    props: {\n      data: {\n        type: Array as PropType<Array<any>>,\n        required: true\n      },\n      rows: {\n        type: Number,\n        default: 2\n      },\n      columns: {\n        type: Number,\n        default: 5\n      }\n    },\n    setup() {\n      const lozadObserver = ref<LozadObserver | null>(null)\n      const listSwiperState = reactive({ canPrev: false, canNext: true })\n      const listSwiper = ref<SwiperClass>()\n      const listPrevSlide = () => listSwiper.value?.slidePrev()\n      const listNextSlide = () => listSwiper.value?.slideNext()\n      const handleListSlideChange = (_swiper: SwiperClass) => {\n        listSwiperState.canNext = !_swiper.isEnd\n        listSwiperState.canPrev = !_swiper.isBeginning\n      }\n      const handleListSwiperReady = (_swiper: SwiperClass) => {\n        listSwiper.value = _swiper\n        handleListSlideChange(_swiper)\n      }\n\n      const observeLozad = () => {\n        const lozadElements = listSwiper.value?.el.querySelectorAll(`.${LOZAD_CLASS_NAME}`)\n        if (lozadElements?.length) {\n          lozadObserver.value = window.$lozad(lozadElements, {\n            loaded: (element) => element.classList.add(LOADED_CLASS_NAME)\n          })\n          lozadObserver.value.observe()\n        }\n      }\n\n      onMounted(() => {\n        observeLozad()\n      })\n\n      onBeforeUnmount(() => {\n        lozadObserver.value?.observer.disconnect()\n        lozadObserver.value = null\n      })\n\n      return {\n        handleListSwiperReady,\n        handleListSlideChange,\n        listSwiperState,\n        listPrevSlide,\n        listNextSlide\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .list-swiper {\n    position: relative;\n    &:hover {\n      .navigation {\n        opacity: 1;\n      }\n    }\n\n    .navigation {\n      $size: 8rem;\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: $size;\n      display: flex;\n      align-items: center;\n      opacity: 0;\n      transition: all $transition-time-fast;\n      &.prev {\n        left: -$size;\n        justify-content: start;\n      }\n      &.next {\n        right: -$size;\n        justify-content: end;\n      }\n\n      .button {\n        font-size: $font-size-h2 * 2;\n        color: $text-disabled;\n        &[disabled] {\n          color: $text-divider;\n        }\n        &:not([disabled]):hover {\n          color: $text;\n        }\n      }\n    }\n\n    .swiper {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n    }\n  }\n</style>\n","<template>\n  <placeholder :data=\"videos\" :loading=\"isFetching\">\n    <template #placeholder>\n      <slot name=\"empty\"></slot>\n    </template>\n    <template #loading>\n      <slot name=\"loading\"></slot>\n    </template>\n    <template #default>\n      <list-swiper :data=\"videos\">\n        <template #item=\"{ item }\">\n          <div class=\"video\" @click=\"handleView(item)\">\n            <div class=\"thumb\">\n              <div class=\"mask\">\n                <div class=\"button\">\n                  <i class=\"iconfont icon-music-play\" />\n                </div>\n              </div>\n              <span class=\"published-at\">\n                <i class=\"iconfont icon-clock\"></i>\n                <span class=\"text\">\n                  <udate to=\"ago\" :date=\"item.snippet.publishedAt\" />\n                </span>\n              </span>\n              <div\n                class=\"background lozad\"\n                :data-background-image=\"getThumbURL(item.snippet.thumbnails)\"\n              />\n            </div>\n            <h5 class=\"title\">{{ item.snippet.title }}</h5>\n            <div class=\"description\">{{ item.snippet.description || '-' }}</div>\n          </div>\n        </template>\n      </list-swiper>\n    </template>\n  </placeholder>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useLensStore } from '/@/stores/lens'\n  import { LanguageKey } from '/@/language'\n  import { ProxyModule } from '/@/constants/proxy'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { getTargetProxyURL } from '/@/transforms/url'\n  import ListSwiper from '../swiper.vue'\n\n  export enum YoutubeVideoListEvents {\n    View = 'view'\n  }\n\n  export default defineComponent({\n    name: 'LensYoutubeVideoList',\n    components: { ListSwiper },\n    props: {\n      playlistId: {\n        type: String,\n        required: true\n      }\n    },\n    emits: [YoutubeVideoListEvents.View],\n    setup(props, context) {\n      const { gtag } = useEnhancer()\n      const lensStore = useLensStore()\n      const isFetching = ref(true)\n      const videos = ref<Array<any>>([])\n      const fetchVideos = async () => {\n        try {\n          isFetching.value = true\n          videos.value = await lensStore.fetchYouTubeVideoList(props.playlistId)\n        } catch (error) {\n          videos.value = []\n        } finally {\n          isFetching.value = false\n        }\n      }\n\n      const getThumbURL = (thumbnails: any) => {\n        const url = thumbnails.high?.url || thumbnails.medium?.url || thumbnails.defult?.url\n        return url ? getTargetProxyURL(url, ProxyModule.YouTube) : ''\n      }\n\n      const handleView = (video: any) => {\n        context.emit(YoutubeVideoListEvents.View, video)\n        gtag?.event('youtube_view', {\n          event_category: GAEventCategories.Lens\n        })\n      }\n\n      onMounted(() => {\n        fetchVideos()\n      })\n\n      return {\n        LanguageKey,\n        isFetching,\n        videos,\n        getThumbURL,\n        handleView\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .video {\n    display: block;\n    height: 166px;\n    cursor: pointer;\n    @include radius-box($sm-radius);\n    @include common-bg-module();\n    &:hover {\n      .thumb {\n        .background {\n          transform: scale(1.1);\n        }\n\n        .mask {\n          @include visible();\n          .button {\n            transform: scale(1);\n          }\n        }\n      }\n\n      .title {\n        color: $link-color;\n      }\n    }\n\n    .thumb {\n      width: 100%;\n      height: 106px;\n      position: relative;\n      overflow: hidden;\n      background-color: $module-bg-darker-3;\n\n      .background {\n        width: 100%;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n        transform: scale(1);\n        @include transform-transition($transition-time-normal);\n      }\n\n      .published-at {\n        position: absolute;\n        bottom: $sm-gap;\n        right: 1rem;\n        z-index: $z-index-normal + 1;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: 2rem;\n        padding: 0 $sm-gap;\n        border-radius: $sm-radius;\n        background-color: rgba(#000, 0.3);\n        font-size: $font-size-small;\n        color: $white;\n\n        .iconfont {\n          margin-right: $xs-gap;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: $z-index-normal + 1;\n        background-color: rgba(#000, 0.4);\n        @include hidden();\n        @include visibility-transition();\n\n        .button {\n          opacity: 0.88;\n          font-size: 3em;\n          text-align: center;\n          color: rgba($white, 0.8);\n          transform: scale(1.2);\n          @include transform-transition($transition-time-normal);\n        }\n      }\n    }\n\n    .title,\n    .description {\n      padding: 0 0.7em;\n    }\n\n    .title {\n      margin-top: $sm-gap;\n      margin-bottom: 0.4em;\n      font-weight: bold;\n      color: $text;\n      max-width: 90%;\n      @include text-overflow();\n    }\n\n    .description {\n      max-width: 95%;\n      font-size: $font-size-h5 - 1;\n      color: $text-secondary;\n      @include text-overflow();\n    }\n  }\n</style>\n","<template>\n  <div class=\"youtube-playlist\">\n    <ul class=\"playlist\">\n      <li class=\"item\" :title=\"list.title\" :key=\"index\" v-for=\"(list, index) in playlists\">\n        <slot name=\"title\" v-bind=\"{ list, index }\"></slot>\n        <youtube-video-list :playlist-id=\"list.id\" @view=\"openYouTubeModal\">\n          <template #empty>\n            <slot name=\"empty\"></slot>\n          </template>\n          <template #loading>\n            <slot name=\"loading\"></slot>\n          </template>\n        </youtube-video-list>\n      </li>\n    </ul>\n    <client-only>\n      <popup :visible=\"isOnYouTubeModal\" @close=\"closeYouTubeModal\">\n        <iframe class=\"youtube-modal\" :src=\"youTubeModalURL\" />\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, PropType } from 'vue'\n  import { UNDEFINED } from '/@/constants/value'\n  import { getYouTubeVideoEmbedURL } from '/@/transforms/media'\n  import YoutubeVideoList from './videos.vue'\n\n  export default defineComponent({\n    name: 'LensPageYoutubePlaylist',\n    components: {\n      YoutubeVideoList\n    },\n    props: {\n      playlists: {\n        type: Array as PropType<Array<any>>,\n        required: true\n      }\n    },\n    setup() {\n      const youtubeModalVideo = ref<any>(null)\n      const isOnYouTubeModal = computed(() => Boolean(youtubeModalVideo.value))\n      const youTubeModalURL = computed(() => {\n        const video = youtubeModalVideo.value\n        return video\n          ? getYouTubeVideoEmbedURL(video.snippet.resourceId.videoId, video.snippet.playlistId)\n          : UNDEFINED\n      })\n      const openYouTubeModal = (video: any) => {\n        youtubeModalVideo.value = video\n      }\n      const closeYouTubeModal = () => {\n        youtubeModalVideo.value = null\n      }\n\n      return {\n        isOnYouTubeModal,\n        youTubeModalURL,\n        openYouTubeModal,\n        closeYouTubeModal\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .youtube-modal {\n    width: 88vw;\n    height: 76vh;\n    position: relative;\n    background: $black !important;\n  }\n\n  .youtube-playlist {\n    .playlist {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n    }\n  }\n</style>\n","<template>\n  <div class=\"lens-page\" :class=\"{ dark: isDarkTheme }\">\n    <page-banner :blur=\"false\" :position=\"36\" :image=\"bannerImageURL\">\n      <template #title>\n        <i18n zh=\"凡心所向，素履以往\" en=\"Because it's there\" />\n      </template>\n      <template #description>\n        <i18n>\n          <template #zh>生如逆旅，一苇以航</template>\n          <template #en>\"why did you want to climb mount Everest?\"</template>\n        </i18n>\n      </template>\n    </page-banner>\n    <div class=\"container\">\n      <page-title class=\"module-title instagram\" :level=\"4\">\n        <ulink class=\"link\" :href=\"VALUABLE_LINKS.INSTAGRAM\">Newest · instagram</ulink>\n      </page-title>\n      <placeholder :data=\"instagramMedias\" :loading=\"lensStore.instagram.fetching\">\n        <template #placeholder>\n          <empty class=\"module-empty\" key=\"empty\">\n            <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n          </empty>\n        </template>\n        <template #loading>\n          <lens-skeleton\n            :columns=\"6\"\n            :rows=\"2\"\n            :height=\"155\"\n            key=\"loading\"\n            class=\"module-loading\"\n          />\n        </template>\n        <template #default>\n          <div class=\"module-content\">\n            <instagram-grid :medias=\"instagramMedias\" />\n          </div>\n        </template>\n      </placeholder>\n      <div class=\"module-content\">\n        <youtube-playlist :playlists=\"youtubeLists\">\n          <template #title=\"{ list }\">\n            <page-title class=\"module-title youtube\" :level=\"5\">\n              <template #left>\n                <ulink class=\"link\" :href=\"getYouTubePlaylistURL(list.id)\">\n                  {{ list.snippet.title }}\n                  ({{ list.contentDetails.itemCount }})\n                </ulink>\n              </template>\n              <template #right>\n                <span class=\"brand\">YouTube · Channel</span>\n              </template>\n            </page-title>\n          </template>\n          <template #loading>\n            <lens-skeleton\n              :columns=\"5\"\n              :rows=\"1\"\n              :height=\"166\"\n              key=\"loading\"\n              class=\"module-loading\"\n            />\n          </template>\n          <template #empty>\n            <empty class=\"module-empty\" key=\"empty\">\n              <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n            </empty>\n          </template>\n        </youtube-playlist>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useLensStore } from '/@/stores/lens'\n  import { useUniversalFetch, universalRef } from '/@/universal'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n  import { Language, LanguageKey } from '/@/language'\n  import { getYouTubePlaylistURL } from '/@/transforms/media'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { randomNumber } from '/@/utils/random'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n  import PageTitle from '/@/components/common/fullpage/title.vue'\n  import LensSkeleton from './skeleton.vue'\n  import InstagramGrid from './instagram/grid.vue'\n  import YoutubePlaylist from './youtube/playlist.vue'\n\n  export default defineComponent({\n    name: 'LensPage',\n    components: {\n      PageBanner,\n      PageTitle,\n      LensSkeleton,\n      InstagramGrid,\n      YoutubePlaylist\n    },\n    setup() {\n      const { i18n, meta, isDarkTheme, isZhLang } = useEnhancer()\n      const lensStore = useLensStore()\n      const instagramMedias = computed(() => {\n        return lensStore.instagram.data.filter((plog) => plog.media_type !== 'VIDEO').slice(0, 24)\n      })\n      const youtubeLists = computed(() => {\n        return lensStore.youtube.data.filter((list) => list.contentDetails.itemCount > 1)\n      })\n      const bannerImageURL = universalRef(\n        'page-lens-banner',\n        () => `/images/page-lens/banner-${randomNumber(2)}.jpg`\n      )\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_LENS, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_LENS), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `${META.author} 的视频创作` }\n      })\n\n      const fetchAllData = () => {\n        return Promise.all([\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          lensStore.fetchInstagramMedias().catch(() => {}),\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          lensStore.fetchYouTubePlaylist().catch(() => {})\n        ])\n      }\n\n      useUniversalFetch(() => fetchAllData())\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        getYouTubePlaylistURL,\n        lensStore,\n        instagramMedias,\n        youtubeLists,\n        isDarkTheme,\n        bannerImageURL\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .lens-page {\n    .module-title {\n      .link {\n        color: $text-secondary;\n        font-weight: bold;\n        &:hover {\n          color: $link-color;\n        }\n      }\n\n      &.instagram {\n        --item-primary: #{$instagram-primary};\n        background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n      }\n\n      &.youtube {\n        --item-primary: #{$youtube-primary};\n        background: linear-gradient(to right, $module-bg-opaque, transparent);\n\n        .icon {\n          color: var(--item-primary);\n          margin-right: $sm-gap;\n          font-size: $font-size-h3;\n          font-weight: normal;\n        }\n\n        .brand {\n          color: $text-disabled;\n          font-size: $font-size-small;\n        }\n      }\n    }\n\n    .module-empty {\n      min-height: 12rem;\n      margin-bottom: $gap * 2;\n      font-weight: bold;\n      font-size: $font-size-h3;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n    }\n\n    .module-loading {\n      margin-bottom: $gap * 2;\n    }\n\n    .module-content {\n      margin-bottom: $gap * 2;\n    }\n  }\n</style>\n","/**\n * @file Email URL\n * @module transform.email\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport qs from 'qs'\n\nexport interface EmailLinkOptions {\n  email: string\n  subject?: string\n  body?: string\n}\nexport const emailLink = (email: string | EmailLinkOptions) => {\n  if (typeof email === 'string') {\n    return `mailto:${email}`\n  }\n\n  const { email: _email, ...content } = email\n  return `mailto:${_email}?` + qs.stringify(content)\n}\n","<template>\n  <div class=\"job-page\">\n    <page-banner :blur=\"false\" image=\"/images/page-job/banner-2.jpg\">\n      <template #title>\n        <i18n zh=\"内推找我，绝对靠谱\" en=\"We work together\" />\n      </template>\n      <template #description>\n        <i18n zh=\"一手人脉，假一赔万\" en=\"We fight for future together\" />\n      </template>\n    </page-banner>\n    <div class=\"container\">\n      <ul class=\"jobs\">\n        <li class=\"item\" :class=\"job.id\" :key=\"index\" v-for=\"(job, index) in jobs\">\n          <div\n            class=\"logo\"\n            :style=\"{\n              backgroundImage: `url('${getTargetCDNURL(job.logo)}')`\n            }\"\n          >\n            <uimage cdn class=\"qrcode\" :src=\"job.qrcode\" v-if=\"job.qrcode\" />\n          </div>\n          <div class=\"content\">\n            <ulink class=\"title\" :href=\"job.url\">\n              {{ job.company }}\n              <span class=\"location\" v-if=\"job.location\">（{{ job.location }}）</span>\n            </ulink>\n            <p class=\"description\" v-if=\"job.description\" v-html=\"job.description\" />\n            <button class=\"submit\" @click=\"handleSubmit(job)\" v-if=\"job.email\">\n              {{ job.email().replace('@', '#') }}\n              <i class=\"iconfont icon-mail-plane\"></i>\n            </button>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMetaStore } from '/@/stores/meta'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { Language, LanguageKey } from '/@/language'\n  import { getTargetCDNURL } from '/@/transforms/url'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { emailLink } from '/@/transforms/email'\n  import { META } from '/@/config/app.config'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n\n  export default defineComponent({\n    name: 'JobPage',\n    components: {\n      PageBanner\n    },\n    setup() {\n      const { i18n, meta, gtag, isZhLang } = useEnhancer()\n      const adminEmail = computed(() => useMetaStore().appOptions.data?.site_email || '')\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_JOB, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_JOB), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `找 ${META.author} 内推` }\n      })\n\n      const jobs = [\n        {\n          id: 'qiniu',\n          company: '七牛云',\n          logo: '/images/page-job/qiniu.jpg',\n          url: 'https://www.qiniu.com/company',\n          location: '上海',\n          description: '公司赚钱，Leader nice，同事完美，业务靠谱，极少加班',\n          email: () => adminEmail.value\n        },\n        {\n          id: 'bytedance',\n          company: '字节跳动',\n          logo: '/images/page-job/bytedance.jpg',\n          qrcode: '/images/page-job/bytedance-qrcode.png',\n          url: 'https://job.toutiao.com/s/J9oWrQQ',\n          location: '国内',\n          description: '饭好吃，不要钱<br> 薪资不低，加班给钱；马上上市，未来可期',\n          email: () => adminEmail.value\n        },\n        {\n          id: 'meituan',\n          company: '美团点评',\n          logo: '/images/page-job/meituan.png',\n          url: 'http://zhaopin.meituan.com',\n          description: '优惠券多 <br> 技术 OK',\n          email: () => `iamjooger@gmail.com`\n        },\n        {\n          id: 'ant',\n          company: '蚂蚁金服',\n          location: '国内',\n          logo: '/images/page-job/ant.jpg',\n          url: 'https://www.antgroup.com/about/join-us',\n          description: '巨头市值，大牛群居',\n          email: () => adminEmail.value\n        },\n        {\n          id: 'github-veact',\n          company: 'GitHub Veact Project',\n          location: 'remote',\n          logo: '/images/page-job/github.jpg',\n          url: 'https://github.com/veactjs',\n          description: 'Become the maintainer of the <code>veact</code> project',\n          email: () => adminEmail.value\n        },\n        {\n          id: 'todo',\n          company: '假装是广告位',\n          logo: '/images/page-job/github.jpg',\n          description: '如果你有自认为不错的机会，请联系我~',\n          email: () => adminEmail.value\n        }\n      ]\n\n      const handleSubmit = (job: any) => {\n        gtag?.event('job_send_mail', {\n          event_category: GAEventCategories.Universal\n        })\n\n        const location = job.location ? `- ${job.location} ` : ''\n        window.open(\n          emailLink({\n            email: job.email(),\n            subject: `嗨！求内推！/ from ${META.title}`,\n            body: `我想求内推「${job.company} ${location}」的机会/职位，我在简历在附件中。\\n\\nfrom ${META.title}`\n          })\n        )\n      }\n\n      return {\n        jobs,\n        handleSubmit,\n        getTargetCDNURL\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .job-page {\n    .jobs {\n      padding: 0;\n      margin: $gap * 2 0;\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      grid-gap: $gap * 2;\n\n      .item {\n        display: block;\n        height: auto;\n        @include radius-box($sm-radius);\n        @include common-bg-module();\n\n        .logo {\n          width: 100%;\n          height: 16rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          overflow: hidden;\n          background-color: $module-bg-darker-2;\n          background-size: cover;\n          background-position: center;\n\n          .qrcode {\n            height: 50%;\n            background-color: $white;\n            @include radius-box($sm-radius);\n          }\n        }\n\n        .content {\n          padding: $lg-gap;\n\n          .title {\n            margin: 0;\n            font-weight: bold;\n            font-size: $font-size-h4;\n            border-bottom: 1px solid transparent;\n            &:hover {\n              text-decoration: none;\n              border-color: initial;\n            }\n\n            .location {\n              font-weight: normal;\n            }\n          }\n\n          .description {\n            margin-top: $gap;\n            margin-bottom: 0;\n            line-height: 2;\n          }\n\n          .submit {\n            $height: 2.4em;\n            display: block;\n            width: 100%;\n            margin-top: $lg-gap;\n            line-height: $height;\n            border: 1px solid;\n            border-color: $primary;\n            color: $primary;\n            font-size: $font-size-small;\n            text-align: center;\n            letter-spacing: 1px;\n            transition: color $transition-time-fast, background-color $transition-time-fast;\n            @include radius-box($xs-radius);\n\n            &:hover {\n              color: $text-reversal;\n              background-color: $primary;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <li class=\"product\">\n    <div\n      class=\"image\"\n      :style=\"{\n        backgroundImage: `url('${product.src}')`,\n        ...imageStyle\n      }\"\n    ></div>\n    <div class=\"content\">\n      <ulink class=\"title\" :href=\"product.url\">\n        {{ product.name }}\n      </ulink>\n      <p class=\"description\" v-html=\"product.description\" />\n    </div>\n    <div class=\"detail\">\n      <p class=\"text\">\n        {{ product.detail || '暂无描述' }}\n      </p>\n      <ulink\n        class=\"link\"\n        :href=\"product.url\"\n        @mousedown=\"handleGTagEvent('merch_product_link', product.name)\"\n      >\n        去看看\n        <i class=\"iconfont icon-new-window\"></i>\n      </ulink>\n    </div>\n  </li>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType, CSSProperties } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { GAEventCategories } from '/@/constants/gtag'\n  export interface ProductItem {\n    name: string\n    description: string\n    detail: string\n    src: string\n    url: string\n  }\n\n  export default defineComponent({\n    name: 'MerchProductItem',\n    props: {\n      product: {\n        type: Object as PropType<ProductItem>,\n        required: true\n      },\n      imageStyle: {\n        type: Object as PropType<CSSProperties>,\n        required: false\n      }\n    },\n    setup() {\n      const { gtag } = useEnhancer()\n      const handleGTagEvent = (event: string, label: string) => {\n        gtag?.event(event, {\n          event_category: GAEventCategories.Universal,\n          event_label: label\n        })\n      }\n\n      return { handleGTagEvent }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .product {\n    display: block;\n    height: auto;\n    position: relative;\n    @include radius-box($sm-radius);\n    @include common-bg-module();\n    &:hover {\n      .detail {\n        @include visible();\n      }\n    }\n\n    .image {\n      width: 100%;\n      height: 245px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      overflow: hidden;\n      background-color: $white;\n      background-size: cover;\n      background-position: center;\n    }\n\n    .content {\n      padding: $lg-gap;\n\n      .title {\n        margin: 0;\n        font-weight: bold;\n        font-size: $font-size-h4;\n        text-transform: capitalize;\n        border-bottom: 1px solid transparent;\n        &:hover {\n          text-decoration: none;\n          border-color: initial;\n        }\n      }\n\n      .description {\n        margin-top: $sm-gap;\n        margin-bottom: 0;\n        line-height: 1.6;\n      }\n    }\n\n    .detail {\n      display: block;\n      width: 100%;\n      padding: $gap;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      background-color: $module-bg;\n      @include backdrop-blur(5px);\n      @include hidden();\n      @include visibility-transition();\n\n      .text {\n        line-height: $line-height-base * 1.4;\n      }\n\n      .link {\n        $height: 2.4em;\n        display: block;\n        width: 100%;\n        margin-top: $lg-gap;\n        line-height: $height;\n        border: 1px solid;\n        border-color: $primary;\n        color: $primary;\n        font-size: $font-size-small;\n        text-align: center;\n        letter-spacing: 1px;\n        transition: color $transition-time-fast, background-color $transition-time-fast;\n        @include radius-box($xs-radius);\n\n        &:hover {\n          color: $text-reversal;\n          background-color: $primary;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"merch-page\">\n    <page-banner :blur=\"false\" :position=\"70\" image=\"/images/page-merch/banner.jpg\">\n      <template #title>\n        <i18n zh=\"亲身体验，真实不虚\" en=\"Merch Bar\" />\n      </template>\n      <template #description>\n        <i18n zh=\"手动维护，未用不推\" en=\"Maybe you will like it\" />\n      </template>\n    </page-banner>\n    <div class=\"container\">\n      <page-title class=\"title\" id=\"products\">我在用的推荐好物</page-title>\n      <ul class=\"product-list\">\n        <product-item :key=\"index\" :product=\"product\" v-for=\"(product, index) in products\" />\n      </ul>\n      <page-title class=\"title\" id=\"brokers\">我筛选后在用的港美股券商</page-title>\n      <ul class=\"product-list\">\n        <product-item\n          :key=\"index\"\n          :product=\"broker\"\n          :image-style=\"{ backgroundSize: '50%' }\"\n          v-for=\"(broker, index) in brokers\"\n        />\n      </ul>\n      <div class=\"end\"></div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { Language, LanguageKey } from '/@/language'\n  import { META } from '/@/config/app.config'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { firstUpperCase } from '/@/transforms/text'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n  import PageTitle from '/@/components/common/fullpage/title.vue'\n  import ProductItem from './product.vue'\n\n  export default defineComponent({\n    name: 'MerchPage',\n    components: {\n      PageBanner,\n      PageTitle,\n      ProductItem\n    },\n    setup() {\n      const { i18n, meta, isZhLang, adConfig } = useEnhancer()\n      const products = computed(() => adConfig.value.PC_MERCH_PRODUCTS)\n      const brokers = computed(() => adConfig.value.PC_MERCH_BROKERS)\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_MERCH, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_MERCH), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | '), description: `${META.author} 的周边好物` }\n      })\n\n      return {\n        products,\n        brokers\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .merch-page {\n    .title {\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .product-list {\n      margin: 0;\n      padding: 0;\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap * 2;\n    }\n\n    .end {\n      height: $gap * 2;\n    }\n  }\n</style>\n","<template>\n  <div class=\"freelancer-page\">\n    <page-banner :position=\"66\" class=\"page-banner\" image=\"/images/page-feeelancer/banner.jpg\">\n      <template #title>\n        <div class=\"title\">\n          <i18n :k=\"LanguageKey.PAGE_FREELANCER_SLOGAN\" />\n        </div>\n      </template>\n      <template #description>\n        <div class=\"desc\">\n          <button class=\"submit-email\" title=\"Email me\" @click=\"handleSubmitEmail\">\n            <i18n :k=\"LanguageKey.PAGE_FREELANCER_EMAIL_ME\" />\n          </button>\n          <ulink class=\"upwork\" :href=\"VALUABLE_LINKS.UPWORK\">\n            <i18n>\n              <template #zh>或在<i class=\"iconfont icon-upwork\"></i>雇佣我</template>\n              <template #en>Hire me on<i class=\"iconfont icon-upwork\"></i></template>\n            </i18n>\n          </ulink>\n        </div>\n      </template>\n    </page-banner>\n    <div class=\"module\">\n      <div class=\"container\">\n        <ul class=\"module-list\">\n          <li class=\"item\" :key=\"index\" v-for=\"(service, index) in services\">\n            <p class=\"icon\" :class=\"service.id\">\n              <i class=\"iconfont\" :class=\"service.iconfont\"></i>\n            </p>\n            <h3 class=\"name\">\n              <span v-if=\"typeof service.name === 'string'\">{{ service.name }}</span>\n              <i18n v-else :en=\"service.name.en\" :zh=\"service.name.zh\" />\n            </h3>\n            <p class=\"desc\" :key=\"i\" v-for=\"(desc, i) in service.descriptions\">\n              <i18n :en=\"desc.en\" :zh=\"desc.zh\" />\n            </p>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <client-only transition>\n      <div class=\"module\">\n        <div class=\"container\">\n          <Adsense\n            class=\"mammon\"\n            ins-class=\"mammon-ins\"\n            ins-style=\"display:inline-block;width:1026px;height:200px\"\n            data-ad-slot=\"3013952710\"\n          />\n        </div>\n      </div>\n    </client-only>\n    <div class=\"step\">\n      <div class=\"step-content container\">\n        <ul class=\"step-list\">\n          <li class=\"item\" :key=\"index\" v-for=\"(step, index) in steps\">\n            <h3 class=\"name\">\n              <i18n :zh=\"step.name.zh\" :en=\"step.name.en\" />\n            </h3>\n            <p class=\"desc\" :key=\"i\" v-for=\"(desc, i) in step.descriptions\">\n              <i18n :en=\"desc.en\" :zh=\"desc.zh\" />\n            </p>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"rule\">\n      <div class=\"rule-content container\">\n        <i18n\n          zh=\"如果你认为自己的能力足以支撑一位出色、省心、优秀、帅气、完美的的全栈工程师的生产力，请 EMail 我；非常优秀，没有之一\"\n          en=\"Any application that can be written in JavaScript, will eventually be written in JavaScript.\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { Language, LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMetaStore } from '/@/stores/meta'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { emailLink } from '/@/transforms/email'\n  import PageBanner from '/@/components/common/fullpage/banner.vue'\n\n  export default defineComponent({\n    name: 'FreelancerPage',\n    components: {\n      PageBanner\n    },\n    setup() {\n      const { i18n, meta, gtag, isZhLang } = useEnhancer()\n      const metaStore = useMetaStore()\n\n      meta(() => {\n        const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_FREELANCER, Language.English)!)\n        const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_FREELANCER), enTitle] : [enTitle]\n        return { pageTitle: titles.join(' | ') }\n      })\n\n      const handleSubmitEmail = () => {\n        gtag?.event('freelance_send_email', {\n          event_category: GAEventCategories.Universal\n        })\n\n        window.open(\n          emailLink({\n            email: metaStore.appOptions.data?.site_email!,\n            subject: isZhLang.value\n              ? `嗨！Surmon，久仰大名！`\n              : `Technical consultant / ${META.title}`,\n            body: isZhLang.value\n              ? `我有一个需求：\\n\\n - 需求简述： \\n - 需求文档：\\n - 预算金额：\\n - 预算周期：`\n              : `Hi! Surmon, I\\'m ?`\n          })\n        )\n      }\n\n      const services = [\n        {\n          id: 'web',\n          iconfont: 'icon-html5',\n          name: {\n            zh: 'Web 客户端',\n            en: 'Web Client'\n          },\n          descriptions: [\n            { zh: 'Vue 应用开发', en: 'Vue application' },\n            { en: 'React application', zh: 'React 应用开发' },\n            { en: 'Angular application', zh: 'Angular 应用开发' }\n          ]\n        },\n        {\n          id: 'nodejs',\n          iconfont: 'icon-nodejs',\n          name: 'Node.js',\n          descriptions: [\n            { en: 'Node.js application', zh: 'Node.js 整站建设' },\n            { en: 'Node.js online bussniess', zh: 'Node.js Web 服务开发' },\n            { en: 'Node.js CLI application', zh: 'Node.js 命令行工具开发' }\n          ]\n        },\n        {\n          id: 'app',\n          iconfont: 'icon-app',\n          name: {\n            zh: '混合应用',\n            en: 'Hybrid App'\n          },\n          descriptions: [\n            { en: 'Flutter application', zh: 'Flutter 应用开发' },\n            { en: 'React Native application', zh: 'React Native 应用开发' },\n            { en: 'Electron application', zh: 'Electron 应用开发' }\n          ]\n        },\n        {\n          id: 'wechat',\n          iconfont: 'icon-wechat',\n          name: {\n            zh: '微信周边',\n            en: 'WeChat'\n          },\n          descriptions: [\n            { en: 'HTML5 web page', zh: 'H5 开发' },\n            { en: 'WeChat official account', zh: '公众号开发' },\n            { en: 'WeChat mini program', zh: '小程序开发' }\n          ]\n        },\n        {\n          id: 'consult',\n          iconfont: 'icon-tool',\n          name: {\n            zh: '技术咨询',\n            en: 'Consultant'\n          },\n          descriptions: [\n            { en: 'Everything about web', zh: '语言、框架疑难杂症' },\n            { en: 'Business and technical', zh: '业务与技术方案设计' },\n            { en: 'Technical consultant', zh: '长期技术顾问指导' }\n          ]\n        }\n      ]\n\n      const steps = [\n        {\n          name: {\n            zh: '1. 提交需求',\n            en: '1. Consult'\n          },\n          descriptions: [\n            { en: 'Product requirements document', zh: '提供构思成熟的需求文档' },\n            { en: 'Prototype design document', zh: '清晰可用的设计图或原型' }\n          ]\n        },\n        {\n          name: {\n            zh: '2. 确认需求',\n            en: '2. Confirm'\n          },\n          descriptions: [\n            { en: 'Price and schedule', zh: '确认报价及开发周期' },\n            { en: 'Development cycle', zh: '协商开发周期和要点' }\n          ]\n        },\n        {\n          name: {\n            zh: '3. 预付开发',\n            en: '3. Develop'\n          },\n          descriptions: [\n            { en: 'Payment the trust and deposit', zh: '预付部分或全部' },\n            { en: 'Develop project', zh: '进入开发流程' }\n          ]\n        },\n        {\n          name: {\n            zh: '4. 预收修正',\n            en: '4. Review'\n          },\n          descriptions: [\n            { en: 'Review and experience', zh: '提供预览演示' },\n            { en: 'Fixbug and optimize', zh: '细节修正调优' }\n          ]\n        },\n        {\n          name: {\n            zh: '5. 交付维护',\n            en: '5. Delivery'\n          },\n          descriptions: [\n            { en: 'Pay balance', zh: '付清尾款，交付项目' },\n            { en: 'Maintenance cycle', zh: '一定周期内持续维护' }\n          ]\n        }\n      ]\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        services,\n        steps,\n        handleSubmitEmail\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .freelancer-page {\n    width: 100%;\n\n    .page-banner {\n      .title {\n        font-family: 'webfont-normal', DINRegular;\n      }\n\n      .desc {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n\n        .submit-email {\n          display: block;\n          margin-bottom: 2rem;\n          width: 10rem;\n          border: 1px solid;\n          border-color: $white;\n          line-height: 3.8rem;\n          text-align: center;\n          letter-spacing: 1px;\n          font-weight: bold;\n          text-transform: uppercase;\n          color: $white;\n          transition: color $transition-time-fast, border-color $transition-time-fast;\n          @include radius-box($xs-radius);\n          &:hover {\n            color: $primary;\n            border-color: $primary;\n          }\n        }\n\n        .upwork {\n          color: $white;\n          border-bottom: 1px solid;\n          border-color: transparent;\n          font-size: $font-size-h5;\n          transition: color $transition-time-fast, border-color $transition-time-fast;\n          &:hover {\n            color: $primary;\n            border-color: $primary;\n          }\n\n          .iconfont {\n            margin: 0 $sm-gap;\n          }\n        }\n      }\n    }\n\n    .module {\n      margin: ($gap * 2) auto;\n\n      .module-list {\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n        display: flex;\n        justify-content: space-between;\n\n        > .item {\n          flex: 1;\n          width: auto;\n          height: auto;\n          padding-top: $lg-gap;\n          padding-bottom: $gap;\n          overflow: hidden;\n          text-align: center;\n          margin-right: $gap * 2;\n          @include radius-box($sm-radius);\n          @include common-bg-module($transition-time-fast);\n          &:last-child {\n            margin-right: 0;\n          }\n\n          &:hover {\n            background-color: $module-bg-opaque;\n\n            .desc {\n              color: $text;\n            }\n          }\n\n          > .icon {\n            @include color-transition($transition-time-fast);\n            &.web {\n              color: $html5-primary;\n            }\n            &.nodejs {\n              color: $nodejs-primary;\n            }\n            &.app {\n              color: $primary;\n            }\n            &.wechat {\n              color: $wechat-primary;\n            }\n            &.consult {\n              color: $stackoverflow-primary;\n            }\n\n            .iconfont {\n              font-size: $font-size-h3 * 3;\n            }\n          }\n\n          > .desc {\n            @include color-transition($transition-time-fast);\n            color: $text-disabled;\n            margin-bottom: 1.2em;\n          }\n        }\n      }\n    }\n\n    .mammon {\n      height: calc(200px + $gap * 2);\n      padding: $gap;\n      @include common-bg-module();\n      @include radius-box($sm-radius);\n    }\n\n    .step {\n      @include common-bg-module();\n\n      > .step-content {\n        > .step-list {\n          height: 16rem;\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n          display: flex;\n          justify-content: space-between;\n\n          > .item {\n            width: 20%;\n            height: auto;\n            padding-top: $gap;\n            text-align: center;\n\n            > .desc {\n              color: $text-disabled;\n            }\n          }\n        }\n      }\n    }\n\n    .rule {\n      height: 5rem;\n      line-height: 5rem;\n      background-color: $primary;\n\n      .rule-content {\n        color: $text-reversal;\n        margin: 0 auto;\n        text-align: center;\n      }\n    }\n  }\n</style>\n","/**\n * @file App router\n * @module app.router\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport {\n  RouteRecordRaw,\n  NavigationGuard,\n  NavigationGuardNext,\n  RouterHistory,\n  createRouter\n} from 'vue-router'\nimport { LanguageKey } from '/@/language'\nimport { NOT_FOUND, BAD_REQUEST } from '/@/constants/error'\nimport { isValidDateParam } from '/@/transforms/validate'\nimport { scrollToPageTop } from '/@/utils/scroller'\nimport { LayoutColumn } from './state'\n\n// mobile flow\nimport MobileFlow from '/@/components/flow/mobile/index.vue'\n// desktop flow\nimport IndexFlowPage from '/@/pages/index/index.vue'\nimport CategoryFlowPage from '/@/pages/category.vue'\nimport TagFlowPage from '/@/pages/tag.vue'\nimport DateFlowPage from '/@/pages/date.vue'\nimport SearchFlowPage from '/@/pages/search.vue'\n\n// core pages\nimport ArticleDetailPage from '/@/pages/article/index.vue'\nimport ArchivePage from '/@/pages/archive.vue'\nimport AboutDesktopPage from '/@/pages/about/desktop.vue'\nimport AboutMobilePage from '/@/pages/about/mobile.vue'\nimport GuestbookPage from '/@/pages/guestbook.vue'\nimport AppPage from '/@/pages/app.vue'\n\n// service pages\nimport LensPage from '/@/pages/lens/index.vue'\nimport JobPage from '/@/pages/job.vue'\nimport MerchPage from '/@/pages/merch/index.vue'\nimport FreelancerPage from '/@/pages/freelancer.vue'\n\nimport 'vue-router'\n\ndeclare module 'vue-router' {\n  interface RouteMeta {\n    responsive?: boolean\n    layout?: LayoutColumn\n    validate?: (params: any) => Promise<any>\n    /** seconds | infinity | false: disabled  */\n    ssrCacheAge: number | false\n  }\n}\n\nexport enum CategorySlug {\n  Code = 'code',\n  Insight = 'insight'\n}\n\nexport enum RouteName {\n  Home = 'home',\n  Article = 'article-detail',\n  CategoryFlow = 'category-flow',\n  TagFlow = 'tag-flow',\n  DateFlow = 'date-flow',\n  SearchFlow = 'search-flow',\n  Archive = 'archive',\n  Guestbook = 'guestbook',\n  About = 'about',\n  App = 'app',\n  Freelancer = 'freelancer',\n  Job = 'job',\n  Merch = 'merch',\n  Lens = 'lens',\n  Error = 'error'\n}\n\nexport const routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    name: RouteName.Home,\n    components: {\n      default: IndexFlowPage,\n      mobile: MobileFlow\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 60 * 2 // 2 mins\n    }\n  },\n  {\n    path: '/article/:article_id',\n    name: RouteName.Article,\n    components: {\n      default: ArticleDetailPage,\n      mobile: ArticleDetailPage\n    },\n    props: {\n      default: (to) => ({ articleId: Number(to.params.article_id) }),\n      mobile: (to) => ({\n        isMobile: true,\n        articleId: Number(to.params.article_id)\n      })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 30, // 30 seconds\n      async validate({ route, i18n }) {\n        if (!Number.isInteger(Number(route.params.article_id))) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Article ID → <number>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/category/:category_slug',\n    name: RouteName.CategoryFlow,\n    components: {\n      default: CategoryFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ categorySlug: to.params.category_slug }),\n      mobile: (to) => ({ categorySlug: to.params.category_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 60 * 2, // 2 mins\n      async validate({ route, i18n }) {\n        const { category_slug } = route.params\n        if (!category_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Category slug → <string>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/tag/:tag_slug',\n    name: RouteName.TagFlow,\n    components: {\n      default: TagFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ tagSlug: to.params.tag_slug }),\n      mobile: (to) => ({ tagSlug: to.params.tag_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 60 * 2, // 2 mins\n      async validate({ route, i18n }) {\n        const { tag_slug } = route.params\n        if (!tag_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Tag slug → <string>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/date/:date',\n    name: RouteName.DateFlow,\n    components: {\n      default: DateFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ date: to.params.date }),\n      mobile: (to) => ({ date: to.params.date })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 60 * 60 * 24, // 24 hours\n      async validate({ route, i18n }) {\n        const { date } = route.params\n        if (!date || !isValidDateParam(date)) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + `Invalid date ${date || ''}`\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/search/:keyword',\n    name: RouteName.SearchFlow,\n    components: {\n      default: SearchFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ keyword: to.params.keyword }),\n      mobile: (to) => ({ searchKeyword: to.params.keyword })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: false,\n      async validate({ route, i18n }) {\n        if (!route.params.keyword) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Keywords ?'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/archive',\n    name: RouteName.Archive,\n    components: {\n      default: ArchivePage,\n      mobile: ArchivePage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: 60 * 60 // 1 hours\n    }\n  },\n  {\n    path: '/about',\n    name: RouteName.About,\n    components: {\n      default: AboutDesktopPage,\n      mobile: AboutMobilePage\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: 60 * 60 * 4 // 4 hours\n    }\n  },\n  {\n    path: '/guestbook',\n    name: RouteName.Guestbook,\n    components: {\n      default: GuestbookPage,\n      mobile: GuestbookPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      ssrCacheAge: 60 * 1 // 1 mins\n    }\n  },\n  {\n    path: '/app',\n    name: RouteName.App,\n    components: {\n      default: AppPage,\n      mobile: AppPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: Infinity\n    }\n  },\n  {\n    path: '/merch',\n    name: RouteName.Merch,\n    component: MerchPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: 60 * 60 * 12 // 12 hours\n    }\n  },\n  {\n    path: '/lens',\n    name: RouteName.Lens,\n    component: LensPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: 60 * 60 * 1 // 1 hours\n    }\n  },\n  {\n    path: '/job',\n    name: RouteName.Job,\n    component: JobPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: Infinity\n    }\n  },\n  {\n    path: '/freelancer',\n    name: RouteName.Freelancer,\n    component: FreelancerPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheAge: Infinity\n    }\n  },\n  {\n    name: RouteName.Error,\n    path: '/:error(.*)',\n    component: {},\n    meta: {\n      ssrCacheAge: false,\n      async validate({ i18n }) {\n        return Promise.reject({\n          code: NOT_FOUND,\n          message: i18n.t(LanguageKey.NOT_FOUND)\n        })\n      }\n    }\n  }\n]\n\nexport interface RouterCreatorOptions {\n  history: RouterHistory\n  beforeMiddleware?: NavigationGuard | NavigationGuard[]\n  afterMiddleware?: NavigationGuardNext | NavigationGuardNext[]\n}\nexport const createUniversalRouter = (options: RouterCreatorOptions) => {\n  const router = createRouter({\n    routes,\n    strict: true,\n    history: options.history,\n    linkActiveClass: 'link-active',\n    scrollBehavior: () => scrollToPageTop()\n  })\n\n  if (options.beforeMiddleware) {\n    Array.isArray(options.beforeMiddleware)\n      ? options.beforeMiddleware.forEach(router.beforeResolve)\n      : router.beforeResolve(options.beforeMiddleware)\n  }\n  if (options.afterMiddleware) {\n    Array.isArray(options.afterMiddleware)\n      ? options.afterMiddleware.forEach(router.afterEach)\n      : router.afterEach(options.afterMiddleware)\n  }\n\n  return router\n}\n","/**\n * @file Route transformer\n * @module transform.route\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteName, CategorySlug } from '/@/app/router'\n\ntype RouteRecordName = string | symbol | null | undefined\n\nexport const getTagFlowRoute = (tagSlug: string) => {\n  return `/tag/${tagSlug}`\n}\n\nexport const getCategoryFlowRoute = (categorySlug: string | CategorySlug) => {\n  return `/category/${categorySlug}`\n}\n\nexport const getDateFlowRoute = (date: string) => {\n  return `/date/${date}`\n}\n\nexport const getArticleDetailRoute = (articleID: string | number) => {\n  return `/article/${articleID}`\n}\n\nexport const getPageRoute = (routeName: RouteName) => {\n  return `/${routeName}`\n}\n\nexport const isArticleDetail = (name: RouteRecordName) => name === RouteName.Article\nexport const isSearchFlow = (name: RouteRecordName) => name === RouteName.SearchFlow\nexport const isGuestbook = (name: RouteRecordName) => name === RouteName.Guestbook\nexport const isFreelancer = (name: RouteRecordName) => name === RouteName.Freelancer\nexport const isApp = (name: RouteRecordName) => name === RouteName.App\n","/**\n * @file Site inner link transformer\n * @module transform.relink\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { TagMap } from '/@/stores/tag'\nimport { getTagFlowRoute } from './route'\n\nexport default (text: string, tagMap: TagMap) => {\n  const tagNames = Object.keys(tagMap).sort((prev, next) => next.length - prev.length)\n  const tagRegexp = eval(`/${tagNames.join('|')}/ig`)\n\n  // 如果是 URL 则不处理\n  try {\n    new URL(text)\n    return text\n  } catch (error) {\n    return text.replace(tagRegexp, (tagText) => {\n      const foundTag = tagMap.get(tagText)\n\n      if (!foundTag || text[0] === '#') {\n        return tagText\n      }\n\n      const slug = foundTag.slug\n      const path = getTagFlowRoute(slug)\n      const command = `window.$app.config.globalProperties.$router.push({ path: \\'${path}\\' });return false`\n      return `<a href=\\\"${path}\\\" title=\\\"${foundTag.description}\\\" onclick=\\\"${command}\\\">${tagText}</a>`\n    })\n  }\n}\n","/**\n * @file Markdown parser\n * @module transform.markdown\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport sanitizeHTML from 'sanitize-html'\nimport { marked, Renderer } from 'marked'\nimport highlight from '/@/effects/highlight'\nimport { TagMap } from '/@/stores/tag'\nimport { LOZAD_CLASS_NAME } from '/@/effects/lozad'\nimport { escape } from '/@/transforms/text'\nimport relink from '/@/transforms/relink'\nimport API_CONFIG from '/@/config/api.config'\nimport { META } from '/@/config/app.config'\n\nconst trimHTML = (html: string) => html.replace(/\\s+/g, ' ').replace(/\\n/g, ' ')\ninterface RendererGetterOption {\n  sanitize: boolean\n  text: (text: string) => string\n  headingID: (html: string, level: number, raw: string) => string\n}\nconst getRenderer = (options?: Partial<RendererGetterOption>) => {\n  const renderer = new Renderer()\n\n  // text\n  renderer.text = (text) => {\n    return options?.text ? options.text(text) : text\n  }\n\n  // html: escape > sanitize\n  renderer.html = (html) => {\n    // https://github.com/apostrophecms/sanitize-html#default-options\n    return options?.sanitize ? sanitizeHTML(escape(html)) : html\n  }\n\n  // heading\n  renderer.heading = (html, level, raw) => {\n    const idText = options?.headingID ? `id=\"${options.headingID(html, level, raw)}\"` : ''\n    const safeRaw = escape(raw)\n    return `<h${level} ${idText} alt=\"${safeRaw}\" title=\"${safeRaw}\">${html}</h${level}>`\n  }\n\n  // paragraph\n  renderer.paragraph = (text) => `<p>${text}</p>`\n\n  // checkbox\n  renderer.checkbox = (checked) => {\n    return checked\n      ? `<i class=\"checkbox checked iconfont icon-checkbox-selected\"></i>`\n      : `<i class=\"checkbox iconfont icon-checkbox-unselected\"></i>`\n  }\n\n  // link: sanitize\n  renderer.link = (href, title, text) => {\n    const isSelf = href?.startsWith(META.url)\n    const textIsImage = text.includes('<img')\n    const linkHTML = trimHTML(`<a\n      href=\"${href}\"\n      target=\"_blank\"\n      class=\"${textIsImage ? 'image-link' : 'link'}\"\n      title=\"${title || (textIsImage ? href : text)}\"\n      ${isSelf ? '' : 'rel=\"external nofollow noopener\"'}\n    >${text}</a>`)\n\n    return !options?.sanitize\n      ? linkHTML\n      : sanitizeHTML(linkHTML, {\n          allowedTags: ['a'],\n          allowedAttributes: {\n            a: ['href', 'target', 'class', 'title', 'rel', 'data-*']\n          }\n        })\n  }\n\n  // image: sanitize > popup\n  renderer.image = (src, title, alt) => {\n    // HTTP > proxy\n    const source = src?.replace(/^http:\\/\\//gi, `${API_CONFIG.PROXY}/`)\n    const imageHTML = trimHTML(`\n      <img\n        class=\"${LOZAD_CLASS_NAME}\"\n        data-src=\"${source}\"\n        title=\"${title || alt || META.domain}\"\n        alt=\"${alt || title || source}\"\n        onclick=\"window.$popup?.vImage('${source}')\"\n      />\n    `)\n\n    return !options?.sanitize\n      ? imageHTML\n      : sanitizeHTML(imageHTML, {\n          allowedTags: ['img'],\n          allowedAttributes: {\n            img: ['alt', 'onclick', 'class', 'title', 'data-*']\n          }\n        })\n  }\n\n  // code: line number\n  renderer.code = function (code, lang, isEscaped) {\n    if (renderer.options.highlight) {\n      const output = renderer.options.highlight(code, lang || '')\n      if (output != null && output !== code) {\n        isEscaped = true\n        code = output\n      }\n    }\n\n    const lineNumbers = code\n      .split('\\n')\n      .map((_, i) => `<li class=\"code-line-number\">${i + 1}</li>`.replace(/\\s+/g, ' '))\n      .join('')\n\n    const readOnlyAttrs = `\n      contenteditable=\"true\"\n      oncut=\"return false\"\n      onpaste=\"return false\"\n      onkeydown=\"if(event.metaKey) return true; return false;\"\n    `\n\n    return lang\n      ? `\n        <pre data-lang=\"${lang}\">\n          <ul class=\"code-lines\">${lineNumbers}</ul>\n          <code\n            ${readOnlyAttrs}\n            class=\"${renderer.options.langPrefix}${encodeURI(lang)}\"\n          >${isEscaped ? code : encodeURI(code)}\\n</code>\n        </pre>\\n\n      `\n      : `\n        <pre>\n          <ul class=\"code-lines\">${lineNumbers}</ul>\n          <code ${readOnlyAttrs}>${isEscaped ? code : encodeURI(code)}\\n</code>\n        </pre>\n      `\n  }\n\n  return renderer\n}\n\nmarked.setOptions({\n  gfm: true,\n  breaks: false,\n  pedantic: false,\n  smartLists: true,\n  smartypants: false,\n  langPrefix: 'hljs language-',\n  highlight(code, language) {\n    return highlight.getLanguage(language)\n      ? highlight.highlight(code, { language }).value\n      : highlight.highlightAuto(code).value\n  }\n})\n\nexport interface MarkdownRenderOption {\n  sanitize?: boolean\n  relink?: boolean\n  tagMap?: TagMap\n  headingIDRenderer?: RendererGetterOption['headingID']\n}\nexport const markdownToHTML = (markdown: string, options?: MarkdownRenderOption) => {\n  if (!markdown || typeof markdown !== 'string') {\n    return ''\n  }\n\n  const parseOptions: marked.MarkedOptions = {\n    renderer: getRenderer({ headingID: options?.headingIDRenderer })\n  }\n\n  // relink\n  if (options?.relink) {\n    parseOptions.renderer = getRenderer({\n      text: (text) => relink(text, options.tagMap as TagMap),\n      headingID: options?.headingIDRenderer\n    })\n  }\n\n  // sanitize\n  if (options?.sanitize) {\n    parseOptions.renderer = getRenderer({ sanitize: true, headingID: options?.headingIDRenderer })\n  }\n\n  return marked.parse(markdown, parseOptions)\n}\n","/**\n * @file Article state\n * @module store.article\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { Language } from '/@/language'\nimport { LONG_ARTICLE_THRESHOLD } from '/@/config/app.config'\nimport { OriginState, UniversalKeyValue } from '/@/constants/state'\nimport { getArticleContentHeadingElementID } from '/@/constants/anchor'\nimport { markdownToHTML } from '/@/transforms/markdown'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/app/environment'\nimport { useUniversalStore } from './universal'\nimport { Category } from './category'\nimport { Tag } from './tag'\nimport nodepress from '/@/services/nodepress'\n\nexport const ARTICLE_API_PATH = '/article'\n\nexport interface Article {\n  id: number\n  _id: string\n  title: string\n  description: string\n  content: string\n  keywords: string[]\n  thumb: string\n  origin: OriginState\n  tag: Tag[]\n  category: Category[]\n  lang: Language\n  disabled_comment: boolean\n  meta: {\n    likes: number\n    views: number\n    comments: number\n  }\n  update_at: string\n  create_at: string\n  extends: UniversalKeyValue[]\n}\n\nexport const useArticleListStore = defineStore('article', {\n  state: () => ({\n    hotList: {\n      fetched: false,\n      fetching: false,\n      data: [] as Array<Article>\n    },\n    list: {\n      fetching: false,\n      data: [] as Array<Article>,\n      pagination: null as null | $TODO\n    }\n  }),\n  actions: {\n    // 获取文章列表\n    fetchList(params: any = {}) {\n      const isRestart = !params.page || params.page === 1\n      const isLoadMore = !isRestart && params.page > 1\n\n      // 清空已有数据\n      if (isRestart) {\n        this.list.data = []\n        this.list.pagination = null\n      }\n\n      this.list.fetching = true\n      const fetch = nodepress.get<any>(ARTICLE_API_PATH, { params })\n      const promise = isClient ? delayPromise(520, fetch) : fetch\n      return promise\n        .then((response) => {\n          if (isLoadMore) {\n            this.list.data.push(...response.result.data)\n            this.list.pagination = response.result.pagination\n          } else {\n            this.list.data = response.result.data\n            this.list.pagination = response.result.pagination\n          }\n        })\n        .finally(() => {\n          this.list.fetching = false\n        })\n    },\n\n    // 获取最热文章列表\n    fetchHottestList() {\n      if (this.hotList.fetched) {\n        return Promise.resolve()\n      }\n\n      this.hotList.fetching = true\n      return nodepress\n        .get(`${ARTICLE_API_PATH}/hottest`)\n        .then((response) => {\n          this.hotList.data = response.result\n          this.hotList.fetched = true\n        })\n        .finally(() => {\n          this.hotList.fetching = false\n        })\n    }\n  }\n})\n\nexport interface ArticleHeading {\n  text: string\n  level: number\n  id: string\n}\nconst renderArticleMarkdown = (markdown: string): { html: string; headings: ArticleHeading[] } => {\n  const headings: Array<ArticleHeading> = []\n  const html = markdownToHTML(markdown, {\n    sanitize: false,\n    relink: false,\n    headingIDRenderer: (html, level, raw) => {\n      const id = getArticleContentHeadingElementID(\n        level,\n        raw.toLowerCase().replace(/[^a-zA-Z0-9\\u4E00-\\u9FA5]+/g, '-')\n      )\n      headings.push({ level, id, text: raw })\n      return id\n    }\n  })\n\n  return { html, headings }\n}\n\nexport const useArticleDetailStore = defineStore('articleDetail', {\n  state: () => ({\n    fetching: false,\n    article: null as null | Article,\n    prevArticle: null as null | Article,\n    nextArticle: null as null | Article,\n    relatedArticles: [] as Article[],\n    renderedFullContent: true\n  }),\n  getters: {\n    contentLength(): number {\n      return this.article?.content.length || 0\n    },\n    readMinutes(): number {\n      const minutes = Math.round(this.contentLength / 400)\n      return minutes < 1 ? 1 : minutes\n    },\n    isLongContent(): boolean {\n      return Boolean(this.article && this.contentLength >= LONG_ARTICLE_THRESHOLD)\n    },\n    splitIndex(): number | null {\n      if (!this.article || !this.isLongContent) {\n        return null\n      }\n\n      const halfIndex = Math.floor(this.contentLength / 2)\n      const index =\n        halfIndex >= LONG_ARTICLE_THRESHOLD ? Math.floor(LONG_ARTICLE_THRESHOLD * 0.68) : halfIndex\n      // 坐标优先级：H5 > H4 > H3 > \\n\\n\n      const shortContent = this.article.content.substring(0, index)\n      const lastH5Index = shortContent.lastIndexOf('\\n####')\n      const lastH4Index = shortContent.lastIndexOf('\\n####')\n      const lastH3Index = shortContent.lastIndexOf('\\n###')\n      const lastLineIndex = shortContent.lastIndexOf('\\n\\n')\n      const splitIndex = Math.max(lastH5Index, lastH4Index, lastH3Index, lastLineIndex)\n      // console.log('-----content length', this.contentLength, index, splitIndex)\n      return splitIndex\n    },\n    defaultContent(): null | { markdown: string; html: string; headings: ArticleHeading[] } {\n      if (!this.article) {\n        return null\n      }\n      const markdown = this.isLongContent\n        ? this.article.content.substring(0, this.splitIndex!)\n        : this.article.content\n      const { html, headings } = renderArticleMarkdown(markdown)\n      return {\n        markdown,\n        html,\n        headings\n      }\n    },\n    moreContent(): null | { markdown: string; html: string; headings: ArticleHeading[] } {\n      if (this.article && this.isLongContent) {\n        const markdown = this.article.content.substring(this.splitIndex!)\n        const { html, headings } = renderArticleMarkdown(markdown)\n        return {\n          markdown,\n          html,\n          headings\n        }\n      }\n      return null\n    }\n  },\n  actions: {\n    renderFullContent() {\n      this.renderedFullContent = true\n    },\n\n    fetchArticleDetail(articleID: number) {\n      this.article = null\n      const fetch = nodepress.get(`${ARTICLE_API_PATH}/${articleID}`)\n      const promise = isClient ? delayPromise(580, fetch) : fetch\n      return promise.then((response) => {\n        this.article = response.result\n        this.renderedFullContent = !this.isLongContent\n      })\n    },\n\n    fetchArticleContext(articleID: number) {\n      this.prevArticle = null\n      this.nextArticle = null\n      this.relatedArticles = []\n      return nodepress.get(`${ARTICLE_API_PATH}/${articleID}/context`).then((response) => {\n        this.prevArticle = response.result.prev_article\n        this.nextArticle = response.result.next_article\n        this.relatedArticles = response.result.related_articles\n      })\n    },\n\n    fetchCompleteArticle(params: { articleID: number }) {\n      this.fetching = true\n      return Promise.all([\n        this.fetchArticleDetail(params.articleID),\n        this.fetchArticleContext(params.articleID)\n      ]).finally(() => {\n        this.fetching = false\n      })\n    },\n\n    postArticleLike(articleID: number) {\n      const universalStore = useUniversalStore()\n      return nodepress\n        .post(`/vote/article`, { article_id: articleID, vote: 1, author: universalStore.author })\n        .then((response) => {\n          if (this.article) {\n            this.article.meta.likes = response.result\n          }\n        })\n    }\n  }\n})\n","/**\n * @file Wallpaper state\n * @module store.wallpaper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { Language } from '/@/language'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\nexport const useWallpaperStore = defineStore('wallpaper', {\n  state: () => ({\n    fetching: false,\n    wallpapers: null as any as {\n      [lang in Language]: Array<any>\n    }\n  }),\n  getters: {\n    papers: (state) => {\n      return (language: Language) => state.wallpapers?.[language]\n    }\n  },\n  actions: {\n    fetchPapers() {\n      // return data when exists\n      if (this.wallpapers) {\n        return Promise.resolve()\n      }\n\n      this.fetching = true\n      return tunnel\n        .dispatch(TunnelModule.BingWallpaper)\n        .then((response) => {\n          this.wallpapers = response\n        })\n        .finally(() => {\n          this.fetching = false\n        })\n    }\n  }\n})\n","/**\n * @file Root store\n * @module store\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createPinia, Pinia } from 'pinia'\nimport { GlobalState } from '/@/app/state'\nimport { getSSRContext } from '/@/universal'\n\nimport { useAnnouncementStore } from './announcement'\nimport { useArchiveStore } from './archive'\nimport { useArticleListStore, useArticleDetailStore } from './article'\nimport { useCategoryStore } from './category'\nimport { useTagStore } from './tag'\nimport { useCommentStore } from './comment'\nimport { useUniversalStore } from './universal'\nimport { useMetaStore } from './meta'\nimport { useLensStore } from './lens'\nimport { useTwitterStore } from './twitter'\nimport { useWallpaperStore } from './wallpaper'\nimport { useArticleCalendarStore } from './aggregate'\n\nexport const useStores = (_pinia?: Pinia) => ({\n  announcement: useAnnouncementStore(_pinia),\n  archive: useArchiveStore(_pinia),\n  articleList: useArticleListStore(_pinia),\n  articleDetail: useArticleDetailStore(_pinia),\n  category: useCategoryStore(_pinia),\n  tag: useTagStore(_pinia),\n  comment: useCommentStore(_pinia),\n  universal: useUniversalStore(_pinia),\n  meta: useMetaStore(_pinia),\n  lens: useLensStore(_pinia),\n  twitter: useTwitterStore(_pinia),\n  wallpaper: useWallpaperStore(_pinia),\n  articleCalendar: useArticleCalendarStore(_pinia)\n})\n\nexport interface UniversalStoreConfig {\n  globalState: GlobalState\n}\nexport const createUniversalStore = (config: UniversalStoreConfig) => {\n  const pinia = createPinia()\n\n  const fetchBasicStore = () => {\n    // https://pinia.esm.dev/ssr/#using-the-store-outside-of-setup\n    const stores = useStores(pinia)\n    const initFetchTasks = [\n      stores.meta.fetchAppOptions(),\n      stores.category.fetchAll(),\n      stores.tag.fetchAll()\n    ]\n\n    // fetch hot articles when desktop only\n    if (!config.globalState.userAgent.isMobile) {\n      initFetchTasks.push(stores.articleList.fetchHottestList())\n    }\n\n    return Promise.all(initFetchTasks)\n  }\n\n  return {\n    get stores() {\n      return useStores(pinia)\n    },\n    state: pinia.state,\n    install: pinia.install,\n    serverPrefetch: fetchBasicStore,\n    initOnSSRClient() {\n      const contextStore = getSSRContext('store')\n      if (contextStore) {\n        pinia.state.value = contextStore\n      } else {\n        // fallback when SSR page error\n        fetchBasicStore()\n      }\n    },\n    initOnSPAClient() {\n      useStores(pinia).universal.initOnClient()\n      return fetchBasicStore()\n    }\n  }\n}\n","<template>\n  <div v-show=\"loading\" class=\"spinner-box\">\n    <div class=\"spinner-inner\">\n      <div class=\"la-ball-beat\">\n        <div :style=\"spinnerStyle\" />\n        <div :style=\"spinnerStyle\" />\n        <div :style=\"spinnerStyle\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  export default defineComponent({\n    name: 'Spin',\n    props: {\n      loading: {\n        type: Boolean,\n        default: true\n      },\n      color: {\n        type: String,\n        default: 'rgba(197, 197, 197, 0.4)'\n      },\n      height: {\n        type: String,\n        default: '15px'\n      },\n      width: {\n        type: String,\n        default: '15px'\n      },\n      margin: {\n        type: String,\n        default: '5px'\n      }\n    },\n    data() {\n      return {\n        spinnerStyle: {\n          backgroundColor: this.color,\n          height: this.height,\n          width: this.width,\n          margin: this.margin\n        }\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .spinner-box {\n    position: relative;\n    width: 100%;\n    min-height: 50px;\n    height: 100%;\n\n    @keyframes ball-beat {\n      50% {\n        opacity: 0.2;\n        transform: scale(0.75);\n      }\n      100% {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n\n    > .spinner-inner {\n      width: 80px;\n      height: 30px;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-left: -40px;\n      margin-top: -15px;\n\n      > .la-ball-beat {\n        display: block;\n        position: relative;\n        box-sizing: border-box;\n        font-size: 0;\n        color: $white;\n        width: 80px;\n        height: 30px;\n\n        > div {\n          position: relative;\n          box-sizing: border-box;\n          display: inline-block;\n          float: none;\n          border: none;\n          width: 15px;\n          height: 15px;\n          margin: 5px;\n          background-color: $module-bg-hover;\n          animation: ball-beat 0.7s -0.15s infinite linear;\n\n          &:nth-child(2n-1) {\n            animation-delay: -0.5s;\n          }\n        }\n\n        &.la-sm {\n          width: 26px;\n          height: 8px;\n\n          > div {\n            width: 8px;\n            height: 8px;\n            margin: 3px;\n          }\n        }\n\n        &.la-2x {\n          width: 108px;\n          height: 36px;\n\n          > div {\n            width: 20px;\n            height: 20px;\n            margin: 8px;\n          }\n        }\n\n        &.la-3x {\n          width: 162px;\n          height: 54px;\n\n          > div {\n            width: 30px;\n            height: 30px;\n            margin: 12px;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"empty\">\n    <slot>\n      <template v-if=\"placeholder\">{{ placeholder }}</template>\n      <template v-else>\n        <i18n :k=\"i18nKey || LanguageKey.EMPTY_PLACEHOLDER\" />\n      </template>\n    </slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { LanguageKey } from '/@/language'\n  export default defineComponent({\n    name: 'Empty',\n    props: {\n      placeholder: String,\n      i18nKey: String as PropType<LanguageKey>\n    },\n    setup() {\n      return {\n        LanguageKey\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .empty {\n    position: relative;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    min-height: 5em;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    color: $text-divider;\n    letter-spacing: 0.1em;\n  }\n</style>\n","<template>\n  <div role=\"separator\" class=\"divider\" :class=\"[type, size, { dashed }, { slot: $slots.default }]\">\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  export default defineComponent({\n    name: 'Divider',\n    props: {\n      type: {\n        type: String as PropType<'horizontal' | 'vertical'>,\n        default: 'horizontal'\n      },\n      dashed: {\n        type: Boolean,\n        default: false\n      },\n      size: {\n        type: String as PropType<'default' | 'xs' | 'sm' | 'lg'>,\n        default: 'default'\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .divider {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    &.default {\n      #{--divider-gap}: $gap;\n    }\n    &.xs {\n      #{--divider-gap}: $xs-gap;\n    }\n    &.sm {\n      #{--divider-gap}: $sm-gap;\n    }\n    &.lg {\n      #{--divider-gap}: $lg-gap;\n    }\n\n    &.horizontal {\n      display: flex;\n      align-items: center;\n      clear: both;\n      width: 100%;\n      margin: var(--divider-gap) 0;\n      border-top: 1px solid $text-divider;\n      &.slot {\n        border-top: none;\n      }\n    }\n\n    &.vertical {\n      position: relative;\n      top: -0.06em;\n      display: inline-block;\n      height: 0.9em;\n      margin: 0 var(--divider-gap);\n      vertical-align: middle;\n      border-left: 1px solid $text-divider;\n\n      &.slot {\n        display: inline-flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-items: center;\n        justify-content: center;\n        height: 1em;\n        vertical-align: baseline;\n        border-left: none;\n      }\n    }\n\n    &.dashed {\n      border-style: dashed;\n    }\n  }\n</style>\n","/**\n * @file Universal date\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, PropType } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { dateToYMD } from '/@/transforms/moment'\nimport { LanguageKey } from '/@/language'\n\nexport default defineComponent({\n  name: 'Udate',\n  props: {\n    to: {\n      type: String as PropType<'YMD' | 'YMDm' | 'ago'>,\n      required: true\n    },\n    date: {\n      type: [String, Number, Date] as PropType<string | number | Date>,\n      required: true\n    },\n    separator: {\n      type: String,\n      default: '-'\n    }\n  },\n  setup(props) {\n    const { i18n } = useEnhancer()\n\n    return () => {\n      // date\n      const date = props.date instanceof Date ? props.date : new Date(props.date)\n\n      // YYYY-MM-DD\n      if (props.to === 'YMD') {\n        return dateToYMD(date, props.separator)\n      }\n\n      // YYYY-MM-DD mm\n      if (props.to === 'YMDm') {\n        const ymd = dateToYMD(date, props.separator)\n        const meridiem =\n          date.getHours() > 11 ? i18n.t(LanguageKey.MOMENT_PM) : i18n.t(LanguageKey.MOMENT_AM)\n        return `${ymd} ${meridiem}`\n      }\n\n      // timeAgo\n      if (props.to === 'ago') {\n        const pluralize = (time: number, label: string) => {\n          const ago = `${time} ${label}`\n          return i18n.t(LanguageKey.MOMENT_AGO, null, { date: ago })\n        }\n\n        const between = Date.now() / 1000 - Number(date) / 1000\n        const hourS = 3600\n        const dayS = hourS * 24\n        const weekS = dayS * 7\n        const monthS = dayS * 30\n        const yearS = monthS * 12\n\n        if (between < hourS) {\n          return ~~(between / 60) === 0\n            ? i18n.t(LanguageKey.MOMENT_JUST_NOW)\n            : pluralize(~~(between / 60), i18n.t(LanguageKey.MOMENT_MINUTES)!)\n        }\n        if (between < dayS) {\n          return pluralize(~~(between / hourS), i18n.t(LanguageKey.MOMENT_HOURS)!)\n        }\n        if (between < weekS) {\n          return pluralize(~~(between / dayS), i18n.t(LanguageKey.MOMENT_DAYS)!)\n        }\n        if (between < monthS) {\n          return pluralize(~~(between / weekS), i18n.t(LanguageKey.MOMENT_WEEKS)!)\n        }\n        if (between < yearS) {\n          return pluralize(~~(between / monthS), i18n.t(LanguageKey.MOMENT_MONTHS)!)\n        }\n        return pluralize(~~(between / yearS), i18n.t(LanguageKey.MOMENT_YEAR)!)\n      }\n\n      return null\n    }\n  }\n})\n","/**\n * @file Universal Link\n * @description Render Link with external/nofollow/noopener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { AnchorHTMLAttributes, defineComponent, h } from 'vue'\n\nexport default defineComponent({\n  name: 'Ulink',\n  props: {\n    text: String,\n    external: {\n      type: Boolean,\n      default: true\n    },\n    blank: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props, context) {\n    return () => {\n      const { text, external, blank, ...linkAttrs } = props\n      const customAttrs: AnchorHTMLAttributes = {}\n\n      if (external) {\n        customAttrs.rel = 'external nofollow noopener'\n      }\n      if (blank) {\n        customAttrs.target = '_blank'\n      }\n\n      return h(\n        'a',\n        {\n          ...linkAttrs,\n          ...customAttrs\n        },\n        context.slots.default?.() || text\n      )\n    }\n  }\n})\n","/**\n * @file Universal image\n * @description Render image with CDN/Proxy/Defer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { getTargetCDNURL, getTargetProxyURL } from '/@/transforms/url'\nimport { onClient } from '/@/universal'\n\nexport default defineComponent({\n  name: 'Uimage',\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    cdn: Boolean,\n    proxy: Boolean,\n    defer: Boolean\n  },\n  setup(props) {\n    const { defer } = useEnhancer()\n    const deferRenderable = ref(false)\n    if (props.defer) {\n      onClient(() => {\n        defer.addTask(() => {\n          deferRenderable.value = true\n        })\n      })\n    }\n\n    return () => {\n      const { src, cdn, proxy, defer, ...restProps } = props\n\n      let imageSrc = src\n      if (cdn) {\n        imageSrc = getTargetCDNURL(src)\n      }\n      if (proxy) {\n        imageSrc = getTargetProxyURL(src)\n      }\n      if (defer && !deferRenderable.value) {\n        return null\n      }\n\n      return h('img', {\n        draggable: false,\n        ...restProps,\n        src: imageSrc\n      })\n    }\n  }\n})\n","/**\n * @file placeholder\n * @description render placeholder or data\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, h, Transition, PropType } from 'vue'\nimport { LanguageKey } from '/@/language'\nimport Empty from './empty.vue'\nimport Spin from './spin.vue'\n\nexport enum Events {\n  AfterEnter = 'after-enter'\n}\n\n/**\n * @example\n *  <placeholder :loading=\"false\" :data=\"data.length\" :i18n-key=\"LanguageKey.XXX\">\n *    <component />\n *  </placeholder>\n * @example\n *  <placeholder :loading=\"false\" :data=\"data.length\" placeholder=\"empty\">\n *    <component />\n *  </placeholder>\n * @example\n *  <placeholder :loading=\"true\" :data=\"data.length\">\n *    <template #loading> skeleton </template>\n *    <template #placeholder> placeholder </template>\n *    <template #default> <component /> </template>\n *  </placeholder>\n */\nexport default defineComponent({\n  name: 'Placeholder',\n  props: {\n    data: {\n      type: [Array, Object, Boolean, Number],\n      default: undefined\n    },\n    transition: {\n      type: Boolean,\n      default: true\n    },\n    transitionName: {\n      type: String,\n      default: 'module'\n    },\n    placeholder: String,\n    i18nKey: String as PropType<LanguageKey>,\n    loading: Boolean\n  },\n  emits: [Events.AfterEnter],\n  setup(props, context) {\n    return () => {\n      const { data, placeholder, i18nKey, loading, transition, transitionName } = props\n      const isEmptyData =\n        data !== undefined && ((Array.isArray(data) && !(data as any).length) || !data)\n\n      const getPlaceholderView = () => {\n        return placeholder || i18nKey\n          ? h(Empty, { placeholder, i18nKey })\n          : context.slots.placeholder?.()\n      }\n\n      const getDataView = () => {\n        return isEmptyData ? getPlaceholderView() : context.slots.default?.()\n      }\n\n      const getLoadingView = () => {\n        return context.slots.loading?.() || h(Spin, { loading: true })\n      }\n\n      const getView = () => {\n        return loading ? getLoadingView() : getDataView()\n      }\n\n      if (transition) {\n        return h(\n          Transition,\n          {\n            name: transitionName,\n            mode: 'out-in',\n            onAfterEnter(...args) {\n              context.emit(Events.AfterEnter, ...args)\n            }\n          },\n          () => getView()\n        )\n      }\n\n      return getView()\n    }\n  }\n})\n","<template>\n  <div class=\"skeleton base\" :style=\"style\"></div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, CSSProperties } from 'vue'\n  export default defineComponent({\n    name: 'SkeletonBase',\n    props: {\n      width: {\n        type: Number\n      },\n      height: {\n        type: Number\n      },\n      circle: {\n        type: Boolean,\n        default: false\n      },\n      radius: {\n        type: Number,\n        default: 2\n      }\n    },\n    setup(props) {\n      const style = computed<CSSProperties>(() => ({\n        borderRadius: props.circle ? '100%' : `${props.radius}px`,\n        ...(props.width && { width: props.width + 'px' }),\n        ...(props.height && { height: props.height + 'px' })\n      }))\n\n      return {\n        style\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  $skeleton-background: $module-bg;\n  $skeleton-spinner: $module-bg-darker-3;\n\n  @keyframes placeHolderShimmer {\n    0% {\n      background-position: -468px 0;\n    }\n    100% {\n      background-position: 350px 50px;\n    }\n  }\n\n  .skeleton.base {\n    width: 100%;\n    height: 100%;\n    animation-duration: 1s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-name: placeHolderShimmer;\n    animation-timing-function: linear;\n    background-color: $skeleton-spinner;\n    background-image: linear-gradient(\n      to right,\n      $skeleton-background 8%,\n      $skeleton-spinner 18%,\n      $skeleton-background 33%\n    );\n    background-repeat: repeat;\n    background-size: 800px 104px;\n  }\n</style>\n","<template>\n  <div class=\"skeleton line\" :style=\"style\">\n    <skeleton-base />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, CSSProperties } from 'vue'\n  import SkeletonBase from './base.vue'\n  export default defineComponent({\n    name: 'SkeletonLine',\n    components: {\n      SkeletonBase\n    },\n    props: {\n      width: {\n        type: Number\n      },\n      height: {\n        type: Number\n      }\n    },\n    setup(props) {\n      const style = computed<CSSProperties>(() => ({\n        ...(props.width && { width: props.width + 'px' }),\n        ...(props.height && { height: props.height + 'px' })\n      }))\n      return { style }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  .skeleton.line {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n","<template>\n  <div class=\"skeleton paragraph\" :style=\"style\">\n    <skeleton-line\n      v-for=\"(line, index) in lines\"\n      :key=\"index\"\n      :style=\"getLineStyle(index)\"\n      class=\"paragraph-line\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, CSSProperties } from 'vue'\n  import SkeletonLine from './line.vue'\n  export default defineComponent({\n    name: 'SkeletonParagraph',\n    components: {\n      SkeletonLine\n    },\n    props: {\n      lines: {\n        type: Number,\n        default: 1\n      },\n      width: {\n        type: Number\n      },\n      height: {\n        type: Number\n      },\n      align: {\n        type: Boolean,\n        default: false\n      },\n      lineHeight: {\n        type: String,\n        default: '1rem'\n      }\n    },\n    setup(props) {\n      const style = computed<CSSProperties>(() => ({\n        ...(props.width && { width: props.width + 'px' }),\n        ...(props.height && { height: props.height + 'px' })\n      }))\n\n      const getLineStyle = (index: number) => {\n        const style: CSSProperties = {\n          height: props.lineHeight,\n          marginBottom: index === props.lines - 1 ? '0' : `calc(${props.lineHeight} * 0.75)`\n        }\n        const position = index % 3\n        if (position) {\n          const margin = 15 * position\n          style.width = `${100 - margin}%`\n          style.marginLeft = props.align ? '0' : '6%'\n        }\n        return style\n      }\n\n      return {\n        style,\n        getLineStyle\n      }\n    }\n  })\n</script>\n","/**\n * @file responsive\n * @description Render children on desktop platform or mobile platform\n * @author Surmon <https://github.com/surmon-china>\n */\n\n/* eslint-disable vue/one-component-per-file */\nimport { defineComponent } from 'vue'\nimport { useGlobalState } from '/@/app/state'\n\n/**\n * @example <responsive desktop><component /></responsive>\n * @example <responsive mobile><component /></responsive>\n * @example <responsive both><component /></responsive>\n * @example\n *  <responsive>\n *    <template #desktop>Desktop</template>\n *    <template #mobile>Mobile</template>\n *  </responsive>\n */\nexport const Responsive = defineComponent({\n  name: 'Responsive',\n  props: {\n    both: Boolean,\n    desktop: Boolean,\n    mobile: Boolean\n  },\n  setup(props, context) {\n    const globalState = useGlobalState()\n\n    return () => {\n      // render\n      if (props.both) {\n        return context.slots.default?.()\n      }\n      // desktop\n      if (props.desktop && !globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n      // mobile\n      if (props.mobile && globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n\n      // slot mode\n      return globalState.userAgent.isMobile ? context.slots.mobile?.() : context.slots.desktop?.()\n    }\n  }\n})\n\nexport const DesktopOnly = defineComponent({\n  name: 'DesktopOnly',\n  setup(_, context) {\n    const globalState = useGlobalState()\n    return () => !globalState.userAgent.isMobile && context.slots.default?.()\n  }\n})\n","/**\n * @file client only\n * @description only render on client (browser)\n * @description Fork from: https://github.com/egoist/vue-client-only/blob/master/src/index.js\n * @description Fork from: https://github.com/kadirahq/react-no-ssr/blob/master/src/index.js\n * @description Fork from: https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/components/client-only.mjs\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h, onMounted, Transition, cloneVNode } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\n\n/**\n * @description only render on client (browser)\n * @example\n * <client-only placeholder=\"loading...\">\n *    <component />\n * </client-only>\n * @example\n * <client-only :transition=\"true\" :delay=\"668\">\n *    <component />\n * </client-only>\n */\nexport const ClientOnly = defineComponent({\n  name: 'ClientOnly',\n  props: {\n    placeholder: String,\n    placeholderTag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: Boolean,\n      default: false\n    },\n    delay: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, context) {\n    const { globalState } = useEnhancer()\n    // SSR -> hydrated -> render -> no transition\n    const mounted = ref(globalState.isHydrated.value ? true : false)\n\n    onMounted(() => {\n      // SSR inited -> mounted -> render -> transition\n      if (!globalState.isHydrated.value) {\n        const setRender = () => {\n          mounted.value = true\n        }\n        props.delay ? setTimeout(setRender, props.delay) : setRender()\n      }\n    })\n\n    const renderResult = (result, resultKey?: string) => {\n      if (!props.transition) {\n        return result\n      }\n      if (Array.isArray(result) && result.length > 1) {\n        return result\n      }\n      const singleResult = Array.isArray(result) ? result[0] : result\n      return h(Transition, { name: 'client-only', mode: 'out-in' }, () =>\n        singleResult\n          ? cloneVNode(singleResult, { key: resultKey })\n          : h('div', { key: 'empty', class: 'client-only-empty' })\n      )\n    }\n\n    return () => {\n      if (mounted.value) {\n        return renderResult(context.slots.default?.(), 'result')\n      }\n\n      if (context.slots.placeholder) {\n        return renderResult(context.slots.placeholder(), 'placeholder-slot')\n      }\n\n      if (props.placeholderTag && props.placeholder) {\n        return renderResult(\n          h(props.placeholderTag, { class: 'client-only-placeholder' }, props.placeholder),\n          'placeholder'\n        )\n      }\n\n      return renderResult(null)\n    }\n  }\n})\n","/**\n * @file App components\n * @module app.component\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App } from 'vue'\nimport Spin from '/@/components/common/spin.vue'\nimport Empty from '/@/components/common/empty.vue'\nimport Divider from '/@/components/common/divider.vue'\nimport Udate from '/@/components/common/udate'\nimport Ulink from '/@/components/common/ulink'\nimport Uimage from '/@/components/common/uimage'\nimport Placeholder from '/@/components/common/placeholder'\n\nimport SkeletonBase from '/@/components/common/skeleton/base.vue'\nimport SkeletonLine from '/@/components/common/skeleton/line.vue'\nimport SkeletonParagraph from '/@/components/common/skeleton/paragraph.vue'\n\nimport { Responsive, DesktopOnly } from '/@/components/common/responsive'\nimport { ClientOnly } from '/@/components/common/client-only'\n\nexport default function (app: App) {\n  app.component(Spin.name as string, Spin)\n  app.component(Empty.name as string, Empty)\n  app.component(Divider.name as string, Divider)\n  app.component(Udate.name, Udate)\n  app.component(Ulink.name, Ulink)\n  app.component(Uimage.name, Uimage)\n  app.component(Placeholder.name, Placeholder)\n\n  app.component(ClientOnly.name, ClientOnly)\n  app.component(Responsive.name, Responsive)\n  app.component(DesktopOnly.name, DesktopOnly)\n\n  app.component(SkeletonBase.name as string, SkeletonBase)\n  app.component(SkeletonLine.name as string, SkeletonLine)\n  app.component(SkeletonParagraph.name as string, SkeletonParagraph)\n}\n","<template>\n  <div id=\"emoji-rain\" :class=\"{ active: state.kichikuing }\">\n    <canvas v-if=\"state.chambering\" ref=\"rainBase\" class=\"rain-base\"></canvas>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, reactive, nextTick, onMounted } from 'vue'\n  import { getTargetCDNURL } from '/@/transforms/url'\n\n  declare global {\n    interface Window {\n      $luanchEmojiRain(options: any): void\n    }\n  }\n\n  export default defineComponent({\n    name: 'EmojiRain',\n    setup() {\n      const rainBase = ref<HTMLElement>(null as any)\n      const state = reactive({\n        chambering: false,\n        kichikuing: false\n      })\n\n      onMounted(() => {\n        window.$luanchEmojiRain = (options) => {\n          if (!state.chambering && !state.kichikuing) {\n            state.chambering = true\n            nextTick(() => {\n              // @ts-ignore\n              rainBase.value.width =\n                document.documentElement.clientWidth || document.body.clientWidth\n              // @ts-ignore\n              rainBase.value.height =\n                document.documentElement.clientHeight || document.body.clientHeight\n              new window.$Emoji233333({\n                base: rainBase.value,\n                scale: 0.7,\n                speed: 12,\n                increaseSpeed: 0.4,\n                density: 5,\n                staggered: true,\n                emoji: getTargetCDNURL('/images/emojis/funny.png'),\n                ...options,\n                onStart() {\n                  state.kichikuing = true\n                },\n                onEnded() {\n                  state.kichikuing = false\n                  state.chambering = false\n                }\n              }).launch()\n            })\n          }\n        }\n      })\n\n      return {\n        state,\n        rainBase\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #emoji-rain {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n\n    &.active {\n      z-index: $z-index-top;\n    }\n\n    .rain-base {\n      width: 100%;\n      height: 100%;\n    }\n  }\n</style>\n","/**\n * @file App layout getter\n * @module transform.layout\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteMeta } from 'vue-router'\nimport { LayoutColumn } from '/@/app/state'\n\nexport const getLayoutByRouteMeta = (routeMeta: RouteMeta) => {\n  return routeMeta.layout === LayoutColumn.Wide\n    ? LayoutColumn.Wide\n    : routeMeta.layout === LayoutColumn.Full\n    ? LayoutColumn.Full\n    : LayoutColumn.Normal\n}\n","<template>\n  <div class=\"error\" :class=\"{ dark: isDarkTheme }\">\n    <h1 class=\"code\">{{ error.code }}</h1>\n    <h3 class=\"message\">\n      <template v-if=\"error.message\">{{ error.message }}</template>\n      <i18n v-else :k=\"LanguageKey.NOT_FOUND\" />\n    </h3>\n    <p class=\"link\" @click=\"handleResolveRoute\">\n      <slot name=\"resolve-text\" />\n    </p>\n    <uimage cdn class=\"logo\" src=\"/images/logo.svg\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RenderError } from '/@/app/state'\n  import { LanguageKey } from '/@/language'\n\n  export enum ErrorEvent {\n    Resolve = 'resolve'\n  }\n  export default defineComponent({\n    name: 'Error',\n    props: {\n      error: {\n        type: Object as PropType<RenderError>,\n        required: true\n      }\n    },\n    emits: [ErrorEvent.Resolve],\n    setup(props, context) {\n      const { isDarkTheme } = useEnhancer()\n      const handleResolveRoute = () => {\n        context.emit(ErrorEvent.Resolve)\n      }\n\n      return {\n        LanguageKey,\n        isDarkTheme,\n        handleResolveRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .error {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    overflow: hidden;\n    z-index: $z-index-top;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    background-color: $module-bg;\n    &.dark {\n      background-color: $module-bg-opaque;\n      .message {\n        color: $text-darker;\n      }\n    }\n\n    @keyframes error-item {\n      0% {\n        opacity: 0;\n        transform: translate3d(0, -30%, 0);\n      }\n      100% {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n      }\n    }\n\n    .logo {\n      width: 8rem;\n      opacity: 0.1;\n      position: fixed;\n      bottom: 2rem;\n      filter: $theme-logo-rotate;\n    }\n\n    .code,\n    .link,\n    .message {\n      color: $text-secondary;\n      animation: error-item ease-out both 0.6s $transition-time-normal;\n    }\n\n    @keyframes code-wave {\n      0% {\n        opacity: 0;\n        background-position-y: 5rem;\n      }\n      100% {\n        opacity: 1;\n        background-position-y: 0;\n      }\n    }\n\n    @keyframes code-wave-play {\n      0% {\n        background-position-x: 14%;\n      }\n      100% {\n        background-position-x: 100%;\n      }\n    }\n\n    .code {\n      text-transform: uppercase;\n      font-size: 10em;\n      font-weight: normal;\n      margin: 0;\n      background-image: cdn-url('/images/page-error/wave.png');\n      background-size: cover;\n      background-repeat: repeat-x;\n      background-position: center;\n      -webkit-background-clip: text;\n      color: rgba(darken($white, 30%), 20%);\n      animation: error-item ease-out both 0.6s $transition-time-normal,\n        code-wave ease-out both 0.6s $transition-time-normal, code-wave-play linear 2s infinite;\n    }\n\n    .message {\n      font-weight: normal;\n      margin-top: 0;\n      margin-bottom: 2rem;\n    }\n\n    .link {\n      cursor: pointer;\n      border-bottom: 1px solid;\n      padding-bottom: $sm-gap;\n      margin-bottom: 4rem;\n      @include color-transition();\n      &:hover {\n        color: $text-darker;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"captured\">\n    <error-component v-if=\"error\" :error=\"error\" @resolve=\"handleResolveRoute\">\n      <template #resolve-text>\n        <i18n :k=\"LanguageKey.BACK_TO_HOME_PAGE\" />\n      </template>\n    </error-component>\n    <template v-else>\n      <slot />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, onErrorCaptured } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { RouteName } from '/@/app/router'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getLayoutByRouteMeta } from '/@/transforms/layout'\n  import ErrorComponent from './error.vue'\n\n  export default defineComponent({\n    name: 'Captured',\n    components: {\n      ErrorComponent\n    },\n    setup() {\n      const { router, globalState } = useEnhancer()\n      const handleResolveRoute = () => {\n        router.push({ name: RouteName.Home }).then(() => {\n          // MARK: 顺序很重要！要先设置布局，再渲染，避免闪屏\n          globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta))\n          globalState.setRenderError(null)\n        })\n      }\n\n      onErrorCaptured((_error: any) => {\n        globalState.setRenderError(_error)\n        return false\n      })\n\n      return {\n        error: globalState.renderError,\n        handleResolveRoute,\n        LanguageKey\n      }\n    }\n  })\n</script>\n","/**\n * @file Music player\n * @module composable.music\n * @author Surmon <https://github.com/surmon-china>\n * @document https://521dimensions.com/open-source/amplitudejs/docs\n */\n\nimport { App, Plugin, inject, readonly, reactive, computed } from 'vue'\nimport type { Song } from '/@/server/getters/netease-music'\nimport { UNDEFINED } from '/@/constants/value'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { ProxyModule } from '/@/constants/proxy'\nimport { getTargetProxyURL } from '/@/transforms/url'\nimport tunnel from '/@/services/tunnel'\n\nexport interface PlayerConfig {\n  amplitude: any\n  volume?: number\n  autoInit?: boolean\n}\n\nconst createMusicPlayer = (config: PlayerConfig) => {\n  const { amplitude } = config\n\n  // Player state\n  const initVolume = config.volume ?? 40\n  const state = reactive({\n    // data\n    fetching: false,\n    songs: [] as Array<Song>,\n    // 是否初始化\n    inited: false,\n    // 是否可用\n    ready: false,\n    // 活动项\n    index: 0,\n    // 总数\n    count: 0,\n    // 音量\n    volume: initVolume,\n    // 图形化\n    wave: false,\n    // 播放中\n    playing: false,\n    // 进度\n    speeds: 0,\n    progress: 0\n  })\n\n  // mute state\n  const muted = computed<boolean>(() => state.volume === 0)\n\n  // playable song list\n  const playableSongList = computed<Song[]>(() => {\n    return state.songs.map((song) => ({\n      ...song,\n      cover_art_url: song.cover_art_url\n        ? getTargetProxyURL(song.cover_art_url + '?param=300y300', ProxyModule.NetEasyMusic)\n        : (null as any as string)\n    }))\n  })\n\n  const fetchSongList = async () => {\n    try {\n      state.fetching = true\n      state.songs = await tunnel.dispatch<Song[]>(TunnelModule.NetEaseMusic)\n      state.count = state.songs.length\n    } catch (error) {\n      state.songs = []\n      state.count = 0\n      throw error\n    } finally {\n      state.fetching = false\n    }\n  }\n\n  const currentSong = computed<Song | void>(() => {\n    if (state.inited && state.index !== undefined) {\n      return amplitude.getActiveSongMetadata()\n    } else {\n      return UNDEFINED\n    }\n  })\n\n  const play = (index?: number) => {\n    if (index != null) {\n      amplitude.playSongAtIndex(index)\n    } else {\n      amplitude.play()\n    }\n  }\n  const pause = () => amplitude.pause()\n  const prevSong = () => amplitude.prev()\n  const nextSong = () => amplitude.next()\n  const changeVolume = (volume: number) => amplitude.setVolume(volume)\n  const toggleMuted = () => changeVolume(muted.value ? initVolume : 0)\n  const togglePlay = () => (amplitude.getPlayerState() === 'playing' ? pause() : play())\n\n  const initPlayer = (songs: Song[]) => {\n    amplitude.init({\n      // 歌曲切换之间的延时\n      // https://521dimensions.com/open-source/amplitudejs/docs/configuration/delay.html#public-function\n      delay: 668,\n      debug: false,\n      volume: state.volume,\n      songs,\n      start_song: 0,\n      continue_next: true,\n      callbacks: {\n        initialized: () => {\n          state.ready = true\n          state.inited = true\n        },\n        play: () => {\n          state.ready = true\n          state.wave = true\n          state.playing = true\n        },\n        pause: () => {\n          state.wave = false\n          state.playing = false\n        },\n        stop: () => {\n          state.wave = false\n          state.playing = false\n        },\n        volumechange: () => {\n          state.volume = amplitude.getVolume()\n        },\n        timeupdate: () => {\n          state.speeds = amplitude.getSongPlayedSeconds()\n          state.progress = amplitude.getSongPlayedPercentage()\n        },\n        song_change: () => {\n          state.index = amplitude.getActiveIndex()\n        },\n        ended: () => {\n          state.playing = false\n        },\n        error: (error: any) => {\n          console.warn('播放器出现异常，自动下一首！', state.index, error)\n          state.playing = false\n          // 播放异常时不再清除音乐，不作 URL 可能不可用的假设\n          // amplitude.removeSong(state.index)\n          // MARK: 网络阻塞会导致紧邻的后续请求中断，所以下一首操作需要延时，避免瀑布式请求\n          window.setTimeout(nextSong, 1668)\n        }\n      }\n    })\n    amplitude.setRepeat(true)\n  }\n\n  const init = async () => {\n    try {\n      await fetchSongList()\n      if (!playableSongList.value.length) {\n        state.ready = false\n        console.warn('播放列表为空，未找到有效音乐，无法初始化！')\n        return\n      }\n      initPlayer(playableSongList.value)\n    } catch (error) {\n      state.ready = false\n      console.warn('播放列表请求失败，无法初始化！', error)\n    }\n  }\n\n  return {\n    state: readonly(state),\n    muted,\n    currentSong,\n\n    init,\n    play,\n    pause,\n    changeVolume,\n    toggleMuted,\n    togglePlay,\n    prevSong,\n    nextSong\n  }\n}\n\nconst MusicPlayerSymbol = Symbol('music-player')\nexport type Music = ReturnType<typeof createMusicPlayer>\nexport const createMusic = (config: PlayerConfig): Music & Plugin => {\n  const musicPlayer = createMusicPlayer(config)\n  if (config.autoInit) {\n    musicPlayer.init()\n  }\n\n  return {\n    ...musicPlayer,\n    install(app: App) {\n      app.provide(MusicPlayerSymbol, musicPlayer)\n    }\n  }\n}\n\nexport const useMusic = (): Music => {\n  return inject(MusicPlayerSymbol) as Music\n}\n","<template>\n  <div class=\"music-player\">\n    <div class=\"panel\">\n      <div class=\"song\">\n        <img class=\"cover\" :src=\"currentSong?.cover_art_url\" draggable=\"false\" />\n        <div class=\"info\" v-if=\"currentSong && player\">\n          <p class=\"title\">\n            <span class=\"name\">{{ currentSong.name }}</span>\n            <span class=\"artist\">{{ currentSong.artist }}</span>\n          </p>\n          <p class=\"duration\">\n            <span>{{ getSecondsView(player.state.speeds) }}</span>\n            <span> / </span>\n            <span>{{ getSecondsView(currentSong.duration / 1000) }}</span>\n          </p>\n        </div>\n      </div>\n      <div class=\"control\">\n        <button class=\"cut-song prev\" :disabled=\"!player?.state?.ready\" @click=\"player?.prevSong()\">\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button class=\"toggle-play\" :disabled=\"!player?.state.ready\" @click=\"player?.togglePlay()\">\n          <i\n            class=\"iconfont\"\n            :class=\"player?.state.playing ? 'icon-music-pause' : 'icon-music-play'\"\n          ></i>\n        </button>\n        <button class=\"cut-song next\" :disabled=\"!player?.state.ready\" @click=\"player?.nextSong()\">\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n      </div>\n      <div class=\"tools\">\n        <span class=\"indexed\" v-if=\"player\">\n          {{ player.state.index + 1 }} / {{ player?.state.count }}\n        </span>\n        <ulink class=\"list-link\" :href=\"VALUABLE_LINKS.MUSIC_163\">\n          <i class=\"iconfont icon-new-window-s\"></i>\n        </ulink>\n        <button\n          class=\"toggle-muted\"\n          :disabled=\"!player?.state.ready\"\n          @click=\"player?.toggleMuted()\"\n        >\n          <i class=\"iconfont\" :class=\"muted ? 'icon-music-muted' : 'icon-music-unmuted'\" />\n        </button>\n      </div>\n    </div>\n    <div class=\"progress\">\n      <div class=\"played\" :style=\"{ width: `${player.state.progress}%` }\" v-if=\"player\"></div>\n    </div>\n    <div class=\"songs\">\n      <ul class=\"list\">\n        <li\n          class=\"item\"\n          :class=\"{ playing: player?.state.index === index }\"\n          :key=\"index\"\n          v-for=\"(song, index) in player?.state.songs\"\n        >\n          <div class=\"index\">{{ String(index + 1).padStart(2, '0') }}</div>\n          <span v-if=\"player?.state.index === index\" class=\"play\">\n            <i class=\"iconfont icon-music-unmuted\"></i>\n          </span>\n          <button v-else class=\"play\" @click=\"handlePlayByIndex(index)\">\n            <i class=\"iconfont icon-music-play\"></i>\n          </button>\n          <ulink class=\"name\" :title=\"song.name\" :href=\"get163MusicSongDetailURL(song.id)\">\n            <span class=\"text\">{{ song.name }}</span>\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </ulink>\n          <div class=\"artist\" :title=\"song.artist\">{{ song.artist }}</div>\n          <div class=\"duration\">{{ getSecondsView(song.duration / 1000) }}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useMusic } from '/@/composables/music'\n  import { get163MusicSongDetailURL } from '/@/transforms/media'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { isClient } from '/@/app/environment'\n\n  export default defineComponent({\n    name: 'MusicPlayer',\n    setup() {\n      const musicPlayer = isClient ? useMusic() : null\n      const muted = computed(() => Boolean(musicPlayer?.muted.value))\n      const currentSong = computed(() => musicPlayer?.currentSong.value)\n      const handlePlayByIndex = (index: number) => musicPlayer?.play(index)\n      const getSecondsView = (seconds: number) => {\n        const minutesText = String(Math.floor(seconds / 60)).padStart(2, '0')\n        const secondsText = String(Math.floor(seconds % 60)).padStart(2, '0')\n        return `${minutesText}:${secondsText}`\n      }\n\n      return {\n        VALUABLE_LINKS,\n        player: musicPlayer,\n        muted,\n        currentSong,\n        handlePlayByIndex,\n        get163MusicSongDetailURL,\n        getSecondsView\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .music-player {\n    position: relative;\n    overflow: auto;\n    width: 50vw;\n    height: 70vh;\n    display: flex;\n    flex-direction: column;\n\n    .panel {\n      width: 100%;\n      display: grid;\n      grid-template-columns: 35% 30% 35%;\n      background-color: $module-bg-lighter;\n\n      .song {\n        padding: $gap;\n        overflow: hidden;\n        display: flex;\n\n        .cover {\n          $size: 4rem;\n          width: $size;\n          height: $size;\n          border-radius: $sm-radius;\n          margin-right: $gap;\n          background-color: $module-bg-darker-1;\n        }\n\n        .info {\n          font-weight: bold;\n\n          .title {\n            display: flex;\n            align-items: baseline;\n            margin-bottom: $xs-gap;\n            white-space: nowrap;\n\n            .name,\n            .artist {\n              display: inline-block;\n              @include text-overflow();\n            }\n\n            .name {\n              margin-top: 1px;\n              max-width: 8rem;\n              font-size: $font-size-h4;\n            }\n\n            .artist {\n              max-width: 7rem;\n              margin-left: $xs-gap;\n              color: $text-disabled;\n            }\n          }\n\n          .duration {\n            margin: 0;\n            color: $text-disabled;\n          }\n        }\n      }\n\n      .control {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .toggle-play {\n          margin: 0 $lg-gap;\n          font-size: $font-size-h1 * 1.2;\n          transition: all $transition-time-fast;\n          &:hover {\n            color: $link-color;\n          }\n        }\n\n        .cut-song {\n          width: 3rem;\n          font-size: $font-size-h3;\n          color: $text-disabled;\n          &:hover {\n            color: $text;\n          }\n        }\n      }\n\n      .tools {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: $lg-gap;\n        font-size: $font-size-h4;\n\n        .list-link,\n        .toggle-muted {\n          margin-left: $lg-gap;\n          color: $text-disabled;\n          &:hover {\n            color: $text;\n          }\n        }\n\n        .indexed {\n          display: block;\n          padding: $xs-gap $sm-gap;\n          border-radius: $xs-radius;\n          font-size: $font-size-small;\n          font-weight: bold;\n          color: $text-disabled;\n          background-color: $module-bg-darker-1;\n        }\n      }\n    }\n\n    .progress {\n      position: relative;\n      width: 100%;\n      height: $sm-gap;\n      box-sizing: content-box;\n      background-color: $module-bg-darker-1;\n\n      .played {\n        position: absolute;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: $module-bg-darker-3;\n        transition: width $transition-time-fast;\n        will-change: width;\n      }\n    }\n\n    .songs {\n      flex: 1;\n      overflow-y: scroll;\n      @include scroll-snap-y();\n\n      .list {\n        width: 100%;\n        margin: 0;\n        padding: 0;\n\n        .item {\n          display: grid;\n          grid-template-columns: 5% 5% 60% 20% 10%;\n          width: 100%;\n          height: 3rem;\n          line-height: 3rem;\n          @include scroll-snap-item();\n          &.playing,\n          &:hover {\n            background-color: $module-bg-lighter;\n          }\n          &.playing {\n            .play {\n              color: $link-color;\n            }\n          }\n\n          .index {\n            padding-left: 1em;\n            font-weight: bold;\n            color: $text-disabled;\n          }\n\n          .play {\n            text-align: center;\n            color: $text-disabled;\n            &:hover {\n              color: $text;\n            }\n          }\n\n          .name .text,\n          .artist {\n            max-width: 80%;\n            @include text-overflow();\n          }\n\n          .name {\n            display: flex;\n            align-items: baseline;\n            &:hover {\n              .text {\n                text-decoration: underline;\n                color: $link-color;\n              }\n              .iconfont {\n                color: $text;\n              }\n            }\n\n            .text {\n              display: inline-block;\n              font-weight: bold;\n              color: $text;\n            }\n            .iconfont {\n              margin-left: $xs-gap;\n              font-size: $font-size-small;\n              color: $text-disabled;\n            }\n          }\n\n          .artist {\n            color: $text-secondary;\n          }\n\n          .duration {\n            text-align: center;\n            color: $text-divider;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div id=\"player\" :class=\"{ playing: music.state.playing }\" v-if=\"music?.currentSong.value\">\n    <div class=\"panel\">\n      <div class=\"control\">\n        <button\n          class=\"prev-song button\"\n          :disabled=\"!music.state.ready\"\n          @click=\"music.prevSong\"\n          @mousedown=\"handleTouchEvent('prev song')\"\n        >\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button\n          class=\"next-song button\"\n          :disabled=\"!music.state.ready\"\n          @click=\"music.nextSong\"\n          @mousedown=\"handleTouchEvent('next song')\"\n        >\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n        <button\n          class=\"muted-toggle button\"\n          :disabled=\"!music.state.ready\"\n          @click=\"music.toggleMuted\"\n          @mousedown=\"handleTouchEvent('toggle muted')\"\n        >\n          <i class=\"iconfont\" :class=\"muted ? 'icon-music-muted' : 'icon-music-unmuted'\"></i>\n        </button>\n        <button\n          class=\"player button\"\n          @click=\"togglePlayerModel\"\n          @mousedown=\"handleTouchEvent('open player model')\"\n        >\n          <i class=\"iconfont icon-netease-music\"></i>\n        </button>\n      </div>\n      <button\n        class=\"song-link\"\n        @click=\"togglePlayerModel\"\n        @mousedown=\"handleTouchEvent('open player model')\"\n      >\n        <span v-if=\"currentSong\">{{ currentSong.name }}</span>\n        <i18n v-else :k=\"LanguageKey.MUSIC_PLACEHOLDER\" />\n      </button>\n    </div>\n    <div class=\"cd\">\n      <img class=\"image\" :src=\"currentSong?.cover_art_url\" />\n      <button\n        class=\"toggle-button\"\n        :disabled=\"!music.state.ready\"\n        @click=\"music.togglePlay\"\n        @mousedown=\"handleTouchEvent('toggle play')\"\n      >\n        <i\n          class=\"iconfont\"\n          :class=\"music.state.playing ? 'icon-music-pause' : 'icon-music-play'\"\n        ></i>\n      </button>\n    </div>\n    <div class=\"trigger\">\n      <i class=\"iconfont icon-music\"></i>\n    </div>\n  </div>\n  <client-only>\n    <popup v-model:visible=\"isOnPlayerModel\" :scroll-close=\"false\">\n      <music-player @close=\"togglePlayerModel\" />\n    </popup>\n  </client-only>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMusic } from '/@/composables/music'\n  import { isClient } from '/@/app/environment'\n  import MusicPlayer from './player.vue'\n\n  export default defineComponent({\n    name: 'MusicPlayerHandle',\n    components: {\n      MusicPlayer\n    },\n    setup() {\n      const { gtag } = useEnhancer()\n      const music = isClient ? useMusic() : null\n      const muted = computed(() => Boolean(music?.muted.value))\n      const currentSong = computed(() => music?.currentSong.value)\n\n      const isOnPlayerModel = ref(false)\n      const togglePlayerModel = () => {\n        isOnPlayerModel.value = !isOnPlayerModel.value\n      }\n\n      const handleTouchEvent = (label) => {\n        gtag?.event('music_player_widget', {\n          event_category: GAEventCategories.Widget,\n          event_label: label\n        })\n      }\n\n      return {\n        LanguageKey,\n        isOnPlayerModel,\n        music,\n        muted,\n        currentSong,\n        togglePlayerModel,\n        handleTouchEvent\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #player {\n    $size: 5rem;\n    $panel-size: 13rem;\n    position: fixed;\n    left: 0;\n    bottom: 18%;\n    z-index: $z-index-toolbox;\n    transition: opacity $transition-time-fast,\n      transform $transition-time-normal cubic-bezier(0.65, 0.05, 0.36, 1);\n    height: $size;\n    transform: translateX(-18rem);\n    display: flex;\n    align-items: center;\n    border-top-right-radius: $sm-radius;\n    border-bottom-right-radius: $sm-radius;\n    background-color: $module-bg-opaque;\n    overflow: hidden;\n    opacity: 0.5;\n    &.playing {\n      transform: translateX(-$panel-size);\n    }\n    &:hover {\n      opacity: 0.9;\n      transform: translateX(0);\n    }\n\n    .panel {\n      width: $panel-size;\n      padding: $gap;\n\n      .control {\n        display: flex;\n        justify-content: flex-start;\n        margin-bottom: $xs-gap;\n\n        > .button {\n          margin-right: $lg-gap;\n          &:hover {\n            color: $link-hover;\n          }\n          &.player {\n            color: $music163-primary;\n          }\n        }\n      }\n\n      .song-link {\n        max-width: 11rem;\n        color: $text-secondary;\n        @include color-transition();\n        @include text-overflow();\n\n        &:hover {\n          color: $link-hover;\n        }\n      }\n    }\n\n    .cd {\n      position: relative;\n      display: block;\n      width: $size;\n      height: $size;\n      overflow: hidden;\n      background-color: $module-bg-darker-1;\n\n      .image {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: $module-bg-darker-1;\n        background-image: cdn-url('/images/page-music/background.jpg');\n        background-size: cover;\n      }\n\n      .toggle-button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 100%;\n        font-size: $font-size-h1;\n        color: $white;\n      }\n    }\n\n    .trigger {\n      width: math.div($size, 2);\n      height: $size;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      writing-mode: tb-rl;\n      color: $white;\n      background-image: linear-gradient(0deg, #ff5a4c 0%, #ff1d12 100%);\n\n      .iconfont {\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<template>\n  <li class=\"flower-item\" :style=\"styles\" :class=\"{ playing: state.playing }\">\n    {{ options.text }}\n  </li>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed, reactive, nextTick, onMounted, onBeforeUnmount } from 'vue'\n\n  enum Event {\n    Ended = 'ended'\n  }\n\n  export default defineComponent({\n    name: 'WallFlowerItem',\n    props: {\n      options: {\n        type: Object,\n        required: true\n      },\n      zIndex: {\n        type: Number,\n        required: true\n      }\n    },\n    emits: [Event.Ended],\n    setup(props, context) {\n      const state = reactive({\n        delay: 1,\n        timer: null as number | null,\n        playing: false\n      })\n\n      const styles = computed(() => ({\n        top: props.options.y + 'px',\n        left: props.options.x + 'px',\n        'z-index': 99999 + props.zIndex\n      }))\n\n      const startAnimation = () => {\n        nextTick(() => {\n          // Start animation\n          setTimeout(() => {\n            state.playing = true\n          })\n\n          // End animation\n          state.timer = window.setTimeout(() => {\n            state.playing = false\n            nextTick(() => {\n              context.emit(Event.Ended, props.options.id)\n            })\n          }, state.delay * 1000)\n        })\n      }\n\n      startAnimation()\n      onMounted(startAnimation)\n      onBeforeUnmount(() => {\n        if (state.timer) {\n          clearTimeout(state.timer)\n          state.timer = null\n        }\n      })\n\n      return { state, styles }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .flower-item {\n    opacity: 1;\n    position: fixed;\n    display: block;\n    transform: translate3d(-50%, -50%, 0);\n    transition: opacity 0.5s;\n    color: $primary;\n    font-family: 'webfont-bolder', $font-family-normal;\n    font-size: $font-size-h3;\n    white-space: nowrap;\n\n    @keyframes flower-playing {\n      0% {\n        transform: translate3d(-50%, -50%, 0);\n      }\n      80% {\n        transform: translate3d(-50%, -400%, 0);\n        opacity: 0.6;\n      }\n      100% {\n        transform: translate3d(-50%, -500%, 0);\n        opacity: 0;\n      }\n    }\n\n    &.playing {\n      opacity: 0.8;\n      animation: flower-playing 1s ease 0s forwards;\n    }\n  }\n</style>\n","<template>\n  <div id=\"wallflower\">\n    <ul v-if=\"state.flowers.length\" class=\"garden-box\">\n      <flower\n        v-for=\"(flower, index) in state.flowers\"\n        :key=\"flower.id\"\n        :z-index=\"index + 1\"\n        :options=\"flower\"\n        @ended=\"handleAnimationEnd\"\n      />\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, reactive, onMounted, onBeforeUnmount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import Flower from './flower.vue'\n\n  const EN_FLOWERS = ['💙', '🤍', '❤️']\n  const ZH_FLOWERS = [\n    '富强',\n    '民主',\n    '文明',\n    '和谐',\n    '自由',\n    '平等',\n    '公正',\n    '法治',\n    '爱国',\n    '敬业',\n    '诚信',\n    '友善'\n  ]\n\n  export interface IFlower {\n    id: number\n    x: number\n    y: number\n    text: string\n  }\n\n  export default defineComponent({\n    name: 'WallFlowerGarden',\n    components: {\n      Flower\n    },\n    setup() {\n      const { isZhLang } = useEnhancer()\n      const state = reactive({\n        id: 0,\n        flowers: [] as IFlower[],\n        contentIndex: -1\n      })\n\n      const handleClick = (event: MouseEvent) => {\n        const flowers = isZhLang.value ? ZH_FLOWERS : EN_FLOWERS\n        state.contentIndex++\n        if (state.contentIndex >= flowers.length) {\n          state.contentIndex = 0\n        }\n        state.flowers.push({\n          id: ++state.id,\n          x: event.x || event.clientX,\n          y: event.y || event.clientY,\n          text: flowers[state.contentIndex]\n        } as IFlower)\n      }\n\n      const handleAnimationEnd = (id: number) => {\n        const targetIndex = state.flowers.findIndex((flower) => flower.id === id)\n        if (targetIndex > -1) {\n          state.flowers.splice(targetIndex, 1)\n        }\n      }\n\n      onMounted(() => window.addEventListener('click', handleClick))\n      onBeforeUnmount(() => window.removeEventListener('click', handleClick))\n\n      return {\n        state,\n        handleAnimationEnd\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #wallflower {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    padding: 0;\n    list-style: none;\n    z-index: $z-index-underground;\n\n    .garden-box {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n    }\n  }\n</style>\n","<template>\n  <div class=\"wall\">\n    <transition name=\"module\" mode=\"out-in\">\n      <div\n        ref=\"picture-box\"\n        :key=\"currentWallpaper.humanizedImageUrl\"\n        class=\"picture-box\"\n        :title=\"currentWallpaper.copyright\"\n        :style=\"{\n          backgroundImage: `url(${currentWallpaper.humanizedImageUrl})`\n        }\"\n      />\n    </transition>\n    <div class=\"story-box\">\n      <template v-if=\"currentWallpaper.title\">\n        <h2 class=\"title\">{{ currentWallpaper.title }}</h2>\n        <p class=\"sub-title\">{{ currentWallpaper.copyright }}</p>\n      </template>\n      <template v-else>\n        <h2 class=\"title lonely\">{{ currentWallpaper.copyright }}</h2>\n      </template>\n      <p class=\"desc\">{{ currentWallpaper.desc }}</p>\n      <div class=\"tools\">\n        <transition name=\"module\">\n          <ulink\n            key=\"location\"\n            class=\"location\"\n            :href=\"currentWallpaper.humanizedCopyrightUrl\"\n            :title=\"currentWallpaper.bsTitle\"\n          >\n            <i class=\"iconfont icon-location\"></i>\n            <span class=\"text\" v-if=\"currentWallpaper.bsTitle\">{{ currentWallpaper.bsTitle }}</span>\n          </ulink>\n        </transition>\n        <button class=\"button\" title=\"Prev\" :disabled=\"index <= 0\" @click=\"index--\">\n          <i class=\"iconfont icon-prev\"></i>\n        </button>\n        <button\n          class=\"button\"\n          title=\"Next\"\n          :disabled=\"index >= wallpapers.length - 1\"\n          @click=\"index++\"\n        >\n          <i class=\"iconfont icon-next\"></i>\n        </button>\n        <button class=\"button\" title=\"Close\" @click=\"handleClose\">\n          <i class=\"iconfont icon-cancel\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { Language } from '/@/language'\n\n  export enum WallpaperWallEvent {\n    Close = 'close'\n  }\n\n  export default defineComponent({\n    name: 'WallpaperWall',\n    emits: [WallpaperWallEvent.Close],\n    setup(_, context) {\n      const { i18n } = useEnhancer()\n      const wallpaperStore = useWallpaperStore()\n      const index = ref(0)\n      const wallpapers = computed(() => wallpaperStore.papers(i18n.language.value as Language))\n      const currentWallpaper = computed(\n        () => wallpapers.value?.length && wallpapers.value?.[index.value]\n      )\n\n      const handleClose = () => context.emit(WallpaperWallEvent.Close)\n\n      return {\n        index,\n        wallpapers,\n        currentWallpaper,\n        handleClose\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .wall {\n    position: relative;\n    overflow: auto;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    width: 88vw;\n    height: 88vh;\n\n    .picture-box {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background-repeat: no-repeat;\n      background-size: cover;\n    }\n\n    .story-box {\n      position: absolute;\n      padding: 2rem 4rem;\n      background-color: $module-bg-translucent;\n      bottom: 0;\n      width: 100%;\n      height: auto;\n\n      .title,\n      .sub-title,\n      .desc {\n        @include title-shadow();\n      }\n\n      .title {\n        margin-top: 0;\n        &.lonely {\n          margin-bottom: 3rem;\n        }\n      }\n\n      .desc {\n        line-height: 2rem;\n        margin-bottom: $gap * 2;\n      }\n\n      .tools {\n        .location,\n        .button {\n          display: block;\n          float: left;\n          line-height: 2.5;\n          padding: 0 $gap;\n          margin-right: $gap;\n          background-color: $module-bg;\n          @include background-transition();\n          @include radius-box($xs-radius);\n\n          &[disabled] {\n            opacity: 0.6;\n          }\n\n          &:not([disabled]) {\n            &:hover {\n              background-color: $module-bg-darker-1;\n            }\n          }\n        }\n\n        .location {\n          .text {\n            margin-left: $xs-gap;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div id=\"wallpaper\">\n    <div class=\"switcher\" :class=\"{ dark: isDarkTheme }\" @click=\"handleOpenWallpaper\">\n      <div class=\"title\">\n        <i class=\"iconfont icon-bing\" />\n        <span class=\"text\">BING</span>\n      </div>\n    </div>\n  </div>\n  <client-only>\n    <popup v-model:visible=\"isOnWallpaper\" :mask-close=\"false\" :scroll-close=\"false\">\n      <wallpapers @close=\"handleCloseWallpaper\" />\n    </popup>\n  </client-only>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { Language } from '/@/language'\n  import Wallpapers from './wall.vue'\n\n  export default defineComponent({\n    name: 'Wallpaper',\n    components: {\n      Wallpapers\n    },\n    setup() {\n      const { i18n, gtag, isDarkTheme } = useEnhancer()\n      const wallpaperStore = useWallpaperStore()\n      const wallpapers = computed(() => wallpaperStore.papers(i18n.language.value as Language))\n      const isOnWallpaper = ref(false)\n      const handleCloseWallpaper = () => {\n        isOnWallpaper.value = false\n      }\n\n      const handleOpenWallpaper = () => {\n        gtag?.event('wallpaper_modal', {\n          event_category: GAEventCategories.Widget\n        })\n\n        if (wallpapers.value?.length) {\n          isOnWallpaper.value = true\n        } else {\n          alert('Something went wrong！')\n        }\n      }\n\n      return {\n        isDarkTheme,\n        isOnWallpaper,\n        handleOpenWallpaper,\n        handleCloseWallpaper\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #wallpaper {\n    $width: 2rem;\n    $height: 6.6rem;\n    position: fixed;\n    top: 18%;\n    right: 0;\n    cursor: pointer;\n\n    .switcher {\n      position: relative;\n      width: $width;\n      height: $height;\n      display: block;\n      border-style: solid;\n      border-color: $bing-primary;\n      border-top-width: 4px;\n      border-top-left-radius: $xs-radius;\n      border-bottom-left-radius: $xs-radius;\n      opacity: 0.5;\n      transition: opacity $transition-time-fast;\n      background-color: #ffffff;\n      &.dark {\n        background-color: #ececec;\n      }\n      &:hover {\n        opacity: 0.8;\n      }\n\n      .title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        font-family: 'webfont-bolder', DINRegular;\n        writing-mode: tb-rl;\n        color: $bing-primary;\n        font-size: $font-size-small - 1;\n        letter-spacing: 2px;\n        text-align: center;\n        transition: width $transition-time-fast;\n\n        .iconfont {\n          font-size: 16px;\n          margin-bottom: $xs-gap;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div id=\"background\">\n    <div class=\"image\" :class=\"{ dark: isDarkTheme }\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  export default defineComponent({\n    name: 'Background',\n    setup() {\n      const { isDarkTheme } = useEnhancer()\n      return { isDarkTheme }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #background {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n    background-color: $body-bg;\n\n    .image {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      opacity: 0.3;\n      background: cdn-url('/images/background.png');\n\n      &.dark {\n        opacity: 0.2;\n      }\n    }\n  }\n</style>\n","<template>\n  <div id=\"toolbox\">\n    <div class=\"container\">\n      <div class=\"tools\">\n        <ulink class=\"rss\" :href=\"VALUABLE_LINKS.RSS\" @mousedown=\"handleRSS\">\n          <i class=\"iconfont icon-rss\" />\n        </ulink>\n        <button class=\"feedback\" :title=\"t(LanguageKey.FEEDBACK)\" @click=\"handleFeedback\">\n          <i class=\"iconfont icon-mail-plane\" />\n        </button>\n        <button\n          class=\"to-page-top\"\n          :title=\"t(LanguageKey.TO_TOP)\"\n          @click=\"scrollToPageTop\"\n          @mouseover=\"setTopButtonState(true, true)\"\n          @mouseleave=\"setTopButtonState(false)\"\n        >\n          <i class=\"iconfont icon-totop\" />\n        </button>\n        <button\n          class=\"to-page-bottom\"\n          :title=\"t(LanguageKey.TO_BOTTOM)\"\n          @click=\"scrollToNextScreen\"\n          @mouseover=\"setBottomButtonState(true, true)\"\n          @mouseleave=\"setBottomButtonState(false)\"\n        >\n          <i class=\"iconfont icon-tobottom\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { scrollToPageTop, scrollToNextScreen } from '/@/utils/scroller'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n\n  export default defineComponent({\n    name: 'Toolbox',\n    setup() {\n      const { i18n, gtag, globalState } = useEnhancer()\n\n      const animationFrameID = ref(0)\n      const isTopButtonMouseOver = ref(false)\n      const isBottomButtonMouseOver = ref(false)\n\n      const handleRSS = () => {\n        gtag?.event('rss', {\n          event_category: GAEventCategories.Widget\n        })\n      }\n\n      const handleFeedback = () => {\n        gtag?.event('feedback_modal', {\n          event_category: GAEventCategories.Widget\n        })\n        globalState.toggleSwitcher('feedback', true)\n      }\n\n      const slowMoveToAnyWhere = () => {\n        const step = () => {\n          let targetScrollY = window.scrollY\n          const currentScrollY = document.body.scrollHeight - window.innerHeight\n          if (isBottomButtonMouseOver.value) {\n            targetScrollY += 1\n          }\n          if (isTopButtonMouseOver.value) {\n            targetScrollY -= 1\n          }\n          if (targetScrollY < 0) {\n            targetScrollY = 0\n          } else if (targetScrollY >= currentScrollY) {\n            targetScrollY = currentScrollY\n          }\n          const canScrollTo = targetScrollY > 0 && targetScrollY < currentScrollY\n          if (!canScrollTo) {\n            return false\n          }\n          window.scrollTo(0, targetScrollY)\n          if (isBottomButtonMouseOver.value || isTopButtonMouseOver.value) {\n            animationFrameID.value = window.requestAnimationFrame(step)\n          } else {\n            window.cancelAnimationFrame(animationFrameID.value)\n            return false\n          }\n        }\n        animationFrameID.value = window.requestAnimationFrame(step)\n      }\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        t: i18n.translate,\n        scrollToPageTop,\n        scrollToNextScreen,\n        handleFeedback,\n        handleRSS,\n        setTopButtonState(state: boolean, isStartSlow = false) {\n          isTopButtonMouseOver.value = state\n          window.cancelAnimationFrame(animationFrameID.value)\n          isStartSlow && slowMoveToAnyWhere()\n        },\n        setBottomButtonState(state: boolean, isStartSlow = false) {\n          isBottomButtonMouseOver.value = state\n          window.cancelAnimationFrame(animationFrameID.value)\n          isStartSlow && slowMoveToAnyWhere()\n        }\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #toolbox {\n    position: fixed;\n    z-index: $z-index-toolbox;\n    width: 100%;\n    bottom: 28rem;\n\n    .container {\n      $size: $lg-gap * 2.8;\n      position: relative;\n\n      .tools {\n        position: absolute;\n        right: -12rem;\n        width: $size;\n        overflow: hidden;\n\n        &:first-child {\n          border-top-left-radius: $xs-radius;\n          border-top-right-radius: $xs-radius;\n        }\n        &:last-child {\n          border-bottom-left-radius: $xs-radius;\n          border-bottom-right-radius: $xs-radius;\n        }\n\n        .rss,\n        .to-page-top,\n        .to-page-bottom,\n        .feedback {\n          display: block;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          text-align: center;\n          @include common-bg-module($transition-time-fast);\n        }\n\n        .rss {\n          color: $rss-primary;\n          &:hover {\n            background-color: $rss-primary;\n            color: $white;\n          }\n        }\n\n        @keyframes feedback-button {\n          0% {\n            background-position: 92% 0%;\n          }\n          50% {\n            background-position: 9% 100%;\n          }\n          100% {\n            background-position: 92% 0%;\n          }\n        }\n\n        .feedback {\n          color: $white;\n          opacity: 0.8;\n          background-color: $primary-lighter;\n          background: linear-gradient(1deg, $surmon, #9d0f98);\n          background-size: 400% 400%;\n          animation: feedback-button 3s ease infinite;\n          transition: opacity $transition-time-fast;\n\n          .iconfont {\n            display: inline-block;\n          }\n\n          &:hover {\n            opacity: 1;\n            background-color: $primary;\n          }\n        }\n\n        .to-page-bottom {\n          height: $size * 0.618;\n          line-height: $size * 0.618;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"feedback\">\n    <template v-if=\"state.submitted\">\n      <div class=\"submitted\">\n        <div class=\"icon\">\n          <i class=\"iconfont icon-success\"></i>\n        </div>\n        <div class=\"text\">\n          <i18n>\n            <template #zh>感谢你的反馈。</template>\n            <template #en>Thank U for your feedback.</template>\n          </i18n>\n        </div>\n        <button class=\"close\" @click=\"handleClose\">\n          <i18n zh=\"关闭窗口\" en=\"Close\" />\n        </button>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"title\">\n        <i18n>\n          <template #zh>你认为 {{ META.title }} 整体怎么样？</template>\n          <template #en>How would you rate {{ META.title }}?</template>\n        </i18n>\n      </div>\n      <div class=\"emotions\">\n        <li class=\"item\" :key=\"emotion.value\" v-for=\"emotion in emotions\">\n          <label>\n            <input\n              class=\"radio\"\n              type=\"radio\"\n              :value=\"emotion.value\"\n              :disabled=\"state.submitting\"\n              v-model.number=\"state.emotion\"\n            />\n            <div class=\"button\" :class=\"{ activated: state.emotion === emotion.value }\">\n              <span class=\"emoji\">{{ emotion.emoji }}</span>\n              <span class=\"text\"><i18n :zh=\"emotion.zh\" :en=\"emotion.en\" /></span>\n            </div>\n          </label>\n          <transition name=\"module\">\n            <div class=\"arrow\" v-if=\"state.emotion === emotion.value\"></div>\n          </transition>\n        </li>\n      </div>\n      <div class=\"input\">\n        <textarea\n          class=\"textarea\"\n          name=\"feedback\"\n          id=\"feedback\"\n          rows=\"10\"\n          v-model.trim=\"state.content\"\n          :disabled=\"state.submitting\"\n          :placeholder=\"\n            isZhLang ? '你可在此畅所欲言，这将仅对博主可见' : 'Tell me about your opinion...'\n          \"\n        ></textarea>\n        <div class=\"buttons\">\n          <button class=\"item cancel\" :disabled=\"state.submitting\" @click=\"handleClose\">\n            <span class=\"text\"><i18n zh=\"取消\" en=\"Cancel\" /></span>\n          </button>\n          <button\n            class=\"item submit\"\n            :disabled=\"!isSubmitable || state.submitting\"\n            @click=\"handleSubmit\"\n          >\n            <i class=\"iconfont icon-mail-plane\" />\n            <span class=\"text\">\n              <i18n :k=\"state.submitting ? LanguageKey.SUBMITTING : LanguageKey.SUBMIT\" />\n            </span>\n          </button>\n        </div>\n      </div>\n    </template>\n    <div class=\"history\" v-if=\"historyFeedbacks.length\">\n      <i18n>\n        <template #zh>你已进行过 {{ historyFeedbacks.length }} 次反馈。</template>\n        <template #en>You have {{ historyFeedbacks.length }} feedback history.</template>\n      </i18n>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, reactive, computed, toRaw } from 'vue'\n  import { LanguageKey } from '/@/language/key'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalStore } from '/@/stores/universal'\n  import { useMetaStore } from '/@/stores/meta'\n  import { META } from '/@/config/app.config'\n\n  enum Event {\n    Close = 'close'\n  }\n\n  export default defineComponent({\n    name: 'Feedback',\n    emits: [Event.Close],\n    setup(_, context) {\n      const emotions = [\n        { emoji: '😠', value: 1, en: 'Terrible', zh: '差劲' },\n        { emoji: '🙁', value: 2, en: 'Bad', zh: '不喜欢' },\n        { emoji: '😐', value: 3, en: 'Neutral', zh: '无感' },\n        { emoji: '😃', value: 4, en: 'Great', zh: '喜欢' },\n        { emoji: '🥰', value: 5, en: 'Amazing', zh: '太棒了' }\n      ]\n\n      const metaStore = useMetaStore()\n      const universalStore = useUniversalStore()\n      const { gtag, isZhLang } = useEnhancer()\n      const historyFeedbacks = computed(() => universalStore.feedbacks)\n      const state = reactive({\n        emotion: null as unknown as number,\n        content: '',\n        submitting: false,\n        submitted: false\n      })\n      const isSubmitable = computed(() => {\n        return Number.isInteger(state.emotion) && Boolean(state.content)\n      })\n\n      const handleClose = () => context.emit(Event.Close)\n      const handleSubmit = () => {\n        if (isSubmitable.value) {\n          gtag?.event('submit_feedback', {\n            event_category: GAEventCategories.Widget\n          })\n\n          state.submitting = true\n          metaStore\n            .postFeedback(toRaw(state))\n            .then((result) => {\n              universalStore.addFeedback(result.result)\n              state.submitted = true\n            })\n            .catch((error: any) => {\n              alert(error)\n            })\n            .finally(() => {\n              state.submitting = false\n            })\n        }\n      }\n\n      return {\n        LanguageKey,\n        META,\n        isZhLang,\n        isSubmitable,\n        emotions,\n        state,\n        historyFeedbacks,\n        handleClose,\n        handleSubmit\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .feedback {\n    width: 48rem !important;\n    background-color: $module-bg-lighter !important;\n\n    .title {\n      width: 100%;\n      height: 4rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h3;\n      font-weight: bold;\n      color: $text-secondary;\n      border-bottom: 1px solid $module-bg-darker-1;\n    }\n\n    .emotions {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      display: flex;\n      padding: 2rem 0;\n      justify-content: space-between;\n      border-bottom: 1px dashed $module-bg-darker-1;\n\n      .item {\n        width: 20%;\n        text-align: center;\n        position: relative;\n\n        .radio {\n          display: none;\n        }\n\n        .button {\n          display: inline-flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          opacity: 0.7;\n          filter: grayscale(0.8);\n          &.activated,\n          &:hover {\n            opacity: 1;\n            filter: grayscale(0);\n          }\n\n          .emoji {\n            $size: $font-size-h1 * 2;\n            font-size: $size;\n            line-height: $size;\n            margin-bottom: $gap;\n          }\n        }\n\n        .arrow {\n          $size: 15px;\n          position: absolute;\n          bottom: -4rem;\n          left: 50%;\n          margin-bottom: -1px;\n          margin-left: -$size;\n          width: 0;\n          height: 0;\n          border-left: $size solid transparent;\n          border-right: $size solid transparent;\n          border-bottom: $size solid $module-bg-darker-1;\n        }\n      }\n    }\n\n    .input {\n      padding: 2rem;\n\n      .textarea {\n        width: 100%;\n        height: 18rem;\n        padding: 1em;\n        margin-bottom: 2rem;\n        border-radius: $xs-radius;\n        background-color: $module-bg-darker-1;\n        resize: none;\n      }\n\n      .buttons {\n        display: flex;\n        justify-content: space-between;\n\n        .item {\n          height: 3rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          border-radius: $mini-radius;\n          &[disabled] {\n            opacity: 0.7;\n          }\n          &:not([disabled]):hover {\n            color: $link-hover;\n          }\n\n          &.cancel {\n            width: 7rem;\n            color: $text-secondary;\n            &:not([disabled]):hover {\n              color: $link-color;\n            }\n          }\n\n          &.submit {\n            width: 12rem;\n            color: $text-secondary;\n            background-color: $module-bg-darker-2;\n            &:not([disabled]):hover {\n              background-color: $module-bg-darker-3;\n            }\n          }\n\n          .iconfont {\n            margin-right: 1em;\n          }\n\n          .text {\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    .submitted {\n      width: 100%;\n      height: 20rem;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n\n      .icon {\n        $size: 4rem;\n        width: $size;\n        height: $size;\n        margin-bottom: 2rem;\n        border-radius: 100%;\n        line-height: $size;\n        text-align: center;\n        background-color: $primary;\n        font-size: $font-size-h3;\n        color: $text-reversal;\n      }\n\n      .text {\n        font-weight: bold;\n      }\n\n      .close {\n        margin-top: 2rem;\n        padding: 0 2em;\n        line-height: 2.4em;\n        border-radius: $xs-radius;\n        background-color: $module-bg-darker-1;\n        &:hover {\n          color: $link-hover;\n          background-color: $module-bg-darker-2;\n        }\n      }\n    }\n\n    .history {\n      border-top: 1px solid $module-bg-darker-1;\n      height: 2.8em;\n      line-height: 2.8em;\n      text-align: center;\n      font-size: $font-size-small;\n      color: $text-disabled;\n    }\n  }\n</style>\n","<template>\n  <div class=\"statement\">\n    <div class=\"content\">\n      <markdown :markdown=\"appOptions?.statement\" :compact=\"true\" />\n      <br />\n      <hr />\n      <p v-if=\"appOptions\" class=\"email\">\n        <a :href=\"emailLink(appOptions.site_email)\" class=\"link\" target=\"_blank\">\n          <i class=\"iconfont icon-mail\"></i>\n          <span class=\"text\">{{ appOptions.site_email }}</span>\n        </a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useMetaStore } from '/@/stores/meta'\n  import { emailLink } from '/@/transforms/email'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  export default defineComponent({\n    name: 'Statement',\n    components: { Markdown },\n    setup() {\n      const metaStore = useMetaStore()\n      const appOptions = computed(() => metaStore.appOptions.data)\n      return { appOptions, emailLink }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .statement {\n    background-color: $module-bg-opaque !important;\n    overflow-y: scroll !important;\n\n    .content {\n      padding: 0 2em;\n      width: 60rem;\n      min-height: 70rem;\n\n      .email {\n        .link {\n          color: $text-secondary;\n\n          .iconfont {\n            margin-right: $xs-gap;\n          }\n          .text {\n            font-weight: bold;\n          }\n\n          &:hover {\n            color: $link-hover;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import { VALUABLE_LINKS } from '/@/config/app.config'\nimport { LanguageKey } from '/@/language'\nimport { RouteName, CategorySlug } from '/@/app/router'\nimport { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\nimport { getTargetCDNURL } from '/@/transforms/url'\n\nexport interface MenuItem {\n  id: string\n  icon: string\n  i18nKey: LanguageKey\n  imageIcon?: string\n  divider?: boolean\n  newWindow?: boolean\n  hot?: boolean\n  route?: string\n  url?: string\n}\n\nexport const menus: Array<MenuItem> = [\n  {\n    id: RouteName.Home,\n    route: '/',\n    icon: 'icon-home-fill',\n    i18nKey: LanguageKey.PAGE_HOME\n  },\n  {\n    id: CategorySlug.Code,\n    route: getCategoryFlowRoute(CategorySlug.Code),\n    icon: 'icon-code',\n    i18nKey: LanguageKey.CATEGORY_CODE\n  },\n  {\n    id: CategorySlug.Insight,\n    route: getCategoryFlowRoute(CategorySlug.Insight),\n    icon: 'icon-thinking',\n    i18nKey: LanguageKey.CATEGORY_INSIGHT\n  },\n  {\n    id: 'github',\n    url: VALUABLE_LINKS.GITHUB,\n    icon: 'icon-github',\n    newWindow: true,\n    i18nKey: LanguageKey.PAGE_GITHUB\n  },\n  {\n    id: RouteName.Lens,\n    route: getPageRoute(RouteName.Lens),\n    icon: 'icon-lens',\n    i18nKey: LanguageKey.PAGE_LENS\n  },\n  {\n    id: RouteName.About,\n    route: getPageRoute(RouteName.About),\n    icon: 'icon-swordsman',\n    i18nKey: LanguageKey.PAGE_ABOUT\n  },\n  /*\n  {\n    id: RouteName.Job,\n    route: getPageRoute(RouteName.Job),\n    icon: 'icon-horse',\n    i18nKey: LanguageKey.PAGE_JOB\n  },\n  */\n  {\n    id: RouteName.Freelancer,\n    route: getPageRoute(RouteName.Freelancer),\n    icon: 'icon-coin-s',\n    i18nKey: LanguageKey.PAGE_FREELANCER\n  },\n  {\n    id: RouteName.Guestbook,\n    route: getPageRoute(RouteName.Guestbook),\n    icon: 'icon-comment',\n    i18nKey: LanguageKey.PAGE_GUESTBOOK\n  },\n  {\n    id: RouteName.App,\n    route: getPageRoute(RouteName.App),\n    divider: true,\n    icon: 'icon-app',\n    imageIcon: getTargetCDNURL('/images/page-app/logo.png'),\n    i18nKey: LanguageKey.PAGE_APP\n  },\n  {\n    id: RouteName.Merch,\n    route: getPageRoute(RouteName.Merch),\n    divider: true,\n    hot: true,\n    icon: 'icon-rubik',\n    i18nKey: LanguageKey.PAGE_MERCH\n  }\n]\n","<template>\n  <div :id=\"NAV_ELEMENT_ID\" class=\"desktop-nav\">\n    <nav class=\"nav-list\" :class=\"{ en: !isZhLang }\">\n      <template v-for=\"menu in menus\" :key=\"menu.id\">\n        <span class=\"divider\" v-if=\"menu.divider\"></span>\n        <router-link\n          v-if=\"menu.route\"\n          class=\"item\"\n          :class=\"[menu.id, { hot: menu.hot }]\"\n          :to=\"menu.route\"\n          exact\n        >\n          <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n          <i v-else class=\"iconfont\" :class=\"menu.icon\"></i>\n          <span class=\"text\">\n            <i18n :k=\"menu.i18nKey\" />\n          </span>\n          <span class=\"superscript\" v-if=\"menu.hot\">\n            <i class=\"iconfont icon-hot-fill\"></i>\n          </span>\n        </router-link>\n        <ulink\n          v-else-if=\"menu.url\"\n          class=\"item\"\n          :class=\"[menu.id, { hot: menu.hot }]\"\n          :href=\"menu.url\"\n        >\n          <i class=\"iconfont\" :class=\"menu.icon\"></i>\n          <span class=\"text\">\n            <i18n :k=\"menu.i18nKey\" />\n          </span>\n          <span class=\"newscript\" v-if=\"menu.newWindow\">\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </span>\n          <span class=\"superscript\" v-if=\"menu.hot\">\n            <i class=\"iconfont icon-hot-fill\"></i>\n          </span>\n        </ulink>\n      </template>\n      <!-- AD -->\n      <template v-for=\"(ad, index) in adConfig.PC_NAV\" :key=\"index\">\n        <span class=\"divider\"></span>\n        <ulink class=\"item\" :href=\"ad.url\">\n          <i class=\"iconfont\" :class=\"ad.icon\" :style=\"{ color: ad.color }\"></i>\n          <span class=\"text\" :style=\"{ color: ad.color }\">\n            <template v-if=\"ad.i18n\">\n              <i18n :zh=\"ad.i18n.zh\" :en=\"ad.i18n.en\" />\n            </template>\n            <template v-else>\n              {{ ad.text }}\n            </template>\n          </span>\n          <span class=\"superscript\">\n            <i class=\"iconfont icon-ad\"></i>\n          </span>\n        </ulink>\n      </template>\n    </nav>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { NAV_ELEMENT_ID } from '/@/constants/anchor'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { menus } from './menu'\n  export default defineComponent({\n    name: 'DesktopNav',\n    setup() {\n      const { adConfig, isZhLang } = useEnhancer()\n      return {\n        NAV_ELEMENT_ID,\n        menus,\n        adConfig,\n        isZhLang\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .desktop-nav {\n    width: $navbar-width;\n    height: auto;\n\n    .nav-list {\n      width: $navbar-width;\n      padding: 0;\n      margin: 0;\n      position: fixed;\n\n      &.en {\n        .item {\n          .text {\n            font-size: $font-size-h6;\n          }\n        }\n      }\n\n      .item {\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 3em;\n        line-height: 3em;\n        padding: 0 $lg-gap;\n        text-decoration: none;\n        text-transform: uppercase;\n        font-weight: bold;\n        border-radius: $mini-radius;\n        color: $text-secondary;\n        font-family: 'webfont-normal', DINRegular;\n        letter-spacing: 0.5px;\n        margin-bottom: $sm-gap;\n        will-change: background-color;\n        transition: background-color $transition-time-fast * 0.6;\n        @include radius-box($sm-radius);\n        &:last-child {\n          margin-bottom: 0;\n        }\n        &:hover {\n          color: $primary-lighter;\n          background-color: $module-bg-translucent;\n        }\n\n        &.link-active {\n          color: $primary;\n          background-color: $module-bg-lighter;\n\n          &.guestbook {\n            background: linear-gradient(to bottom, $module-bg-lighter, transparent);\n          }\n        }\n\n        .newscript {\n          margin-left: $sm-gap;\n          .iconfont {\n            font-size: $font-size-small;\n          }\n        }\n\n        .superscript {\n          margin-left: $sm-gap;\n          .iconfont {\n            width: auto;\n            margin-right: 0;\n            color: $red;\n          }\n        }\n\n        &.hot {\n          color: $red;\n        }\n\n        &.app {\n          color: $surmon;\n        }\n\n        .image-icon {\n          width: 1em;\n          height: 1em;\n          margin-right: $gap;\n          border-radius: $xs-radius;\n        }\n\n        .iconfont {\n          width: 1em;\n          margin-right: $gap;\n          display: inline-block;\n          font-weight: normal;\n        }\n      }\n\n      .divider {\n        display: block;\n        height: 0;\n        background-color: transparent;\n        border-top: 1px dotted $module-bg-darker-2;\n        margin-bottom: $sm-gap;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"search\">\n    <form class=\"search-box\" ref=\"formElement\">\n      <input\n        id=\"keyword\"\n        class=\"search-input\"\n        required\n        type=\"search\"\n        name=\"search\"\n        maxlength=\"16\"\n        v-model.trim=\"keyword\"\n        :class=\"i18n.language\"\n        :placeholder=\"i18n.t(LanguageKey.SEARCH_PLACEHOLDER)\"\n        @keyup.enter=\"handleSearch\"\n      />\n      <button type=\"submit\" class=\"search-btn\" @click=\"handleSearch\">\n        <i class=\"iconfont icon-search\" />\n      </button>\n    </form>\n    <router-link class=\"archive-btn\" :to=\"{ name: RouteName.Archive }\">\n      <i class=\"iconfont icon-peachblossom\" />\n    </router-link>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { isSearchFlow } from '/@/transforms/route'\n\n  export default defineComponent({\n    name: 'DesktopAsideSearch',\n    setup() {\n      const { i18n, gtag, route, router } = useEnhancer()\n      const formElement = ref<HTMLFormElement>()\n      const keyword = ref('')\n\n      onMounted(() => {\n        if (isSearchFlow(route.name as string)) {\n          keyword.value = route.params.keyword as string\n        }\n      })\n\n      const handleSearch = (event) => {\n        event.preventDefault()\n        const check_status = formElement.value?.checkValidity()\n        if (!check_status) {\n          formElement.value?.reportValidity()\n          return\n        }\n\n        const inputKeyword = keyword.value\n        const paramsKeyword = route.params.keyword as string\n        const isSearchPage = isSearchFlow(route.name as string)\n        if (inputKeyword && (!isSearchPage || paramsKeyword !== inputKeyword)) {\n          router.push({\n            name: RouteName.SearchFlow,\n            params: { keyword: inputKeyword }\n          })\n          gtag?.event('aside_search', {\n            event_category: GAEventCategories.Universal,\n            event_label: inputKeyword\n          })\n        }\n      }\n\n      return {\n        LanguageKey,\n        RouteName,\n        formElement,\n        i18n,\n        keyword,\n        handleSearch\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .search {\n    padding: $sm-gap;\n    width: 100%;\n    height: 3em;\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n\n    .search-input,\n    .search-btn,\n    .archive-btn {\n      height: 2em;\n      line-height: 2em;\n      background-color: $module-bg-darker-1;\n      @include background-transition();\n\n      &:hover {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    > .search-box {\n      display: flex;\n      flex-grow: 1;\n\n      .search-input {\n        margin-right: 0;\n        flex-grow: 1;\n        &::-webkit-calendar-picker-indicator {\n          display: none;\n        }\n      }\n\n      .search-btn {\n        width: 2em;\n        background-color: $module-bg-darker-3;\n        @include background-transition();\n\n        &:hover {\n          background-color: $module-bg-darker-4;\n        }\n      }\n    }\n\n    .archive-btn {\n      display: inline-block;\n      text-align: center;\n      margin-left: $sm-gap;\n      border-radius: $mini-radius;\n      width: 3em;\n\n      .iconfont {\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"article\">\n    <div class=\"header\">\n      <span class=\"title\">\n        <i class=\"iconfont icon-hotfill\" />\n        <span class=\"text\">\n          <i18n :k=\"LanguageKey.HOT_ARTICLE_LIST_TITLE\" />\n        </span>\n      </span>\n      <button class=\"switch\" @click=\"switchHotPage\">\n        <i class=\"iconfont icon-switch\" />\n      </button>\n    </div>\n    <placeholder :data=\"articles\" :loading=\"isFetching\" :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\">\n      <template #loading>\n        <ul class=\"article-list-skeleton\" key=\"skeleton\">\n          <li v-for=\"item in 5\" :key=\"item\" class=\"item\">\n            <skeleton-line />\n          </li>\n        </ul>\n      </template>\n      <template #default>\n        <ul class=\"article-list\" key=\"list\">\n          <li v-for=\"item in articles\" :key=\"item.id\" class=\"item\">\n            <span class=\"index\"></span>\n            <router-link class=\"title\" :to=\"getArticleDetailRoute(item.id)\" :title=\"item.title\">\n              {{ item.title }}\n            </router-link>\n          </li>\n        </ul>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed } from 'vue'\n  import { useArticleListStore } from '/@/stores/article'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { LanguageKey } from '/@/language'\n\n  const PER_PAGE = 10\n\n  export default defineComponent({\n    name: 'DesktopAsideArticle',\n    setup() {\n      const articleListStore = useArticleListStore()\n      const isFetching = computed(() => articleListStore.hotList.fetching)\n      const hotPage = ref(0)\n      const articles = computed(() => {\n        const perPage = hotPage.value * PER_PAGE\n        return articleListStore.hotList.data.slice(perPage, perPage + PER_PAGE)\n      })\n\n      const switchHotPage = () => {\n        const count = articleListStore.hotList.data.length\n        const pages = Math.ceil(count / PER_PAGE)\n        if (hotPage.value < pages - 1) {\n          hotPage.value++\n        } else {\n          hotPage.value = 0\n        }\n      }\n\n      return {\n        isFetching,\n        articles,\n        switchHotPage,\n        getArticleDetailRoute,\n        LanguageKey\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .article {\n    overflow: hidden;\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n      height: 3em;\n      line-height: 3em;\n      margin: 0;\n      padding: 0 $gap;\n      border-bottom: 1px dotted $module-bg-darker-1;\n\n      .title {\n        .iconfont {\n          margin-right: $sm-gap;\n        }\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .switch {\n        color: $text-secondary;\n        &:hover {\n          color: $text;\n        }\n      }\n    }\n\n    .article-list-skeleton {\n      list-style: none;\n      padding: $gap;\n      margin: 0;\n\n      .item {\n        height: 1em;\n        margin-bottom: $gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .article-list {\n      list-style: none;\n      padding: $sm-gap 0;\n      margin-bottom: 0;\n      counter-reset: hot-article-list;\n\n      .item {\n        display: flex;\n        align-items: center;\n        height: 2.2rem;\n        padding: 0 $gap;\n        margin-bottom: $sm-gap;\n        color: $text-darker;\n\n        &:nth-child(1) {\n          .index {\n            color: $white;\n            background-color: $primary-translucent;\n          }\n        }\n\n        &:nth-child(2) {\n          .index {\n            color: $white;\n            background-color: rgba($accent, 0.6);\n          }\n        }\n\n        &:nth-child(3) {\n          .index {\n            color: $white;\n            background-color: rgba($red, 0.6);\n          }\n        }\n\n        &:last-child {\n          margin: 0;\n        }\n\n        .index {\n          $size: 1.5em;\n          flex-shrink: 0;\n          color: $text-disabled;\n          counter-increment: hot-article-list;\n          background-color: $module-bg-darker-1;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          display: block;\n          text-align: center;\n          margin-right: $sm-gap;\n          font-size: 1rem;\n          font-weight: bold;\n          border-radius: $xs-radius;\n\n          &::before {\n            content: counter(hot-article-list);\n          }\n        }\n\n        .title {\n          display: block;\n          font-size: $font-size-h6;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          @include text-overflow();\n\n          &:hover {\n            text-decoration: none;\n            border-bottom-color: initial;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"mammon\">\n    <swiper\n      class=\"swiper\"\n      direction=\"vertical\"\n      :initial-slide=\"index\"\n      :loop=\"true\"\n      :simulate-touch=\"false\"\n      :autoplay=\"{ delay: 2800, disableOnInteraction: false }\"\n      :pagination=\"{ clickable: true }\"\n      :set-wrapper-size=\"true\"\n      :auto-height=\"true\"\n      :mousewheel=\"true\"\n      :observe-parents=\"true\"\n      :preload-images=\"false\"\n      :lazy=\"true\"\n      @swiper=\"updateSwiper\"\n      @slide-change-transition-end=\"handleSlideChange\"\n    >\n      <swiper-slide\n        class=\"swiper-slide\"\n        :key=\"_index\"\n        v-for=\"(ad, _index) in adConfig.PC_ASIDE_SWIPER\"\n      >\n        <ulink class=\"content\" :href=\"ad.url\">\n          <uimage :src=\"ad.src\" alt=\"aliyun-ad\" />\n          <i class=\"iconfont icon-ad\"></i>\n        </ulink>\n      </swiper-slide>\n    </swiper>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  export enum AsideMammonEvent {\n    Ready = 'ready',\n    UpdateIndex = 'update:index',\n    IndexChange = 'index-change'\n  }\n  export default defineComponent({\n    name: 'DesktopAsideMammon',\n    components: {\n      Swiper,\n      SwiperSlide\n    },\n    props: {\n      index: {\n        type: Number,\n        default: 0\n      },\n      ready: {\n        type: Object\n      }\n    },\n    emits: [AsideMammonEvent.Ready, AsideMammonEvent.UpdateIndex, AsideMammonEvent.IndexChange],\n    setup(props, context) {\n      const { adConfig } = useEnhancer()\n      const swiper = ref<SwiperClass>()\n      const updateSwiper = (_swiper: SwiperClass) => {\n        swiper.value = _swiper\n        context.emit(AsideMammonEvent.Ready, swiper.value)\n      }\n\n      const handleSlideChange = () => {\n        const realIndex = swiper.value?.realIndex\n        context.emit(AsideMammonEvent.UpdateIndex, realIndex)\n        context.emit(AsideMammonEvent.IndexChange, realIndex)\n      }\n\n      return {\n        adConfig,\n        updateSwiper,\n        handleSlideChange\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .mammon {\n    width: 100%;\n    overflow: hidden;\n\n    .swiper {\n      height: 88px;\n\n      .swiper-wrapper {\n        &[style*='300ms'] {\n          .swiper-slide-active {\n            @include blur-filter('vertical-small');\n          }\n        }\n\n        .swiper-slide {\n          .content {\n            display: block;\n            width: 100%;\n            height: 100%;\n            position: relative;\n\n            img {\n              width: 100%;\n              height: auto;\n            }\n\n            .iconfont {\n              position: absolute;\n              bottom: $sm-gap;\n              right: $gap;\n              color: $white;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"tag\">\n    <placeholder\n      :data=\"tagStore.sorted.length\"\n      :fetching=\"tagStore.fetching\"\n      :i18n-key=\"LanguageKey.TAG_PLACEHOLDER\"\n    >\n      <template #loading>\n        <ul class=\"tag-list-skeleton\" key=\"skeleton\">\n          <li v-for=\"item in 14\" :key=\"item\" class=\"item\">\n            <skeleton-line />\n          </li>\n        </ul>\n      </template>\n      <template #default>\n        <div class=\"tag-list\" key=\"list\">\n          <router-link\n            class=\"item\"\n            :title=\"`${tagEnName(tag)} | ${tag.description}`\"\n            :to=\"getTagFlowRoute(tag.slug)\"\n            :key=\"index\"\n            v-for=\"(tag, index) in tagStore.sorted\"\n          >\n            <i class=\"iconfont\" :class=\"getTagIcon(tag)\" />\n            <span class=\"name\">\n              <i18n :zh=\"tag.name\" :en=\"tagEnName(tag)\" />\n              <span class=\"count\">({{ tag.articles_count || 0 }})</span>\n            </span>\n          </router-link>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useTagStore, tagEnName, Tag } from '/@/stores/tag'\n  import { LanguageKey } from '/@/language'\n  import { getTagFlowRoute } from '/@/transforms/route'\n  import { getExtendValue } from '/@/transforms/state'\n\n  export default defineComponent({\n    name: 'DesktopAsideTag',\n    setup() {\n      const tagStore = useTagStore()\n      const getTagIcon = (tag: Tag) => {\n        return getExtendValue(tag.extends || [], 'icon') || 'icon-tag'\n      }\n\n      return {\n        LanguageKey,\n        tagStore,\n        tagEnName,\n        getTagIcon,\n        getTagFlowRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .tag {\n    margin-bottom: 0;\n    overflow-y: auto;\n    width: 100%;\n    border-top: $gap solid transparent;\n    border-bottom: $gap solid transparent;\n\n    .tag-list-skeleton {\n      display: flex;\n      flex-wrap: wrap;\n      list-style: none;\n      padding: 0;\n      margin: 0 $gap;\n      overflow: hidden;\n\n      .item {\n        width: calc(50% - #{math.div($gap, 2)});\n        height: 1.4em;\n        margin-right: 0;\n        margin-bottom: $gap;\n\n        &:nth-child(2n-1) {\n          margin-right: $gap;\n        }\n        &:nth-child(4n-1) {\n          width: 30%;\n          margin-right: $gap;\n        }\n        &:nth-child(4n) {\n          width: calc(70% - #{$gap});\n        }\n        &:nth-last-child(1),\n        &:nth-last-child(2) {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .tag-list {\n      list-style: none;\n      padding: 0;\n      overflow: hidden;\n      margin-left: $gap;\n      margin-top: -$gap;\n\n      .item {\n        $height: 2em;\n        display: inline-flex;\n        margin-right: $sm-gap;\n        margin-top: $gap;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-h6;\n        font-family: $font-family-normal;\n        @include radius-box($xs-radius);\n\n        .iconfont {\n          width: 2em;\n          text-align: center;\n          background-color: $module-bg-darker-1;\n          @include background-transition();\n        }\n\n        .name {\n          display: block;\n          padding: 0 $sm-gap;\n          @include background-transition();\n\n          .count {\n            margin-left: $xs-gap;\n            color: $text-secondary;\n          }\n        }\n\n        &.link-active {\n          .iconfont {\n            color: $module-bg-opaque;\n            background-color: $primary-translucent;\n          }\n          .name {\n            font-weight: bold;\n            color: $text-reversal;\n            background-color: $primary;\n            .count {\n              color: $text-reversal;\n            }\n          }\n        }\n\n        &:not(.link-active) {\n          .name {\n            background-color: $module-bg-hover;\n          }\n\n          &:hover {\n            .iconfont {\n              background-color: $module-bg-hover;\n            }\n            .name {\n              background-color: $module-bg-darker-3;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"anchor\" v-if=\"article\">\n    <button\n      class=\"header\"\n      :title=\"article.title\"\n      @click=\"handleAnchor(ANCHORS.ARTICLE_CONTENT_ELEMENT_ID)\"\n    >\n      <div class=\"title\">{{ article.title }}</div>\n      <div class=\"read\">\n        <i18n>\n          <template #zh\n            >共 {{ store.contentLength }} 字，需阅读 {{ store.readMinutes }} 分钟</template\n          >\n          <template #en>{{ store.contentLength }} words, {{ store.readMinutes }} min read</template>\n        </i18n>\n      </div>\n    </button>\n    <div class=\"catalogue\" v-if=\"headings.length\">\n      <ul class=\"list\" :class=\"`indent-${minHeadingLevel}`\">\n        <li\n          class=\"item\"\n          :key=\"index\"\n          :title=\"heading.text\"\n          :class=\"`level-${heading.level}`\"\n          v-for=\"(heading, index) in headings\"\n          @click=\"handleAnchor(heading.id)\"\n        >\n          <i class=\"level iconfont\" :class=\"`icon-h-${heading.level}`\"></i>\n          <span class=\"text\">{{ heading.text }}</span>\n        </li>\n        <li\n          class=\"item readmore\"\n          key=\"readmore\"\n          v-if=\"store.isLongContent && !store.renderedFullContent\"\n          :class=\"`level-${minHeadingLevel}`\"\n          @click=\"handleAnchor(ANCHORS.ARTICLE_READMORE_ELEMENT_ID)\"\n        >\n          <i class=\"level iconfont icon-loadmore\"></i>\n          <span class=\"text\"><i18n :k=\"LanguageKey.ARTICLE_READ_ALL\" /></span>\n        </li>\n      </ul>\n    </div>\n    <button class=\"link\" @click=\"handleAnchor(ANCHORS.ARTICLE_META_ELEMENT_ID)\">\n      <i class=\"iconfont icon-heart\"></i>\n      <i18n zh=\"摁赞\" en=\"Meta\" />\n      <divider type=\"vertical\" />\n      <span class=\"meta\">\n        <i class=\"iconfont icon-eye\"></i>\n        <span class=\"count\">{{ article.meta.views }}</span>\n      </span>\n      <divider type=\"vertical\" />\n      <span class=\"meta\">\n        <i class=\"iconfont icon-like\"></i>\n        <span class=\"count\">{{ article.meta.likes }}</span>\n      </span>\n    </button>\n    <button class=\"link\" @click=\"handleAnchor(ANCHORS.ARTICLE_RELATED_ELEMENT_ID)\">\n      <i class=\"iconfont icon-category\"></i>\n      <i18n zh=\"相关\" en=\"Related\" />\n      <divider type=\"vertical\" />\n      <span class=\"count\">{{ store.relatedArticles.length }}</span>\n    </button>\n    <button class=\"link\" @click=\"handleAnchor(ANCHORS.COMMENT_ELEMENT_ID)\">\n      <i class=\"iconfont icon-comment\"></i>\n      <i18n zh=\"评论\" en=\"Comments\" />\n      <divider type=\"vertical\" />\n      <span class=\"count\">{{ article.meta.comments }}</span>\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import * as ANCHORS from '/@/constants/anchor'\n  import { LanguageKey } from '/@/language'\n  import { useArticleDetailStore } from '/@/stores/article'\n  import { scrollToAnchor } from '/@/utils/scroller'\n\n  export default defineComponent({\n    name: 'DesktopAsideAnchor',\n    setup() {\n      const articleDetailStore = useArticleDetailStore()\n      const article = computed(() => articleDetailStore.article)\n      const headings = computed(() => {\n        const result = [...(articleDetailStore.defaultContent?.headings || [])]\n        if (articleDetailStore.isLongContent && articleDetailStore.renderedFullContent) {\n          result.push(...(articleDetailStore.moreContent?.headings || []))\n        }\n        return result\n      })\n\n      const minHeadingLevel = computed(() => {\n        return Math.min(...headings.value.map((heading) => heading.level))\n      })\n\n      const handleAnchor = (elementID: string) => {\n        scrollToAnchor(elementID)\n      }\n\n      return {\n        ANCHORS,\n        LanguageKey,\n        article,\n        store: articleDetailStore,\n        headings,\n        minHeadingLevel,\n        handleAnchor\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .anchor {\n    padding: $gap;\n    display: flex;\n    flex-direction: column;\n\n    .header,\n    .catalogue,\n    .link {\n      display: block;\n      width: 100%;\n      border: 1px dashed $module-bg-hover;\n      border-radius: $sm-radius;\n      margin-bottom: $gap;\n      text-align: left;\n    }\n\n    .header,\n    .link,\n    .catalogue {\n      &:hover {\n        border-color: $primary;\n      }\n    }\n\n    .link {\n      flex-shrink: 0;\n      padding: 0 $gap;\n      height: 3rem;\n      line-height: 3rem;\n      @include text-overflow();\n      &:last-child {\n        margin-bottom: 0;\n      }\n      &:hover {\n        color: $primary;\n      }\n\n      .count {\n        font-weight: bold;\n      }\n\n      .iconfont {\n        margin-right: $sm-gap;\n      }\n    }\n\n    .header {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-evenly;\n      flex-shrink: 0;\n      padding: $xs-gap $gap;\n      height: 6rem;\n\n      .title {\n        display: block;\n        width: 100%;\n        font-weight: bold;\n        @include text-overflow();\n      }\n\n      .read {\n        font-size: $font-size-small;\n      }\n    }\n\n    .catalogue {\n      max-height: 36rem;\n      padding: $sm-gap $gap;\n      overflow-y: auto;\n      @include scroll-snap-y();\n      &:hover {\n        border-color: $primary;\n      }\n\n      .list {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        padding-left: $xs-gap;\n        &.indent-2 {\n          margin-left: -$font-size-h4;\n        }\n        &.indent-3 {\n          margin-left: -$font-size-h4 * 2;\n        }\n        &.indent-4 {\n          margin-left: -$font-size-h4 * 3;\n        }\n        &.indent-5 {\n          margin-left: -$font-size-h4 * 4;\n        }\n        &.indent-6 {\n          margin-left: -$font-size-h4 * 5;\n        }\n\n        .item {\n          cursor: pointer;\n          line-height: 2.4em;\n          @include scroll-snap-item();\n          @include text-overflow();\n          &:hover {\n            color: $primary;\n            .iconfont {\n              color: $primary;\n            }\n\n            .text {\n              font-weight: bold;\n              border-color: $primary;\n            }\n          }\n\n          .level {\n            margin-right: $xs-gap;\n            color: $text-disabled;\n          }\n\n          .text {\n            padding-bottom: 3px;\n            border-bottom: 1px dotted $text-divider;\n          }\n\n          &.level-2 {\n            padding-left: $font-size-h4;\n          }\n          &.level-3 {\n            padding-left: $font-size-h4 * 2;\n          }\n          &.level-4 {\n            padding-left: $font-size-h4 * 3;\n          }\n          &.level-5 {\n            padding-left: $font-size-h4 * 4;\n          }\n          &.level-6 {\n            padding-left: $font-size-h4 * 5;\n          }\n\n          &.readmore {\n            margin-top: $xs-gap;\n            .text {\n              font-weight: bold;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"calendar\">\n    <!-- header -->\n    <div class=\"header\">\n      <button class=\"item arrow\" @click=\"toPrevMonth\">\n        <i class=\"iconfont icon-prev\"></i>\n      </button>\n      <span class=\"item year-month\">{{ headerText }}</span>\n      <button class=\"item arrow\" @click=\"toNextMonth\">\n        <i class=\"iconfont icon-next\"></i>\n      </button>\n    </div>\n    <!-- weekdays -->\n    <ul class=\"weekdays\">\n      <li v-for=\"(day, index) in weekDayTexts\" :key=\"index\">{{ day }}</li>\n    </ul>\n    <!-- days -->\n    <ul class=\"days\">\n      <li v-for=\"(item, index) in tableView.table\" :key=\"index\">\n        <div\n          class=\"item\"\n          :class=\"{\n            today: isToday(item),\n            other: item.month !== tableView.month\n          }\"\n          @click=\"handleDayClick(item)\"\n        >\n          <slot name=\"day\" v-bind=\"item\">{{ item.day }}</slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, reactive, computed } from 'vue'\n  import { Language } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import {\n    cloneDate,\n    dateToHuman,\n    humanToDate,\n    isSameHumanDay,\n    humanDateToYMD,\n    HumanDate\n  } from '/@/transforms/moment'\n\n  export default defineComponent({\n    name: 'DesktopAsideCalendar',\n    setup() {\n      const { i18n, isZhLang } = useEnhancer()\n      const today = dateToHuman(new Date())\n      const tableView = reactive({\n        month: 0,\n        year: 1970,\n        table: [] as Array<HumanDate>\n      })\n\n      const WEEKDAYS = {\n        [Language.English]: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        [Language.Chinese]: ['一', '二', '三', '四', '五', '六', '日']\n      }\n\n      const weekDayTexts = computed(() => WEEKDAYS[i18n.language.value])\n      const headerText = computed(() => {\n        const isSameYear = tableView.year === today.year\n        const isSameMonth = tableView.month === today.month\n        const isSameTodayTable = isSameYear && isSameMonth\n        if (isZhLang.value) {\n          const yearText = `${tableView.year} 年`\n          const monthText = ` ${tableView.month} 月`\n          const dayText = isSameTodayTable ? ` ${today.day} 日` : ''\n          return yearText + monthText + dayText\n        }\n        return humanDateToYMD(isSameTodayTable ? today : tableView, ' / ')\n      })\n\n      const setTable = (humanDate: Omit<HumanDate, 'day' | 'week'>) => {\n        const table: HumanDate[] = []\n        const firstDayDate = humanToDate({ ...humanDate, day: 1 })\n        const firstDayWeek = dateToHuman(firstDayDate).week\n\n        // before days\n        for (let i = firstDayWeek - 1; i >= 0; i--) {\n          const date = cloneDate(firstDayDate)\n          date.setDate(date.getDate() - i)\n          table.push(dateToHuman(date))\n        }\n\n        // after days\n        const todoDays = 35 - table.length\n        for (let i = 1; i <= todoDays; i++) {\n          const date = cloneDate(firstDayDate)\n          date.setDate(date.getDate() + i)\n          table.push(dateToHuman(date))\n        }\n\n        Object.assign(tableView, {\n          year: humanDate.year,\n          month: humanDate.month,\n          table\n        })\n      }\n\n      const toPrevMonth = () => {\n        const isPrevYear = tableView.month - 1 <= 0\n        setTable({\n          year: tableView.year - (isPrevYear ? 1 : 0),\n          month: isPrevYear ? 12 : tableView.month - 1\n        })\n      }\n\n      const toNextMonth = () => {\n        const isNextYear = tableView.month + 1 >= 13\n        setTable({\n          year: tableView.year + (isNextYear ? 1 : 0),\n          month: isNextYear ? 1 : tableView.month + 1\n        })\n      }\n\n      const handleDayClick = (date: HumanDate) => {\n        if (date.month < tableView.month) {\n          toPrevMonth()\n        } else if (date.month > tableView.month) {\n          toNextMonth()\n        }\n      }\n\n      // init table\n      setTable({\n        year: today.year,\n        month: today.month\n      })\n\n      return {\n        tableView,\n        headerText,\n        weekDayTexts,\n        toPrevMonth,\n        toNextMonth,\n        handleDayClick,\n        isToday: (target) => isSameHumanDay(target, today)\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .calendar {\n    min-height: 17em;\n\n    > .header {\n      padding: 0;\n      margin-bottom: $gap;\n      overflow: hidden;\n      display: flex;\n      justify-content: space-between;\n\n      .item {\n        height: 2em;\n        line-height: 2em;\n        text-align: center;\n\n        &.arrow {\n          width: 2em;\n          background-color: $module-bg-darker-1;\n          border-radius: $xs-radius;\n          cursor: pointer;\n          @include background-transition();\n\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n\n        &.year-month {\n          font-weight: bold;\n        }\n      }\n    }\n\n    > .days,\n    > .weekdays {\n      list-style: none;\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      margin: 0;\n      margin-bottom: $sm-gap;\n      padding: 0;\n      overflow: hidden;\n\n      > li {\n        display: block;\n        text-align: center;\n      }\n    }\n\n    > .weekdays {\n      height: 2em;\n      line-height: 2em;\n    }\n\n    > .days-loading {\n      width: 100%;\n      height: 14rem;\n    }\n\n    > .days {\n      min-height: 10em;\n      margin-bottom: 0;\n      position: relative;\n\n      > li {\n        line-height: 2.5em;\n\n        > .item {\n          display: block;\n          border-radius: 100%;\n\n          &:hover {\n            background-color: $module-bg-darker-1;\n          }\n\n          &.today {\n            background-color: $module-bg-hover;\n          }\n\n          &.active {\n            color: $text-reversal;\n            background-color: $primary;\n          }\n\n          &.other {\n            opacity: 0.3;\n            cursor: initial;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <calendar class=\"calendar\">\n    <template #day=\"humanDate\">\n      <router-link class=\"date-link\" v-if=\"articlesIn(humanDate) > 0\" :to=\"getDateRoute(humanDate)\">\n        {{ humanDate.day }}\n      </router-link>\n      <span class=\"date-span\" v-else>{{ humanDate.day }}</span>\n    </template>\n  </calendar>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, onMounted } from 'vue'\n  import { useArticleCalendarStore } from '/@/stores/aggregate'\n  import { humanDateToYMD, HumanDate } from '/@/transforms/moment'\n  import { getDateFlowRoute } from '/@/transforms/route'\n  import Calendar from '/@/components/widget/calendar.vue'\n\n  export default defineComponent({\n    name: 'DesktopAsideCalendar',\n    components: { Calendar },\n    setup() {\n      const articleCalendarStore = useArticleCalendarStore()\n      const articlesIn = (targetDate: HumanDate) => {\n        const ymd = humanDateToYMD(targetDate)\n        return articleCalendarStore.data.find((item) => item.date === ymd)?.count || 0\n      }\n\n      const getDateRoute = (humanDate: HumanDate) => {\n        return getDateFlowRoute(humanDateToYMD(humanDate))\n      }\n\n      onMounted(() => articleCalendarStore.fetch())\n\n      return {\n        articlesIn,\n        getDateRoute\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .calendar {\n    padding: $gap;\n\n    .date-link {\n      position: relative;\n      display: block;\n      border-radius: 100%;\n      font-weight: bold;\n      color: $primary;\n      &::before {\n        content: '';\n        $size: 4px;\n        position: absolute;\n        top: 0.3em;\n        right: 50%;\n        width: $size;\n        height: $size;\n        margin-right: -#{math.div($size, 2)};\n        border-radius: 100%;\n        background-color: $primary;\n      }\n\n      &:hover,\n      &.link-active {\n        background-color: $primary;\n        color: $text-reversal;\n        &::before {\n          background-color: $text-reversal;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <aside :id=\"ASIDE_ELEMENT_ID\" class=\"desktop-aside\" ref=\"element\">\n    <div class=\"module\">\n      <aside-search />\n    </div>\n    <div class=\"module\">\n      <aside-article />\n    </div>\n    <client-only transition>\n      <div class=\"module mammon\">\n        <aside-mammon />\n      </div>\n    </client-only>\n    <div class=\"module\">\n      <aside-calendar />\n    </div>\n    <div :id=\"ASIDE_STICKY_ELEMENT_ID\" class=\"aside-sticky-box\">\n      <div class=\"module mammon-square\">\n        <client-only>\n          <Adsense\n            ins-style=\"display:inline-block;width:250px;height:250px\"\n            data-ad-slot=\"6138120718\"\n            class=\"content\"\n          />\n        </client-only>\n      </div>\n      <div class=\"module\">\n        <client-only v-if=\"isArticlePage\">\n          <aside-anchor class=\"sticky-module\" />\n        </client-only>\n        <aside-tag class=\"sticky-module\" v-else />\n      </div>\n    </div>\n  </aside>\n</template>\n\n<script lang=\"ts\">\n  import { useRoute } from 'vue-router'\n  import { defineComponent, ref, computed, onMounted, onBeforeUnmount, nextTick } from 'vue'\n  import { ASIDE_ELEMENT_ID, MAIN_CONTENT_ELEMENT_ID } from '/@/constants/anchor'\n  import { isArticleDetail } from '/@/transforms/route'\n  import AsideSearch from './search.vue'\n  import AsideArticle from './article.vue'\n  import AsideMammon from './mammon.vue'\n  import AsideTag from './tag.vue'\n  import AsideAnchor from './anchor.vue'\n  import AsideCalendar from './calendar.vue'\n\n  const ASIDE_STICKY_ELEMENT_ID = 'aside-sticky-module'\n\n  export default defineComponent({\n    name: 'DesktopAside',\n    components: {\n      AsideSearch,\n      AsideArticle,\n      AsideMammon,\n      AsideCalendar,\n      AsideTag,\n      AsideAnchor\n    },\n    setup() {\n      const route = useRoute()\n      const isArticlePage = computed(() => isArticleDetail(route.name))\n\n      // polyfill sticky event\n      let stickyEvents: any = null\n      const element = ref<HTMLDivElement>(null as any)\n\n      const handleStickyStateChange = (event) => {\n        // workaround: when (main container height >= aside height) & isSticky -> render sticky ad\n        const asideElementHeight = element.value.clientHeight\n        const targetElement = document.getElementById(MAIN_CONTENT_ELEMENT_ID)?.children?.[0]\n        if (targetElement) {\n          const mainContentElementHeight = targetElement.clientHeight\n          const isFeasible = mainContentElementHeight >= asideElementHeight\n          // console.log(isFeasible && event.detail.isSticky)\n        }\n      }\n\n      onMounted(() => {\n        nextTick(() => {\n          stickyEvents = new window.$StickyEvents({\n            enabled: true,\n            stickySelector: `#${ASIDE_STICKY_ELEMENT_ID}`\n          })\n          stickyEvents.stickyElements?.[0]?.addEventListener(\n            window.$StickyEvents.CHANGE,\n            handleStickyStateChange\n          )\n        })\n      })\n\n      onBeforeUnmount(() => {\n        stickyEvents.stickyElements?.[0]?.removeEventListener(\n          window.$StickyEvents.CHANGE,\n          handleStickyStateChange\n        )\n        stickyEvents.disableEvents(false)\n        stickyEvents = null\n      })\n\n      return {\n        isArticlePage,\n        ASIDE_ELEMENT_ID,\n        ASIDE_STICKY_ELEMENT_ID,\n        element\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .desktop-aside {\n    display: block;\n    padding: 0;\n    width: $aside-width;\n\n    .module {\n      margin-bottom: $lg-gap;\n      @include radius-box($sm-radius);\n      @include common-bg-module();\n\n      &.mammon {\n        width: 100%;\n      }\n\n      &.mammon-square {\n        height: $aside-width;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .content {\n          height: 250px;\n          width: 250px;\n          overflow: hidden;\n        }\n      }\n\n      .sticky-module {\n        max-height: calc(100vh - 250px - #{$header-height + $lg-gap * 4});\n      }\n    }\n\n    .aside-sticky-box {\n      position: sticky;\n      top: $header-height + $lg-gap;\n      width: $aside-width;\n    }\n  }\n</style>\n","<template>\n  <header :id=\"HEADER_ELEMENT_ID\" class=\"header\" :class=\"{ 'enable-nav': isEnabledNav }\">\n    <div class=\"header-container container\">\n      <div class=\"header-header\">\n        <uimage cdn src=\"/images/logo.svg\" class=\"header-logo\" />\n        <span class=\"header-slogan\">\n          <i18n :k=\"LanguageKey.APP_SLOGAN\" />\n        </span>\n        <router-link\n          to=\"/\"\n          class=\"header-link\"\n          :title=\"t(LanguageKey.APP_SLOGAN)\"\n          @mousedown=\"handleRootNavEvent\"\n        />\n      </div>\n      <div class=\"toolbox\">\n        <button class=\"button menu\" v-if=\"isEnabledNav\">\n          <i class=\"iconfont icon-top-menu\"></i>\n        </button>\n        <button\n          class=\"button language\"\n          title=\"Switch language\"\n          :class=\"language\"\n          @click=\"tooggleLanguage\"\n        >\n          {{ language || '-' }}\n        </button>\n        <button class=\"button theme\" :class=\"theme\" @click=\"toggleTheme\">\n          <i class=\"iconfont\" :class=\"themeIcon\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"header-nav\">\n      <nav class=\"nav-list container\">\n        <template v-for=\"(menu, index) in menus\" :key=\"menu.id\">\n          <span class=\"divider\" v-if=\"index > 0\"></span>\n          <router-link\n            v-if=\"menu.route\"\n            class=\"item\"\n            :class=\"[menu.id, { hot: menu.hot }]\"\n            :to=\"menu.route\"\n            exact\n          >\n            <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n            <i v-else class=\"iconfont\" :class=\"menu.icon\"></i>\n            <span class=\"text\">\n              <i18n :k=\"menu.i18nKey\" />\n            </span>\n            <span v-if=\"menu.hot\" class=\"superscript\">\n              <i class=\"iconfont icon-hot-fill\"></i>\n            </span>\n          </router-link>\n          <ulink\n            v-else-if=\"menu.url\"\n            class=\"item\"\n            :class=\"[menu.id, { hot: menu.hot }]\"\n            :href=\"menu.url\"\n          >\n            <i class=\"iconfont\" :class=\"menu.icon\"></i>\n            <span class=\"text\">\n              <i18n :k=\"menu.i18nKey\" />\n            </span>\n            <span class=\"newscript\" v-if=\"menu.newWindow\">\n              <i class=\"iconfont icon-new-window-s\"></i>\n            </span>\n            <span class=\"superscript\" v-if=\"menu.hot\">\n              <i class=\"iconfont icon-hot-fill\"></i>\n            </span>\n          </ulink>\n        </template>\n      </nav>\n    </div>\n  </header>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { Theme } from '/@/composables/theme'\n  import { HEADER_ELEMENT_ID } from '/@/constants/anchor'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { menus } from './menu'\n\n  export default defineComponent({\n    name: 'DesktopHeader',\n    setup() {\n      const { i18n, gtag, theme, globalState } = useEnhancer()\n      // 非常规布局则启用菜单\n      const isEnabledNav = computed(() => !globalState.layoutColumn.value.isNormal)\n\n      const themeValue = theme.theme\n      const themeIcon = computed(() => {\n        const themeIconMap = {\n          [Theme.Light]: 'icon-sun',\n          [Theme.Dark]: 'icon-moon'\n        }\n        return themeIconMap[themeValue.value]\n      })\n\n      const toggleTheme = () => {\n        theme.toggle()\n        gtag?.event('switch_theme', {\n          event_category: GAEventCategories.Widget,\n          event_label: theme.theme.value\n        })\n      }\n\n      const tooggleLanguage = () => {\n        i18n.toggle()\n        gtag?.event('switch_language', {\n          event_category: GAEventCategories.Widget,\n          event_label: i18n.l.value?.name\n        })\n      }\n\n      const handleRootNavEvent = () => {\n        gtag?.event('root_header_home_nav', {\n          event_category: GAEventCategories.Universal\n        })\n      }\n\n      return {\n        menus,\n        HEADER_ELEMENT_ID,\n        LanguageKey,\n        isEnabledNav,\n        handleRootNavEvent,\n        t: i18n.t,\n        language: i18n.language,\n        tooggleLanguage,\n        theme: themeValue,\n        themeIcon,\n        toggleTheme\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $header-height;\n    z-index: $z-index-header;\n    background-color: $module-bg;\n    border-bottom: 1px solid $module-bg-darker-2;\n    @include backdrop-blur(5px);\n\n    &.enable-nav:hover {\n      .header-nav {\n        @include visible();\n      }\n    }\n\n    .header-container {\n      height: 100%;\n      display: flex;\n      justify-content: space-between;\n\n      .header-header {\n        height: 100%;\n        display: flex;\n        position: relative;\n        align-items: center;\n        padding-left: $sm-gap;\n        width: 29em;\n        overflow: hidden;\n\n        @keyframes logo-blink {\n          0% {\n            mask-position: -30%;\n          }\n          100% {\n            mask-position: 666%;\n          }\n        }\n\n        .header-logo {\n          width: 11rem;\n          margin-right: $gap * 4;\n          filter: $theme-logo-rotate;\n          .logo-st {\n            fill: $primary;\n          }\n        }\n\n        .header-slogan {\n          color: $primary;\n          font-size: $font-size-h5;\n          font-family: 'webfont-medium', DINRegular;\n        }\n\n        .header-link {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .toolbox {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        opacity: 0.6;\n        @include visibility-transition();\n        &:hover {\n          opacity: 1;\n        }\n\n        .button {\n          position: relative;\n          display: block;\n          text-transform: uppercase;\n          margin: 0 $gap;\n          width: 2rem;\n          height: 2rem;\n\n          &::before {\n            content: '';\n            display: block;\n            width: 50%;\n            height: 2px;\n            position: absolute;\n            left: 25%;\n            bottom: -2px;\n          }\n\n          &.menu {\n            cursor: none;\n            &::before {\n              background-color: $black;\n            }\n          }\n\n          &.theme {\n            &::before {\n              background-color: $primary;\n            }\n          }\n\n          &.language {\n            font-weight: bold;\n\n            &.en {\n              &::before {\n                background-color: $en-primary;\n              }\n            }\n            &.zh {\n              &::before {\n                background-color: $zh-primary;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .header-nav {\n      width: 100%;\n      height: 4rem;\n      background-color: $primary-lighter;\n      @include hidden();\n      @include visibility-transition();\n\n      .nav-list {\n        height: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n\n        .divider {\n          height: 6px;\n          width: 1px;\n          background-color: $module-bg-translucent;\n        }\n\n        .item {\n          text-transform: uppercase;\n          color: $text-reversal;\n          @include visibility-transition();\n          opacity: 0.7;\n          &:hover {\n            opacity: 1;\n          }\n\n          &.link-active {\n            .text {\n              padding-bottom: 4px;\n              border-bottom: 2px solid;\n            }\n          }\n\n          .image-icon {\n            width: 1em;\n            height: 1em;\n            margin-right: $sm-gap;\n            border-radius: $xs-radius;\n          }\n\n          > .iconfont {\n            margin-right: $sm-gap;\n          }\n\n          .newscript,\n          .superscript {\n            margin-left: $xs-gap;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <footer :id=\"FOOTER_ELEMENT_ID\" class=\"footer\">\n    <div class=\"container\">\n      <ulink class=\"sitemap-btn\" :href=\"VALUABLE_LINKS.SITE_MAP\">sitemap.xml</ulink>\n      <divider type=\"vertical\" />\n      <i18n zh=\"由 \" en=\"Powered By \" />\n      <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB_BLOG_STAR_LIST\">NodePress</ulink>\n      <i18n zh=\"、\" en=\", \" />\n      <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME\">Vue</ulink>\n      <i18n zh=\" 和 日月星辰 强力驱动\" en=\" and solitarily\" />\n      <divider type=\"vertical\" />\n      <i18n>\n        <template #zh>\n          <router-link :to=\"aboutPageUrl\">吾之臂躯</router-link>\n          <span> 行针步线</span>\n        </template>\n        <template #en>\n          <span>Designed By </span>\n          <router-link :to=\"aboutPageUrl\">Me</router-link>\n        </template>\n      </i18n>\n      <divider type=\"vertical\" />\n      <a class=\"statement\" href=\"javascript:void(0)\" @click=\"handleStatementModal\">\n        <i18n zh=\"周知\" en=\"FAQ\" />\n      </a>\n    </div>\n  </footer>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { FOOTER_ELEMENT_ID } from '/@/constants/anchor'\n  import { getPageRoute } from '/@/transforms/route'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n\n  export default defineComponent({\n    name: 'DesktopFooter',\n    setup() {\n      const { globalState, gtag } = useEnhancer()\n      const handleStatementModal = () => {\n        globalState.toggleSwitcher('statement', true)\n        gtag?.event('statement_modal', {\n          event_category: GAEventCategories.Universal\n        })\n      }\n\n      return {\n        FOOTER_ELEMENT_ID,\n        VALUABLE_LINKS,\n        aboutPageUrl: getPageRoute(RouteName.About),\n        handleStatementModal\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .footer {\n    display: flex;\n    align-items: center;\n    height: $footer-height;\n    @include common-bg-module();\n\n    .container {\n      color: $text-secondary;\n      font-size: $font-size-h6;\n      text-align: center;\n      text-transform: uppercase;\n\n      a {\n        border-bottom: 1px solid transparent;\n        &:hover {\n          border-color: initial;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"desktop-main\">\n    <background />\n    <wallflower />\n    <client-only>\n      <popup :visible=\"switcher.sponsor\" :border=\"false\" @close=\"handleSponsorModalClose\">\n        <iframe\n          :style=\"{ width: '600px', height: '200px', borderRadius: '4px' }\"\n          :src=\"VALUABLE_LINKS.SPONSOR\"\n        />\n      </popup>\n      <popup\n        :visible=\"switcher.feedback\"\n        :mask-close=\"false\"\n        :scroll-close=\"false\"\n        @close=\"handleFeedbackModalClose\"\n      >\n        <feedback @close=\"handleFeedbackModalClose\" />\n      </popup>\n      <popup :visible=\"switcher.statement\" :scroll-close=\"false\" @close=\"handleStatementModalClose\">\n        <statement />\n      </popup>\n    </client-only>\n    <template v-if=\"!layoutColumn.isFull\">\n      <share class=\"main-share\" />\n      <wallpaper />\n      <toolbox />\n      <client-only>\n        <music-player-handle />\n      </client-only>\n    </template>\n    <header-view />\n    <main\n      :id=\"MAIN_ELEMENT_ID\"\n      class=\"main-container\"\n      :class=\"{ 'full-page': layoutColumn.isFull }\"\n    >\n      <!-- MARK: keep order > long content > flicker -->\n      <nav-view class=\"nav-view\" v-if=\"layoutColumn.isNormal\" />\n      <aside-view class=\"aside-view\" v-if=\"layoutColumn.isNormal\" />\n      <div\n        :id=\"MAIN_CONTENT_ELEMENT_ID\"\n        class=\"main-view\"\n        :class=\"{\n          'layout-normal': layoutColumn.isNormal,\n          'layout-wide': layoutColumn.isWide,\n          'layout-full': layoutColumn.isFull\n        }\"\n      >\n        <!-- unuse suspense -> async route component -> can't extract style to css file -->\n        <router-view v-slot=\"{ Component, route }\">\n          <div class=\"router-view\">\n            <transition name=\"page\" mode=\"out-in\" @before-enter=\"handlePageTransitionDone\">\n              <suspense>\n                <component :is=\"Component\" :key=\"route.name\" />\n              </suspense>\n            </transition>\n          </div>\n        </router-view>\n      </div>\n    </main>\n    <footer-view class=\"footer-view\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, onMounted } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { MAIN_ELEMENT_ID, MAIN_CONTENT_ELEMENT_ID } from '/@/constants/anchor'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMusic } from '/@/composables/music'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { getLayoutByRouteMeta } from '/@/transforms/layout'\n  import MusicPlayerHandle from '/@/components/widget/music-player/handle.vue'\n  import Wallflower from '/@/components/widget/wallflower/garden.vue'\n  import Wallpaper from '/@/components/widget/wallpaper/switcher.vue'\n  import Background from '/@/components/widget/background.vue'\n  import Share from '/@/components/widget/share.vue'\n  import Toolbox from '/@/components/widget/toolbox.vue'\n  import Feedback from '/@/components/widget/feedback.vue'\n  import Statement from '/@/components/widget/statement.vue'\n  import NavView from './nav.vue'\n  import AsideView from './aside/index.vue'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n\n  export default defineComponent({\n    name: 'DesktopMain',\n    components: {\n      Share,\n      Feedback,\n      Wallpaper,\n      Statement,\n      MusicPlayerHandle,\n      Toolbox,\n      Wallflower,\n      Background,\n      HeaderView,\n      FooterView,\n      AsideView,\n      NavView\n    },\n    setup() {\n      const wallpaperStore = useWallpaperStore()\n      const { route, globalState } = useEnhancer()\n      const handlePageTransitionDone = () => {\n        globalState.setLayoutColumn(getLayoutByRouteMeta(route.meta))\n      }\n      const handleSponsorModalClose = () => {\n        globalState.toggleSwitcher('sponsor', false)\n      }\n      const handleFeedbackModalClose = () => {\n        globalState.toggleSwitcher('feedback', false)\n      }\n      const handleStatementModalClose = () => {\n        globalState.toggleSwitcher('statement', false)\n      }\n\n      onMounted(() => {\n        // bing wallpaper\n        wallpaperStore.fetchPapers()\n        // music player\n        useMusic().init()\n      })\n\n      return {\n        MAIN_ELEMENT_ID,\n        MAIN_CONTENT_ELEMENT_ID,\n        VALUABLE_LINKS,\n        switcher: globalState.switcher,\n        layoutColumn: globalState.layoutColumn,\n        handlePageTransitionDone,\n        handleSponsorModalClose,\n        handleFeedbackModalClose,\n        handleStatementModalClose\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .desktop-main {\n    padding-top: $header-height + $lg-gap;\n\n    @media screen and (max-width: 1200px) {\n      #theme,\n      #language,\n      .main-share {\n        display: none !important;\n      }\n    }\n\n    .main-share {\n      position: fixed;\n      top: 12%;\n      left: 0;\n      height: auto;\n      max-width: 4rem;\n      display: flex;\n      flex-direction: column;\n      opacity: 0.4;\n\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        $height: 2.1em;\n        width: 3rem;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-h4;\n        border-top-right-radius: $xs-radius;\n        border-bottom-right-radius: $xs-radius;\n        transition: width $transition-time-fast;\n        &:hover {\n          width: 120%;\n        }\n      }\n    }\n\n    .main-container {\n      position: relative;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      width: $container-width;\n      &.full-page {\n        width: 100%;\n      }\n\n      .nav-view {\n        order: 1;\n        flex-shrink: 0;\n        margin-right: $lg-gap;\n      }\n\n      .aside-view {\n        order: 3;\n        flex-shrink: 0;\n        margin-left: $lg-gap;\n      }\n\n      .main-view {\n        order: 2;\n        flex-grow: 1;\n        position: relative;\n        overflow: hidden;\n        transition: none;\n\n        &:-moz-full-screen {\n          overflow-y: auto;\n        }\n\n        &:-webkit-full-screen {\n          overflow-y: auto;\n        }\n\n        &:fullscreen {\n          overflow-y: auto;\n        }\n\n        &.layout-normal {\n          /* flex-grow: 1; */\n        }\n\n        &.layout-wide {\n          flex-grow: unset;\n          width: 100%;\n          margin: 0;\n        }\n\n        &.layout-full {\n          flex-grow: unset;\n          width: 100%;\n          margin: -$lg-gap 0;\n        }\n      }\n    }\n\n    .footer-view {\n      margin-top: $lg-gap;\n    }\n  }\n</style>\n","<template>\n  <header class=\"header\">\n    <div class=\"search\" :class=\"{ actived: searchState.open }\">\n      <input\n        class=\"input\"\n        ref=\"inputElement\"\n        type=\"text\"\n        maxlength=\"16\"\n        required\n        :placeholder=\"t(LanguageKey.SEARCH_PLACEHOLDER)\"\n        v-model.trim=\"searchState.keyword\"\n        @keyup.enter.stop.prevent=\"submitSearch\"\n      />\n      <span class=\"close\" @click.stop.prevent=\"cancelSearch\">\n        <i class=\"iconfont icon-cancel\"></i>\n      </span>\n    </div>\n    <transition name=\"module\">\n      <div v-if=\"searchState.open\" class=\"search-mask\"></div>\n    </transition>\n    <nav class=\"navbar\">\n      <button class=\"navbar-menu\" @click.stop.prevent=\"handleMenuToggle\">\n        <i class=\"iconfont icon-menu\"></i>\n      </button>\n      <router-link to=\"/\" class=\"navbar-logo\">\n        <uimage class=\"image\" cdn src=\"/images/logo.svg\" />\n      </router-link>\n      <button class=\"navbar-search\" @click.stop.prevent=\"openSearch\">\n        <i class=\"iconfont icon-search\"></i>\n      </button>\n    </nav>\n  </header>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, reactive, ref, watch, onMounted, nextTick } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { LanguageKey } from '/@/language'\n  import { isSearchFlow } from '/@/transforms/route'\n\n  export enum MobileHeaderEvents {\n    Open = 'open',\n    Close = 'close'\n  }\n\n  export default defineComponent({\n    name: 'MobileHeader',\n    props: {\n      opened: {\n        type: Boolean,\n        required: true\n      }\n    },\n    emits: [MobileHeaderEvents.Open, MobileHeaderEvents.Close],\n    setup(props, context) {\n      const { i18n, route, router } = useEnhancer()\n      const inputElement = ref<HTMLInputElement>(null as any)\n      const searchState = reactive({\n        open: false,\n        keyword: ''\n      })\n\n      onMounted(() => {\n        if (isSearchFlow(route.name as string)) {\n          searchState.keyword = route.params.keyword as string\n        }\n      })\n\n      const handleMenuToggle = () => {\n        context.emit(props.opened ? MobileHeaderEvents.Close : MobileHeaderEvents.Open)\n      }\n\n      const openSearch = () => {\n        searchState.open = true\n        nextTick(() => {\n          inputElement.value.focus()\n        })\n      }\n\n      const cancelSearch = () => {\n        searchState.open = false\n      }\n\n      const submitSearch = () => {\n        const keyword = searchState.keyword.trim()\n        if (keyword) {\n          router.push({\n            name: RouteName.SearchFlow,\n            params: { keyword }\n          })\n        }\n      }\n\n      watch(\n        () => router.currentRoute.value,\n        () => {\n          nextTick(() => {\n            cancelSearch()\n            context.emit(MobileHeaderEvents.Close)\n          })\n        }\n      )\n\n      return {\n        t: i18n.t,\n        LanguageKey,\n        searchState,\n        inputElement,\n        openSearch,\n        submitSearch,\n        cancelSearch,\n        handleMenuToggle\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $mobile-header-height;\n    background-color: $module-bg;\n    z-index: $z-index-header;\n    @include backdrop-blur(5px);\n\n    .search-mask {\n      position: fixed;\n      z-index: $z-index-normal;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      touch-action: none;\n      background-color: $module-bg-translucent;\n      @include backdrop-blur(3px);\n    }\n\n    .search {\n      position: absolute;\n      display: flex;\n      z-index: $z-index-normal + 1;\n      width: 100%;\n      height: $mobile-header-height;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      background-color: $text-reversal;\n      transform: translateY(-100%);\n\n      > .input {\n        width: 80%;\n        height: 100%;\n        padding: 1em;\n      }\n\n      > .close {\n        width: 20%;\n        height: 100%;\n        line-height: $mobile-header-height;\n        text-align: center;\n      }\n\n      &.actived {\n        opacity: 1;\n        transform: translateY(0%);\n      }\n    }\n\n    .navbar {\n      width: 100%;\n      height: $mobile-header-height;\n      display: flex;\n      position: relative;\n      align-items: center;\n      justify-content: space-between;\n\n      .navbar-menu,\n      .navbar-search {\n        height: 100%;\n        width: 20%;\n        line-height: $mobile-header-height;\n        text-align: center;\n      }\n\n      .navbar-logo {\n        width: 30%;\n\n        .image {\n          filter: $theme-logo-rotate;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <footer class=\"footer\">\n    <div class=\"footer-content\">©{{ year }}&nbsp;&nbsp;{{ title }}</div>\n  </footer>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { META } from '/@/config/app.config'\n  export default defineComponent({\n    name: 'MobileFooter',\n    setup() {\n      return {\n        title: META.title,\n        year: new Date().getFullYear()\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .footer {\n    margin: 0;\n    @include common-bg-module();\n\n    .footer-content {\n      width: 100%;\n      height: $mobile-footer-height;\n      line-height: $mobile-footer-height;\n      font-size: $font-size-h6;\n      text-align: center;\n      text-transform: uppercase;\n    }\n  }\n</style>\n","<template>\n  <aside class=\"aside\">\n    <div class=\"aside-user\">\n      <div class=\"avatar\">\n        <uimage :src=\"avatar\" :alt=\"author\" />\n      </div>\n      <div class=\"profile\">\n        <h3 class=\"name\">{{ author }}</h3>\n        <p class=\"slogan\">\n          <i18n :k=\"LanguageKey.APP_SLOGAN\" />\n        </p>\n      </div>\n    </div>\n    <div class=\"aside-tool\">\n      <div class=\"item\" @click=\"toggleTheme\">\n        <i class=\"iconfont\" :class=\"themeIcon\"></i>\n      </div>\n      <div class=\"item\" @click=\"tooggleLanguage\">\n        <i class=\"iconfont\" :class=\"languageIcon\"></i>\n      </div>\n    </div>\n    <div class=\"aside-nav\">\n      <nav class=\"nav-list\">\n        <router-link to=\"/\" class=\"item\" exact>\n          <i class=\"iconfont icon-home-fill\"></i>\n          <i18n :k=\"LanguageKey.PAGE_HOME\" />\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Code)\">\n          <i class=\"iconfont icon-code\"></i>\n          <i18n :k=\"LanguageKey.CATEGORY_CODE\" />\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Insight)\">\n          <i class=\"iconfont icon-thinking\"></i>\n          <i18n :k=\"LanguageKey.CATEGORY_INSIGHT\" />\n        </router-link>\n        <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB\">\n          <i class=\"iconfont icon-github\"></i>\n          <i18n :k=\"LanguageKey.PAGE_GITHUB\" />\n          <span class=\"newscript\">\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Archive)\">\n          <i class=\"iconfont icon-peachblossom\"></i>\n          <i18n :k=\"LanguageKey.PAGE_ARCHIVE\" />\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.About)\">\n          <i class=\"iconfont icon-swordsman\"></i>\n          <i18n :k=\"LanguageKey.PAGE_ABOUT\" />\n        </router-link>\n        <router-link class=\"item guestbook\" :to=\"getPageRoute(RouteName.Guestbook)\">\n          <i class=\"iconfont icon-comment\"></i>\n          <i18n :k=\"LanguageKey.PAGE_GUESTBOOK\" />\n        </router-link>\n        <router-link class=\"item app\" :to=\"getPageRoute(RouteName.App)\">\n          <uimage cdn class=\"icon\" src=\"/images/page-app/logo.png\" />\n          <i18n :k=\"LanguageKey.PAGE_APP\" />\n        </router-link>\n      </nav>\n    </div>\n  </aside>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, computed } from 'vue'\n  import { Language, LanguageKey } from '/@/language'\n  import { RouteName, CategorySlug } from '/@/app/router'\n  import { Theme } from '/@/composables/theme'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMetaStore } from '/@/stores/meta'\n  import { getDefaultAvatar } from '/@/transforms/avatar'\n  import { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\n  import { VALUABLE_LINKS, META } from '/@/config/app.config'\n\n  export default defineComponent({\n    name: 'MobileAside',\n    setup() {\n      const { theme, i18n } = useEnhancer()\n      const metaStore = useMetaStore()\n      const avatar = computed(() => metaStore.adminInfo.data?.avatar || getDefaultAvatar())\n\n      const themeIcon = computed(() => {\n        const themeIconMap = {\n          [Theme.Light]: 'icon-sun',\n          [Theme.Dark]: 'icon-moon'\n        }\n        return themeIconMap[theme.theme.value]\n      })\n\n      const languageIcon = computed(() => {\n        const languageIconMap = {\n          [Language.Chinese]: 'icon-chinese',\n          [Language.English]: 'icon-english'\n        }\n        return languageIconMap[i18n.language.value]\n      })\n\n      useUniversalFetch(() => metaStore.fetchAdminInfo())\n\n      return {\n        VALUABLE_LINKS,\n        LanguageKey,\n        RouteName,\n        CategorySlug,\n        getPageRoute,\n        getCategoryFlowRoute,\n        avatar,\n        author: META.author,\n        themeIcon,\n        languageIcon,\n        toggleTheme: theme.toggle,\n        tooggleLanguage: i18n.toggle\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .aside {\n    $border-color: darken($mobile-aside-bg, 5%);\n    display: block;\n    overflow: auto;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    color: $white;\n\n    .aside-user {\n      $size: 65px;\n      width: 100%;\n      display: flex;\n      align-items: flex-start;\n      padding: $gap * 2;\n      border-bottom: 1px dotted $border-color;\n\n      .avatar {\n        width: $size;\n        height: $size;\n        flex-shrink: 0;\n\n        img {\n          max-width: 100%;\n          border: 3px solid rgba($grey, 0.8);\n          @include radius-box(100%);\n        }\n      }\n\n      .profile {\n        height: $size;\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: center;\n        margin-left: $lg-gap;\n\n        .name {\n          font-weight: bold;\n          margin-top: 0;\n          margin-bottom: $sm-gap;\n        }\n\n        .slogan {\n          margin: 0;\n          max-width: 10rem;\n          color: $surmon;\n          @include text-overflow();\n        }\n      }\n    }\n\n    .aside-tool {\n      padding: $gap 0;\n      display: flex;\n      border-bottom: 1px solid $border-color;\n\n      .item {\n        width: 50%;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: $font-size-h2;\n      }\n    }\n\n    .aside-nav {\n      width: 100%;\n\n      .nav-list {\n        padding: 0;\n        margin: 0;\n\n        .item {\n          display: block;\n          width: 100%;\n          height: 3em;\n          line-height: 3em;\n          padding: 0 1em;\n          margin-bottom: 0.5em;\n          border: none;\n          text-decoration: none;\n          font-weight: 700;\n          color: $white;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          &.link-active {\n            color: $primary;\n            font-weight: bold;\n            background-color: $body-bg;\n          }\n\n          &.app {\n            display: flex;\n            align-items: center;\n            margin-top: $gap;\n            color: $surmon;\n            .icon {\n              width: 1em;\n              height: 1em;\n              margin-right: 1em;\n              border-radius: $xs-radius;\n            }\n          }\n\n          .iconfont {\n            width: 1em;\n            margin-right: 1em;\n            display: inline-block;\n            font-weight: normal;\n          }\n\n          .newscript {\n            margin-left: $sm-gap;\n            font-size: $font-size-small;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div class=\"mobile-main\">\n    <div class=\"asider\" :class=\"{ opened: isOpenedAside }\">\n      <aside-view class=\"aside\" />\n    </div>\n    <div class=\"main\" :class=\"{ opened: isOpenedAside }\">\n      <div v-if=\"isOpenedAside\" class=\"close-mask\" @click=\"closeAside\" />\n      <header-view :opened=\"isOpenedAside\" @close=\"closeAside\" @open=\"openAside\" />\n      <main class=\"main-container\">\n        <router-view name=\"mobile\" v-slot=\"{ Component, route }\">\n          <div class=\"route-view\" v-if=\"route.meta.responsive\">\n            <component :is=\"Component\" :key=\"route.name\" />\n          </div>\n          <div class=\"fallback\" v-else>\n            <i class=\"iconfont icon-desktop\"></i>\n            <p class=\"text\">\n              <i18n zh=\"请在 PC 端访问以获得最佳体验\" en=\"This page only support visit on PC\" />\n            </p>\n            <a class=\"link\" :href=\"pageURL\">{{ pageURL }}</a>\n          </div>\n        </router-view>\n      </main>\n      <footer-view />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, ref, computed, watch } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { onClient } from '/@/universal'\n  import { getPageURL } from '/@/transforms/url'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n  import AsideView from './aside.vue'\n\n  export default defineComponent({\n    name: 'MobileMain',\n    components: {\n      HeaderView,\n      FooterView,\n      AsideView\n    },\n    setup() {\n      const { route } = useEnhancer()\n      const pageURL = computed(() => getPageURL(route.fullPath))\n\n      const isOpenedAside = ref(false)\n      const openAside = () => (isOpenedAside.value = true)\n      const closeAside = () => (isOpenedAside.value = false)\n\n      watch(isOpenedAside, (opened) => {\n        onClient(() => {\n          document.body.style.overflow = opened ? 'hidden' : 'auto'\n        })\n      })\n\n      return {\n        pageURL,\n        isOpenedAside,\n        openAside,\n        closeAside\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  .mobile-main {\n    color: $text;\n    background-color: $module-bg-hover;\n    $aside-width: 68%;\n\n    .asider {\n      width: $aside-width;\n      height: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: $mobile-aside-bg;\n      transform: translate3d(-100%, 0, 0);\n      transition: $mobile-aside-transition;\n      .aside {\n        opacity: 0;\n        transform: scale(0.8, 0.8);\n        transition: $mobile-aside-transition;\n      }\n\n      &.opened {\n        transform: translate3d(0, 0, 0);\n        overflow: hidden;\n        -webkit-overflow-scrolling: touch;\n        .aside {\n          opacity: 1;\n          transform: scale(1, 1);\n          transition: $mobile-aside-transition;\n        }\n      }\n    }\n\n    .main {\n      min-height: 100vh;\n      position: relative;\n      transition: $mobile-aside-transition;\n\n      &.opened {\n        transform: translate3d($aside-width, 0, 0);\n      }\n\n      .close-mask {\n        position: absolute;\n        width: 100vw;\n        height: 100%;\n        top: 0;\n        right: 0;\n        z-index: $z-index-top;\n        background-color: $module-bg-translucent;\n        @include backdrop-blur(3px);\n      }\n\n      .main-container {\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        min-height: calc(100vh - $mobile-header-height);\n        margin: 0;\n        padding: $lg-gap $gap;\n        padding-top: $mobile-header-height + $lg-gap;\n        transition: width 0.35s;\n        display: flex;\n\n        .fallback {\n          width: 100%;\n          padding-bottom: 6rem; // for middle\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n\n          .iconfont {\n            color: $text-divider;\n            font-size: 12rem;\n          }\n\n          .text {\n            font-size: $font-size-h4;\n            margin-bottom: $lg-gap;\n          }\n\n          .link {\n            color: $text-disabled;\n            border-bottom: 1px solid;\n          }\n        }\n\n        .route-view {\n          width: 100%;\n        }\n      }\n    }\n  }\n</style>\n","<template>\n  <div v-cloak class=\"app-root\">\n    <client-only>\n      <progress-bar :spin=\"!isMobile\" />\n      <emoji-rain />\n      <popup-root />\n    </client-only>\n    <captured>\n      <mobile-main v-if=\"isMobile\" />\n      <desktop-main v-else />\n    </captured>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import EmojiRain from '/@/components/widget/emoji-rain.vue'\n  import Captured from '/@/components/root/captured.vue'\n  import DesktopMain from '/@/components/layout/desktop/main.vue'\n  import MobileMain from '/@/components/layout/mobile/main.vue'\n\n  export default defineComponent({\n    name: 'App',\n    components: {\n      EmojiRain,\n      Captured,\n      DesktopMain,\n      MobileMain\n    },\n    setup() {\n      const { isMobile } = useEnhancer()\n      return { isMobile }\n    }\n  })\n</script>\n\n<style lang=\"scss\">\n  @import 'src/styles/variables.scss';\n\n  .app-root {\n    &[v-cloak] {\n      color: transparent;\n      -webkit-text-fill-color: transparent;\n    }\n  }\n</style>\n","/**\n * @file App main logic\n * @module app.main\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { CreateAppFunction, computed } from 'vue'\nimport { RouterHistory } from 'vue-router'\nimport API_CONFIG from '/@/config/api.config'\nimport { META } from '/@/config/app.config'\nimport { Language, LanguageKey, languages } from '/@/language'\nimport { rebirthSSRContext } from '/@/universal'\nimport { createUniversalStore } from '/@/stores'\nimport { createI18n } from '/@/composables/i18n'\nimport { createMeta } from '/@/composables/meta'\nimport { createTheme, Theme } from '/@/composables/theme'\nimport { NODE_ENV } from '/@/environment'\nimport { isSSR } from './environment'\nimport { createUniversalRouter, RouterCreatorOptions } from './router'\nimport { createGlobalState, LayoutColumn } from './state'\nimport component from './component'\nimport App from './index.vue'\n\nconsole.info(`[APP INITED]:`, { NODE_ENV, mode: isSSR ? 'SSR' : 'SPA' }, API_CONFIG)\n\nexport interface ICreatorContext {\n  appCreator: CreateAppFunction<Element>\n  historyCreator(base?: string): RouterHistory\n  routerBeforeMiddleware?(globalState: any): RouterCreatorOptions['beforeMiddleware']\n  routerAfterMiddleware?(globalState: any): RouterCreatorOptions['afterMiddleware']\n  layout?: LayoutColumn\n  theme: Theme\n  language: string\n  userAgent: string\n}\n\nexport type VueApp = ReturnType<typeof createVueApp>\nexport const createVueApp = (context: ICreatorContext) => {\n  // 1. create app\n  const app = context.appCreator(App)\n  // 2. ssr context\n  const ssrContext = rebirthSSRContext(app)\n  // 3. global state\n  const globalState = createGlobalState({\n    userAgent: context.userAgent || '',\n    language: context.language || '',\n    layout: context.layout ?? LayoutColumn.Normal\n  })\n  // 4. store\n  const store = createUniversalStore({ globalState })\n  // 5. router\n  const router = createUniversalRouter({\n    beforeMiddleware: context.routerBeforeMiddleware?.(globalState),\n    afterMiddleware: context.routerAfterMiddleware?.(globalState),\n    history: context.historyCreator()\n  })\n  // 6. composables\n  const meta = createMeta({\n    titler: (title: string) => `${title} | ${META.title}`\n  })\n  const theme = createTheme(context.theme)\n  const i18n = createI18n({\n    default: globalState.userAgent.isZhUser ? Language.Chinese : Language.English,\n    keys: Object.values(LanguageKey),\n    languages\n  })\n\n  // root attrbute\n  meta.addHeadObjs(\n    computed(() => ({\n      htmlAttrs: {\n        'data-theme': theme.theme.value,\n        'data-device': globalState.userAgent.isMobile ? 'mobile' : 'desktop'\n      }\n    }))\n  )\n\n  // handle global error\n  app.config.errorHandler = (error) => globalState.setRenderError(error)\n  // handle router error https://next.router.vuejs.org/api/#onerror\n  router.onError(globalState.setRenderError)\n\n  // handle router validate error & 404 error\n  // https://next.router.vuejs.org/guide/advanced/navigation-guards.html#optional-third-argument-next\n  router.beforeEach((to, _, next) => {\n    if (to.meta.validate) {\n      ;(to.meta as any)\n        .validate({ route: to, i18n, store })\n        .then(next)\n        .catch((error) => {\n          const newError: any = new Error()\n          newError.code = error.code\n          newError.message = error.message\n          // next(error) > router error > global state error\n          next(newError)\n        })\n    } else {\n      next()\n    }\n  })\n\n  app.use(router)\n  app.use(store)\n  app.use(globalState)\n  app.use(i18n)\n  app.use(meta)\n  app.use(theme)\n  app.use(component)\n\n  return {\n    app,\n    router,\n    store,\n    globalState,\n    i18n,\n    meta,\n    theme,\n    component\n  }\n}\n","/**\n * @file Google Adsense\n * @module composable.adsense\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, defineComponent, h } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { LanguageKey } from '/@/language'\nimport { loadScript } from '/@/utils/scripter'\n\ndeclare global {\n  interface Window {\n    adsbygoogle: any[]\n  }\n}\n\nexport interface AdSenseConfig {\n  ID: string\n  enabledAutoAD?: boolean\n}\n\nconst ADS_SCRIPT = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'\n\nconst getComponent = (clientID: string) =>\n  defineComponent({\n    name: 'Adsense',\n    props: {\n      class: String,\n      insClass: {\n        type: String,\n        default: ''\n      },\n      insStyle: {\n        type: String,\n        default: 'display:block;'\n      },\n      dataAdClient: String,\n      dataAdSlot: String,\n      dataAdLayoutKey: String,\n      dataAdTest: String,\n      dataAdFormat: String,\n      dataFullWidthResponsive: [Boolean, String]\n    },\n    setup(props) {\n      const { i18n } = useEnhancer()\n\n      return () => {\n        const {\n          class: rootClass,\n          insClass,\n          insStyle,\n          dataAdClient,\n          dataAdSlot,\n          dataAdLayoutKey,\n          dataAdTest,\n          dataAdFormat,\n          dataFullWidthResponsive,\n          ...restAttrs\n        } = props\n\n        return h(\n          'div',\n          {\n            class: ['mammon-box', rootClass],\n            placeholder: i18n.t(LanguageKey.AD)\n          },\n          [\n            h('script', {\n              type: 'text/javascript',\n              async: 'true',\n              src: ADS_SCRIPT\n            }),\n            h('ins', {\n              class: ['adsbygoogle', insClass],\n              style: insStyle,\n              'data-ad-client': dataAdClient || clientID,\n              'data-ad-slot': dataAdSlot,\n              'data-ad-layout-key': dataAdLayoutKey,\n              'data-ad-test': dataAdTest,\n              'data-ad-format': dataAdFormat,\n              'data-full-width-responsive': dataFullWidthResponsive,\n              ...restAttrs\n            }),\n            h('script', `(adsbygoogle = window.adsbygoogle || []).push({})`)\n          ]\n        )\n      }\n    }\n  })\n\nexport default {\n  install(app: App, adsenseConfig: AdSenseConfig) {\n    const component = getComponent(adsenseConfig.ID)\n    app.component(component.name, component)\n\n    if (adsenseConfig.enabledAutoAD) {\n      loadScript(ADS_SCRIPT, { async: true }).then(() => {\n        const adsbygoogle = window.adsbygoogle || []\n        adsbygoogle.push({\n          google_ad_client: adsenseConfig.ID,\n          enable_page_level_ads: true\n        })\n      })\n    }\n  }\n}\n","<template>\n  <div id=\"popup\" class=\"popup\" :class=\"{ mobile: isMobile, dark: isDarkTheme }\">\n    <transition name=\"module\">\n      <div class=\"mask\" v-show=\"state.visible\" @click.self=\"handleMaskClick\">\n        <div ref=\"element\" class=\"warpper\" :class=\"{ border: state.border }\">\n          <img v-if=\"state.isImage\" v-bind=\"image.attrs\" :src=\"image.src || ''\" />\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, watchEffect, ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePopupWithRoot } from './hook'\n  export default defineComponent({\n    name: 'PopupRoot',\n    setup() {\n      const element = ref<HTMLElement>(null as any)\n      const { isDarkTheme, isMobile } = useEnhancer()\n      const { state, image, hidden } = usePopupWithRoot(() => element.value)\n      const handleWindowScroll = () => hidden()\n      const handleMaskClick = () => {\n        state.maskClose && hidden()\n      }\n\n      watchEffect(() => {\n        state.visible && state.scrollClose\n          ? // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#solution-the-passive-option\n            window.addEventListener('scroll', handleWindowScroll, { passive: true })\n          : window.removeEventListener('scroll', handleWindowScroll)\n      })\n\n      return {\n        element,\n        state,\n        image,\n        isDarkTheme,\n        isMobile,\n        handleMaskClick\n      }\n    }\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n  @import 'src/styles/variables.scss';\n  @import 'src/styles/mixins.scss';\n\n  #popup {\n    &.dark {\n      .mask {\n        background-color: rgba($black, 0.5);\n      }\n    }\n    &.mobile {\n      .mask {\n        .warpper {\n          & > ::v-deep(*) {\n            min-width: 50vw;\n            min-height: 4rem;\n          }\n        }\n      }\n    }\n\n    .mask {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: $z-index-top;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      overflow: hidden;\n      background-color: rgba($grey, 0.5);\n      @include visibility-transition();\n      @include backdrop-blur(5px);\n\n      .warpper {\n        display: contents;\n        position: relative;\n\n        & > ::v-deep(*) {\n          min-width: 24rem;\n          min-height: 8rem;\n          max-width: 90%;\n          max-height: 90%;\n          background-color: $module-bg;\n        }\n\n        &.border > ::v-deep(*) {\n          border: $sm-gap solid $module-bg-darker-1;\n          @include radius-box($sm-radius);\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file popup component\n * @module composable.popup.component\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { h, defineComponent, watch, Teleport, Fragment, PropType, ExtractPropTypes } from 'vue'\nimport { usePopup } from './hook'\n\nexport const PopupUIProps = {\n  border: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  maskClose: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  scrollClose: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  }\n}\n\nexport const getOtherProps = ({\n  border,\n  maskClose,\n  scrollClose,\n  ...others\n}: ExtractPropTypes<typeof PopupUIProps>) => others\n\nenum Event {\n  Close = 'close',\n  UpdateVisible = 'update:visible'\n}\n\n/**\n * @example\n *  <popup :visible=\"false\" :clone=\"true\">\n *    <div class=\"xxx\">I will visible on original & modal</div>\n *  </popup>\n */\nexport default defineComponent({\n  name: 'Popup',\n  props: {\n    // component options\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    clone: {\n      type: Boolean,\n      default: false\n    },\n    // UI options\n    ...PopupUIProps\n  },\n  emits: [Event.Close, Event.UpdateVisible],\n  setup(props, context) {\n    const popup = usePopup()\n\n    watch(\n      () => props.visible,\n      (visible) => {\n        const { clone, visible: v, ...popupOptions } = props\n        visible ? popup.visible(popupOptions) : popup.hidden()\n      }\n    )\n\n    watch(\n      () => popup.state.visible,\n      (visible) => {\n        if (!visible && props.visible) {\n          context.emit(Event.UpdateVisible, false)\n          context.emit(Event.Close)\n        }\n      }\n    )\n\n    return () => {\n      const renderSlotNode = () => context.slots.default?.()\n      const renderTeleportNode = () =>\n        h(\n          // @ts-ignore\n          Teleport,\n          { to: popup.state.$container },\n          renderSlotNode()\n        )\n\n      // modal mode -> visible ? modal-render : null\n      const renderModalNode = () => (props.visible ? renderTeleportNode() : null)\n\n      // clone mode -> render & visible -> modal render\n      if (props.clone) {\n        return h(Fragment, [renderSlotNode(), renderModalNode()])\n      }\n\n      // modal mode\n      return renderModalNode()\n    }\n  }\n})\n","/**\n * @file popup image component\n * @module composable.popup.image\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { h, defineComponent } from 'vue'\nimport { PopupUIProps, getOtherProps } from './popup'\nimport { usePopup } from './hook'\n\n/**\n * @example <popup-image src=\"xxx\" class=\"image\" />\n */\nexport default defineComponent({\n  name: 'PopupImage',\n  props: {\n    src: String,\n    ...PopupUIProps\n  },\n  setup(props, context) {\n    const popup = usePopup()\n\n    // Image -> click -> visible modal, ignore (clone/visible)\n    return () => {\n      const { src, ...popupProps } = props\n      if (!src) {\n        return null\n      }\n\n      const imageProps = getOtherProps(props)\n      const imageAttrs = {\n        ...imageProps,\n        ...context.attrs\n      }\n      return h('img', {\n        ...imageAttrs,\n        src,\n        onClick(...args) {\n          ;(imageProps as any)?.onClick?.(...args)\n          popup?.vImage(src, imageAttrs, popupProps)\n        }\n      })\n    }\n  }\n})\n","/**\n * @file Client popup\n * @module composable.popup\n * @author Surmon <https://github.com/surmon-china>\n * @example window.$popup.vImage('https://xxx.jpg')\n */\n\nimport { App, Plugin, readonly, reactive, nextTick } from 'vue'\nimport PopupRootComponent from './root.vue'\nimport PopupImageComponent from './image'\nimport PopupComponent from './popup'\nimport { PopupSymbol } from './constant'\n\ndeclare global {\n  interface Window {\n    // @ts-ignore\n    $popup: Popup\n  }\n}\n\nconst DEFAULT_STATE = Object.freeze({\n  visible: false,\n  isImage: false,\n  border: true,\n  maskClose: true,\n  scrollClose: true\n})\n\nconst createPopupStore = () => {\n  const image = reactive({\n    src: null as null | string,\n    attrs: null as null | object\n  })\n\n  const state = reactive({\n    $container: null as null | HTMLElement,\n    ...DEFAULT_STATE\n  })\n\n  const hidden = (cb?: () => void) => {\n    if (!state.visible) {\n      cb?.()\n      return\n    }\n    Object.assign(state, { ...DEFAULT_STATE })\n    image.src = null\n    image.attrs = null\n    if (cb) {\n      nextTick(cb)\n    }\n  }\n\n  const visible = (options?: Partial<typeof state>) => {\n    hidden(() => {\n      Object.assign(state, {\n        ...options,\n        isImage: false,\n        visible: true\n      })\n    })\n  }\n\n  const vImage = (src: string, attrs?: any, options?: Partial<typeof state>) => {\n    hidden(() => {\n      image.src = src\n      image.attrs = attrs\n      Object.assign(state, {\n        ...options,\n        border: true,\n        isImage: true,\n        visible: true\n      })\n    })\n  }\n\n  return {\n    state: readonly(state),\n    image: readonly(image),\n    visible,\n    hidden,\n    vImage,\n    $setRoot: (element: HTMLElement) => {\n      state.$container = element\n    }\n  }\n}\n\nexport interface PopupPluginConfig {\n  exportToGlobal?: boolean\n}\n// @ts-ignore\nexport type Popup = ReturnType<typeof createPopupStore>\nexport const createPopup = (): Popup & Plugin => {\n  const popupStore = createPopupStore()\n  return {\n    ...popupStore,\n    install(app: App, config: PopupPluginConfig) {\n      app.provide(PopupSymbol, popupStore)\n      app.component(PopupComponent.name, PopupComponent)\n      app.component(PopupImageComponent.name, PopupImageComponent)\n      app.component(PopupRootComponent.name!, PopupRootComponent)\n      if (config?.exportToGlobal) {\n        ;(window as any).$popup = popupStore\n      }\n    }\n  }\n}\n","/**\n * @file amplitude player\n * @module effect.amplitude\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport amplitude from 'amplitudejs'\nimport { onClient } from '/@/universal'\n\ndeclare global {\n  interface Window {\n    Amplitude: any\n    AmplitudeCore: any\n  }\n}\n\nonClient(() => {\n  window.Amplitude = window.Amplitude || amplitude\n})\n\nexport default amplitude\n","/**\n * @file Generate text to image DataURL\n * @module transforms.text2image\n * @author Surmon <https://github.com/surmon-china>\n * @link https://github.com/albinekb/favicon-emoji/blob/master/lib/browser.js\n */\n\nexport async function renderTextToDataURL(text = '', size = 16) {\n  const createCanvas = (size) =>\n    Object.assign(document.createElement('canvas'), {\n      width: size,\n      height: size\n    })\n  const canvas = createCanvas(size * 2)\n  const context = canvas.getContext('2d')!\n\n  context.clearRect(0, 0, canvas.width, canvas.height)\n  context.font = `${size}px Apple Color Emoji`\n  context.textAlign = 'center'\n  context.textBaseline = 'middle'\n  context.fillText(text, (size * 2) / 2, (size * 2) / 2)\n\n  const trimCanvas = (canvas) => {\n    const rowBlank = (imageData, width, y) => {\n      for (let x = 0; x < width; ++x) {\n        if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false\n      }\n      return true\n    }\n\n    const columnBlank = (imageData, width, x, top, bottom) => {\n      for (let y = top; y < bottom; ++y) {\n        if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false\n      }\n      return true\n    }\n\n    const ctx = canvas.getContext('2d')\n    const width = canvas.width\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n    let top = 0\n    let bottom = imageData.height\n    let left = 0\n    let right = imageData.width\n\n    while (top < bottom && rowBlank(imageData, width, top)) {\n      ++top\n    }\n    while (bottom - 1 > top && rowBlank(imageData, width, bottom - 1)) {\n      --bottom\n    }\n    while (left < right && columnBlank(imageData, width, left, top, bottom)) {\n      ++left\n    }\n    while (right - 1 > left && columnBlank(imageData, width, right - 1, top, bottom)) {\n      --right\n    }\n\n    const trimmed = ctx.getImageData(left, top, right - left, bottom - top)\n    const max = Math.max(trimmed.width, trimmed.height)\n\n    const copy = Object.assign(document.createElement('canvas'), {\n      width: max,\n      height: max\n    })\n\n    const copyCtx = copy.getContext('2d')!\n\n    copyCtx.putImageData(trimmed, (max - trimmed.width) / 2, (max - trimmed.height) / 2)\n\n    return copy\n  }\n\n  return trimCanvas(canvas).toDataURL('image/png')\n}\n","/**\n * @file Title surprise\n * @module effect.titler\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { renderTextToDataURL } from '/@/transforms/text-2-image'\n\n// matcher\nexport interface Titler {\n  day: number\n  month: number\n  year: number\n  title: string\n  favicon: string\n}\n\nconst matchTitler = (titlers: Array<Titler>) => {\n  const now = new Date()\n  const today = now.getDate()\n  const tomonth = now.getMonth() + 1\n  const toyear = now.getFullYear()\n  return titlers.find((egg) => {\n    const isToday = egg.day === today\n    const isTomonth = egg.month == null || egg.month === tomonth\n    const isToyear = egg.year == null || egg.year === toyear\n    return isToday && isTomonth && isToyear\n  })\n}\n\n// roll\nlet rollTimer: number\nconst titleInterval = 366\nconst setTitle = (title: string) => {\n  document.title = title\n  if (title.length <= 10) {\n    return false\n  }\n  const [first, ...content] = title.split('')\n  const newTitle = [...content, first].join('')\n  rollTimer = window.setTimeout(() => setTitle(newTitle), titleInterval)\n}\n\n// favicon\nconst getFavicon = () => {\n  return Array.from(document.getElementsByTagName('link'))\n    .find((node) => node.getAttribute('rel') == 'icon')\n    ?.getAttribute('href')\n}\nconst setFavicon = async (target) => {\n  Array.from(document.getElementsByTagName('link'))\n    .find((node) => node.getAttribute('rel') == 'icon')\n    ?.setAttribute('href', target)\n}\n\nconst reallyFavicon = getFavicon()!\nlet reallyTitle = document.title\n\nexport const resetTitler = () => {\n  document.title = reallyTitle\n  setFavicon(reallyFavicon)\n}\n\nexport const runTitler = async ({ favicon, title }) => {\n  reallyTitle = document.title\n  document.title = title\n  setFavicon(await renderTextToDataURL(favicon, 28))\n}\n","/**\n * @file Slogan consoler\n * @module effect.slogan\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const consoleSlogan = (slogan: string, email?: string) => {\n  console.clear()\n  console.log(\n    `%c${slogan} %c${email || ''}`,\n    'color:#666;font-size:3em;',\n    'color:#666;font-size:13px;'\n  )\n}\n","/**\n * @file App exporter\n * @module effect.exporter\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App } from 'vue'\n\ndeclare global {\n  interface Window {\n    $app: App\n  }\n}\n\nexport const exportAppToGlobal = (app: App) => {\n  window.$app = app\n}\n","/**\n * @file sticky event hack lib\n * @module effect.sticky\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport StickyEvents from 'sticky-events'\n\ndeclare global {\n  interface Window {\n    $StickyEvents: any\n  }\n}\n\nexport const exportStickyEventsToGlobal = () => {\n  window.$StickyEvents = StickyEvents\n}\n","/**\n * @file emoji rain animation effect\n * @module effect.emoji-233333\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport Emoji233333 from 'emoji-233333'\n\ndeclare global {\n  interface Window {\n    $Emoji233333: any\n  }\n}\n\nexport const exportEmojiRainToGlobal = () => {\n  window.$Emoji233333 = Emoji233333\n}\n","/**\n * @file Client app entry\n * @module CSR-entry\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// polyfills\nimport 'intersection-observer'\n\nimport { createApp, createSSRApp } from 'vue'\nimport { createWebHistory } from 'vue-router'\nimport { createVueApp } from '/@/app/main'\nimport { LayoutColumn } from '/@/app/state'\nimport { getSSRContext } from '/@/universal'\nimport gtag from '/@/composables/gtag'\nimport adsense from '/@/composables/adsense'\nimport { createDefer } from '/@/composables/defer'\nimport { createMusic } from '/@/composables/music'\nimport { createPopup } from '/@/composables/popup'\nimport { createLoading } from '/@/composables/loading'\nimport { getClientLocalTheme } from '/@/composables/theme'\nimport amplitude from '/@/effects/amplitude'\nimport { runTitler, resetTitler } from '/@/effects/titler'\nimport { consoleSlogan } from '/@/effects/slogan'\nimport { exportLozadToGlobal } from '/@/effects/lozad'\nimport { initCopyrighter } from '/@/effects/copyright'\nimport { exportAppToGlobal } from '/@/effects/exporter'\nimport { exportStickyEventsToGlobal } from '/@/effects/sticky'\nimport { exportEmojiRainToGlobal } from '/@/effects/emoji-23333'\nimport { getLayoutByRouteMeta } from '/@/transforms/layout'\nimport { getTargetCDNURL } from '/@/transforms/url'\nimport { randomNumber } from '/@/utils/random'\nimport { Language, LanguageKey } from '/@/language'\nimport { GA_MEASUREMENT_ID, ADSENSE_CLIENT_ID } from '/@/config/app.config'\nimport { isSSR } from '/@/app/environment'\nimport { isProd } from '/@/environment'\n\nimport './effects/swiper/style'\nimport './styles/app.scss'\n\n// app\nconst { app, router, globalState, i18n, store } = createVueApp({\n  historyCreator: createWebHistory,\n  appCreator: isSSR ? createSSRApp : createApp,\n  language: navigator.language,\n  userAgent: navigator.userAgent,\n  layout: isSSR ? getSSRContext('layout') : LayoutColumn.Normal,\n  theme: isSSR ? getSSRContext('theme') : getClientLocalTheme()\n})\n\n// services\nconst defer = createDefer()\nconst popup = createPopup()\nconst loading = createLoading()\nconst music = createMusic({ amplitude, autoInit: false })\n\n// plugins & services\napp.use(music)\napp.use(defer, { exportToGlobal: true })\napp.use(popup, { exportToGlobal: true })\napp.use(loading, { exportToGlobal: true })\napp.use(adsense, { ID: ADSENSE_CLIENT_ID, enabledAutoAD: true })\napp.use(gtag, {\n  router,\n  id: GA_MEASUREMENT_ID,\n  config: { send_page_view: false },\n  customResourceURL: getTargetCDNURL('/effects/gtag')\n})\n\n// init: store (from SSR context or fetch)\nisSSR ? store.initOnSSRClient() : store.initOnSPAClient()\n\n// init: services with client\nexportLozadToGlobal()\nexportEmojiRainToGlobal()\nexportStickyEventsToGlobal()\nexportAppToGlobal(app)\ninitCopyrighter()\n\n// init: router loading middleware client only\nrouter.beforeEach((_, __, next) => {\n  loading.start()\n  next()\n})\nrouter.afterEach((_, __, failure) => {\n  failure ? loading.fail(failure) : loading.finish()\n})\n\n// router ready -> mount\nrouter.isReady().finally(() => {\n  // UI layout: set UI layout by route (for SPA)\n  globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta))\n  // mount (isHydrate -> (SSR -> true | SPA -> false))\n  app.mount('#app', isSSR).$nextTick(() => {\n    // set hydrate state\n    globalState.setHydrate()\n    // reset: i18n language\n    i18n.set(globalState.userAgent.isZhUser ? Language.Chinese : Language.English)\n    // init universal user state\n    store.stores.universal.initOnClient()\n    // title surprise\n    document.addEventListener(\n      'visibilitychange',\n      (event) => {\n        // @ts-ignore\n        const isHidden = event.target?.hidden || event.target?.webkitHidden\n        const surprises = [\n          { favicon: '🔞', title: 'FBI WARNING' },\n          { favicon: '⭕️', title: 'FBI WARNING' },\n          // tltle: zero width character\n          { favicon: '🌝', title: '​' }\n        ]\n        isHidden ? runTitler(surprises[randomNumber(surprises.length - 1)]) : resetTitler()\n      },\n      false\n    )\n    // production only\n    if (isProd) {\n      consoleSlogan(i18n.t(LanguageKey.APP_SLOGAN)!, store.stores.meta.appOptions.data?.site_email)\n    }\n  })\n})\n"],"names":["languages","nodepress","hljs","_padStart","_capitalize","BezierEasing","_sfc_main","_hoisted_2","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","_normalizeStyle","_createBlock","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","ListItem","_withCtx","_toDisplayString","_Fragment","_hoisted_6","_TransitionGroup","_hoisted_15","tunnel","_hoisted_16","_hoisted_17","_hoisted_18","SwiperClass","Swiper","_hoisted_37","_hoisted_40","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_34","_hoisted_35","_Transition","_renderSlot","QRCode","qs","_hoisted_38","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_mergeProps","ANCHOR.COMMENT_ELEMENT_ID","ANCHOR.getCommentItemElementID","ANCHOR.COMMENT_PUBLISHER_ELEMENT_ID","ANCHOR.COMMENT_REPLY_PUBLISHER_ELEMENT_ID","ANCHOR","BaseShare","highlight","HeaderView","FooterView","AsideView","_Suspense","_resolveDynamicComponent","Emoji233333"],"mappings":"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"}